(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(this,function(t){"use strict";function e(t){return t&&t.__esModule?t["default"]:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e){var n,i=gs[e],r={},o=i.length;for(n=0;o>n;n++)r[i[n]]=t+"-"+i[n];return r}function r(t,e){var n,i,r,o="W",s={"fill-opacity":0},a="string"==typeof e?e:void 0;return n=t.append("text").text(o),a&&n.attr("class",a),n.style(s),i=window.getComputedStyle(n.node()),r={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r}function o(t,e,n,i){var o,s=r(n,e);return i.setStyle(s),o=i.getOriSize(t),{width:o.width,height:o.height}}function s(t,e,n){var i,r;for(i in t)if(r=t[i],void 0!==r&&null!==r)if(n){if(e[i])continue;e[i]=r}else"object"==typeof r?(void 0===e[i]&&(e[i]={}),s(r,e[i],n)):e[i]=r}function a(t,e){var n;for(n in e)t.style(n,e[n])}function u(t,e){var n;for(n in e)t.attr(n,e[n])}function h(t){return t&&t.nodeName&&"DIV"===t.nodeName.toUpperCase()?!0:!1}function l(t){return function(e,n){return _s(t(e),n)}}function c(){}function f(t,e){var n=new c;if(t instanceof c)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function p(){}function d(t,e){var n=new p;if(t instanceof p)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function g(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function _(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function m(){return new _}function y(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,u,h,l,c,f,p=t._root,d={data:i},g=t._x0,_=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((h=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(s=(_+y)/2))?_=s:y=s,r=p,!(p=p[c=l<<1|h]))return r[c]=d,t;if(a=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===a&&n===u)return d.next=p,r?r[c]=d:t._root=d,t;do r=r?r[c]=new Array(4):t._root=new Array(4),(h=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(s=(_+y)/2))?_=s:y=s;while((c=l<<1|h)===(f=(u>=s)<<1|a>=o));return r[f]=p,r[c]=d,t}function v(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),u=1/0,h=1/0,l=-(1/0),c=-(1/0);for(n=0;o>n;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,u>i&&(u=i),i>l&&(l=i),h>r&&(h=r),r>c&&(c=r));for(u>l&&(u=this._x0,l=this._x1),h>c&&(h=this._y0,c=this._y1),this.cover(u,h).cover(l,c),n=0;o>n;++n)y(this,s[n],a[n],t[n]);return this}function x(t){for(var e=0,n=t.length;n>e;++e)this.remove(t[e]);return this}function w(t){return t[0]}function b(t){return t[1]}function M(t,e,n){var i=new C(null==e?w:e,null==n?b:n,0/0,0/0,0/0,0/0);return null==t?i:i.addAll(t)}function C(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function S(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function T(t){if(!t._start)try{N(t)}catch(e){if(t._tasks[t._ended+t._active-1])k(t,e);else if(!t._data)throw e}}function N(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=A(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Ys)}}function A(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?k(t,n):(t._data[e]=i,t._waiting?T(t):E(t))))}}function k(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=0/0;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=0/0,E(t)}function E(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function L(t){this._context=t}function I(t){return t[0]}function D(t){return t[1]}function R(t){this._curve=t}function P(t){function e(e){return new R(t(e))}return e._curve=t,e}function H(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function B(t){this._context=t}function U(t,e){this._basis=new B(t),this._beta=e}function F(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function W(t,e){this._context=t,this._k=(1-e)/6}function O(t,e){this._context=t,this._k=(1-e)/6}function j(t,e){this._context=t,this._k=(1-e)/6}function z(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>Xs){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Xs){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*h+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*h+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function G(t,e){this._context=t,this._alpha=e}function q(t,e){this._context=t,this._alpha=e}function Y(t,e){this._context=t,this._alpha=e}function V(t){return 0>t?-1:1}function X(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||0>r&&-0),s=(n-t._y1)/(r||0>i&&-0),a=(o*r+s*i)/(i+r);return(V(o)+V(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function $(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Z(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function J(t){this._context=t}function K(t){this._context=new Q(t)}function Q(t){this._context=t}function tt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function et(){}function nt(t){var e;return t=(t+"").trim().toLowerCase(),(e=oa.exec(t))?(e=parseInt(e[1],16),new at(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=sa.exec(t))?it(parseInt(e[1],16)):(e=aa.exec(t))?new at(e[1],e[2],e[3],1):(e=ua.exec(t))?new at(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ha.exec(t))?rt(e[1],e[2],e[3],e[4]):(e=la.exec(t))?rt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ca.exec(t))?ut(e[1],e[2]/100,e[3]/100,1):(e=fa.exec(t))?ut(e[1],e[2]/100,e[3]/100,e[4]):pa.hasOwnProperty(t)?it(pa[t]):"transparent"===t?new at(0/0,0/0,0/0,0):null}function it(t){return new at(t>>16&255,t>>8&255,255&t,1)}function rt(t,e,n,i){return 0>=i&&(t=e=n=0/0),new at(t,e,n,i)}function ot(t){return t instanceof et||(t=nt(t)),t?(t=t.rgb(),new at(t.r,t.g,t.b,t.opacity)):new at}function st(t,e,n,i){return 1===arguments.length?ot(t):new at(t,e,n,null==i?1:i)}function at(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function ut(t,e,n,i){return 0>=i?t=e=n=0/0:0>=n||n>=1?t=e=0/0:0>=e&&(t=0/0),new ct(t,e,n,i)}function ht(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);if(t instanceof et||(t=nt(t)),!t)return new ct;if(t instanceof ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=0/0,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(i>n):n===o?(i-e)/a+2:(e-n)/a+4,a/=.5>u?o+r:2-o-r,s*=60):a=u>0&&1>u?0:s,new ct(s,a,u,t.opacity)}function lt(t,e,n,i){return 1===arguments.length?ht(t):new ct(t,e,n,null==i?1:i)}function ct(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ft(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function pt(t){if(t instanceof gt)return new gt(t.l,t.a,t.b,t.opacity);if(t instanceof bt){var e=t.h*da;return new gt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof at||(t=ot(t));var n=vt(t.r),i=vt(t.g),r=vt(t.b),o=_t((.4124564*n+.3575761*i+.1804375*r)/ma),s=_t((.2126729*n+.7151522*i+.072175*r)/ya),a=_t((.0193339*n+.119192*i+.9503041*r)/va);return new gt(116*s-16,500*(o-s),200*(s-a),t.opacity)}function dt(t,e,n,i){return 1===arguments.length?pt(t):new gt(t,e,n,null==i?1:i)}function gt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function _t(t){return t>Ma?Math.pow(t,1/3):t/ba+xa}function mt(t){return t>wa?t*t*t:ba*(t-xa)}function yt(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function vt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xt(t){if(t instanceof bt)return new bt(t.h,t.c,t.l,t.opacity);t instanceof gt||(t=pt(t));var e=Math.atan2(t.b,t.a)*ga;return new bt(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wt(t,e,n,i){return 1===arguments.length?xt(t):new bt(t,e,n,null==i?1:i)}function bt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Mt(t){if(t instanceof St)return new St(t.h,t.s,t.l,t.opacity);t instanceof at||(t=ot(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(La*i+ka*e-Ea*n)/(La+ka-Ea),o=i-r,s=(Aa*(n-r)-Ta*o)/Na,a=Math.sqrt(s*s+o*o)/(Aa*r*(1-r)),u=a?Math.atan2(s,o)*ga-120:0/0;return new St(0>u?u+360:u,a,r,t.opacity)}function Ct(t,e,n,i){return 1===arguments.length?Mt(t):new St(t,e,n,null==i?1:i)}function St(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Tt(t,e){return function(n){return t+n*e}}function Nt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function At(t,e){var n=e-t;return n?Tt(t,n>180||-180>n?n-360*Math.round(n/360):n):Ha(isNaN(t)?e:t)}function kt(t){return 1===(t=+t)?Et:function(e,n){return n-e?Nt(e,n,t):Ha(isNaN(e)?n:e)}}function Et(t,e){var n=e-t;return n?Tt(t,n):Ha(isNaN(t)?e:t)}function Lt(t){return function(){return t}}function It(t){return function(e){return t(e)+""}}function Dt(t){return"none"===t?Va:(Ia||(Ia=document.createElement("DIV"),Da=document.documentElement,Ra=document.defaultView),Ia.style.transform=t,t=Ra.getComputedStyle(Da.appendChild(Ia),null).getPropertyValue("transform"),Da.removeChild(Ia),t=t.slice(7,-1).split(","),Xa(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Rt(t){return null==t?Va:(Pa||(Pa=document.createElementNS("http://www.w3.org/2000/svg","g")),Pa.setAttribute("transform",t),(t=Pa.transform.baseVal.consolidate())?(t=t.matrix,Xa(t.a,t.b,t.c,t.d,t.e,t.f)):Va)}function Pt(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:Wa(t,r)},{i:u-2,x:Wa(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Wa(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Wa(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Wa(t,n)},{i:a-2,x:Wa(e,i)})}else(1!==n||1!==i)&&o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function Ht(t){return function e(n){function i(e,i){var r=t((e=Ct(e)).h,(i=Ct(i)).h),o=Et(e.s,i.s),s=Et(e.l,i.l),a=Et(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function Bt(){for(var t,e=0,n=arguments.length,i={};n>e;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Ut(i)}function Ut(t){this._=t}function Ft(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Wt(t,e){for(var n,i=0,r=t.length;r>i;++i)if((n=t[i]).name===e)return n.value}function Ot(t,e,n){for(var i=0,r=t.length;r>i;++i)if(t[i].name===e){t[i]=Ka,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function jt(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function zt(t,e){var n=jt(t);return function(i,r){return e(n(i),r,t)}}function Gt(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function qt(t){return function(e,n){t(null==e?n:null)}}function Yt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Vt(t,e){return function(n){return t(n.responseText,e)}}function Xt(){return du||(mu($t),du=_u.now()+gu)}function $t(){du=0}function Zt(){this._call=this._time=this._next=null}function Jt(t,e,n){var i=new Zt;return i.restart(t,e,n),i}function Kt(){Xt(),++hu;for(var t,e=au;e;)(t=du-e._time)>=0&&e._call.call(null,t),e=e._next;--hu}function Qt(){du=(pu=_u.now())+gu,hu=lu=0;try{Kt()}finally{hu=0,ee(),du=0}}function te(){var t=_u.now(),e=t-pu;e>fu&&(gu-=e,pu=t)}function ee(){for(var t,e,n=au,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:au=e);uu=t,ne(i)}function ne(t){if(!hu){lu&&(lu=clearTimeout(lu));var e=t-du;e>24?(1/0>t&&(lu=setTimeout(Qt,e)),cu&&(cu=clearInterval(cu))):(cu||(cu=setInterval(te,fu)),hu=1,mu(Qt))}}function ie(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return n-t>t-e?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(i>n&&o>0))return s;do s.push(new Date(+n));while(e(n,o),t(n),i>n);return s},r.filter=function(n){return ie(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return vu.setTime(+e),xu.setTime(+i),t(vu),t(xu),Math.floor(n(vu,xu))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}function re(t){return ie(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mu)/Tu})}function oe(t){return ie(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Tu})}function se(t){if(!(e=zu.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",s=!!e[5],a=e[6]&&+e[6],u=!!e[7],h=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):ju[l]||(l=""),(s||"0"===n&&"="===i)&&(s=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=s,this.width=a,this.comma=u,this.precision=h,this.type=l}function ae(t){return t}function ue(t){return qu=$u(t),Yu=qu.format,Vu=qu.formatPrefix,qu}function he(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function le(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ce(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function fe(t){function e(t,e){return function(n){var i,r,o,s=[],a=-1,u=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++a<h;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(r=eh[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function n(t,e){return function(n){var r=ce(1900),o=i(r,t,n+="",0);if(o!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var s="Z"in r?le(ce(r.y)).getUTCDay():e(ce(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(s+5)%7:r.w+7*r.U-(s+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,le(r)):e(r)}}function i(t,e,n,i){for(var r,o,s=0,a=e.length,u=n.length;a>s;){if(i>=u)return-1;if(r=e.charCodeAt(s++),37===r){if(r=e.charAt(s++),o=j[r in eh?e.charAt(s++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=E.exec(e.slice(n));return i?(t.p=L[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=R.exec(e.slice(n));return i?(t.w=P[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=I.exec(e.slice(n));return i?(t.w=D[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=U.exec(e.slice(n));return i?(t.m=F[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=H.exec(e.slice(n));return i?(t.m=B[i[0].toLowerCase()],n+i[0].length):-1}function h(t,e,n){return i(t,b,e,n)}function l(t,e,n){return i(t,M,e,n)}function c(t,e,n){return i(t,C,e,n)}function f(t){return N[t.getDay()]}function p(t){return T[t.getDay()]}function d(t){return k[t.getMonth()]}function g(t){return A[t.getMonth()]}function _(t){return S[+(t.getHours()>=12)]}function m(t){return N[t.getUTCDay()]}function y(t){return T[t.getUTCDay()]}function v(t){return k[t.getUTCMonth()]}function x(t){return A[t.getUTCMonth()]}function w(t){return S[+(t.getUTCHours()>=12)]}var b=t.dateTime,M=t.date,C=t.time,S=t.periods,T=t.days,N=t.shortDays,A=t.months,k=t.shortMonths,E=ge(S),L=_e(S),I=ge(T),D=_e(T),R=ge(N),P=_e(N),H=ge(A),B=_e(A),U=ge(k),F=_e(k),W={a:f,A:p,b:d,B:g,c:null,d:Le,e:Le,H:Ie,I:De,j:Re,L:Pe,m:He,M:Be,p:_,S:Ue,U:Fe,w:We,W:Oe,x:null,X:null,y:je,Y:ze,Z:Ge,"%":sn},O={a:m,A:y,b:v,B:x,c:null,d:qe,e:qe,H:Ye,I:Ve,j:Xe,L:$e,m:Ze,M:Je,p:w,S:Ke,U:Qe,w:tn,W:en,x:null,X:null,y:nn,Y:rn,Z:on,"%":sn},j={a:o,A:s,b:a,B:u,c:h,d:Ce,e:Ce,H:Te,I:Te,j:Se,L:ke,m:Me,M:Ne,p:r,S:Ae,U:ye,w:me,W:ve,x:l,X:c,y:we,Y:xe,Z:be,"%":Ee};return W.x=e(M,W),W.X=e(C,W),W.c=e(b,W),O.x=e(M,O),O.X=e(C,O),O.c=e(b,O),{format:function(t){var n=e(t+="",W);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",he);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",O);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,le);return e.toString=function(){return t},e}}}function pe(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function de(t){return t.replace(rh,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(de).join("|")+")","i")}function _e(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function me(t,e,n){var i=nh.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function ye(t,e,n){var i=nh.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function ve(t,e,n){var i=nh.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function xe(t,e,n){var i=nh.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function we(t,e,n){var i=nh.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function be(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Me(t,e,n){var i=nh.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Ce(t,e,n){var i=nh.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Se(t,e,n){var i=nh.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Te(t,e,n){var i=nh.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Ne(t,e,n){var i=nh.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Ae(t,e,n){var i=nh.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ke(t,e,n){var i=nh.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Ee(t,e,n){var i=ih.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Le(t,e){return pe(t.getDate(),e,2)}function Ie(t,e){return pe(t.getHours(),e,2)}function De(t,e){return pe(t.getHours()%12||12,e,2)}function Re(t,e){return pe(1+Nu.count(Eu(t),t),e,3)}function Pe(t,e){return pe(t.getMilliseconds(),e,3)}function He(t,e){return pe(t.getMonth()+1,e,2)}function Be(t,e){return pe(t.getMinutes(),e,2)}function Ue(t,e){return pe(t.getSeconds(),e,2)}function Fe(t,e){return pe(Au.count(Eu(t),t),e,2)}function We(t){return t.getDay()}function Oe(t,e){return pe(ku.count(Eu(t),t),e,2)}function je(t,e){return pe(t.getFullYear()%100,e,2)}function ze(t,e){return pe(t.getFullYear()%1e4,e,4)}function Ge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pe(e/60|0,"0",2)+pe(e%60,"0",2)}function qe(t,e){return pe(t.getUTCDate(),e,2)}function Ye(t,e){return pe(t.getUTCHours(),e,2)}function Ve(t,e){return pe(t.getUTCHours()%12||12,e,2)}function Xe(t,e){return pe(1+Lu.count(Ru(t),t),e,3)}function $e(t,e){return pe(t.getUTCMilliseconds(),e,3)}function Ze(t,e){return pe(t.getUTCMonth()+1,e,2)}function Je(t,e){return pe(t.getUTCMinutes(),e,2)}function Ke(t,e){return pe(t.getUTCSeconds(),e,2)}function Qe(t,e){return pe(Iu.count(Ru(t),t),e,2)}function tn(t){return t.getUTCDay()}function en(t,e){return pe(Du.count(Ru(t),t),e,2)}function nn(t,e){return pe(t.getUTCFullYear()%100,e,2)}function rn(t,e){return pe(t.getUTCFullYear()%1e4,e,4)}function on(){return"+0000"}function sn(){return"%"}function an(t){return Zu=fe(t),Ju=Zu.format,Ku=Zu.parse,Qu=Zu.utcFormat,th=Zu.utcParse,Zu}function un(t){return t.toISOString()}function hn(t){var e=new Date(t);return isNaN(e)?null:e}function ln(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===uh&&e.documentElement.namespaceURI===uh?e.createElement(t):e.createElementNS(n,t)}}function cn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fn(t,e,n){return t=pn(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function pn(t,e,n){return function(i){var r=mh;mh=i;try{t.call(this,this.__data__,e,n)}finally{mh=r}}}function dn(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function gn(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function _n(t,e,n){var i=_h.hasOwnProperty(t.type)?fn:pn;return function(r,o,s){var a,u=this.__on,h=i(e,o,s);if(u)for(var l=0,c=u.length;c>l;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=h,a.capture=n),void(a.value=e);this.addEventListener(t.type,h,n),a={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(a):this.__on=[a]}}function mn(){}function yn(){return[]}function vn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function xn(t,e,n,i,r,o){for(var s,a=0,u=e.length,h=o.length;h>a;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new vn(t,o[a]);for(;u>a;++a)(s=e[a])&&(r[a]=s)}function wn(t,e,n,i,r,o,s){var a,u,h,l={},c=e.length,f=o.length,p=new Array(c);for(a=0;c>a;++a)(u=e[a])&&(p[a]=h=Eh+s.call(u,u.__data__,a,e),h in l?r[a]=u:l[h]=u);for(a=0;f>a;++a)h=Eh+s.call(t,o[a],a,o),(u=l[h])?(i[a]=u,u.__data__=o[a],l[h]=null):n[a]=new vn(t,o[a]);for(a=0;c>a;++a)(u=e[a])&&l[p[a]]===u&&(r[a]=u)}function bn(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function Mn(t){return function(){this.removeAttribute(t)}}function Cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sn(t,e){return function(){this.setAttribute(t,e)}}function Tn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function An(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function kn(t){return function(){this.style.removeProperty(t)}}function En(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ln(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function In(t){return function(){delete this[t]}}function Dn(t,e){return function(){this[t]=e}}function Rn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Pn(t){return t.trim().split(/^|\s+/)}function Hn(t){return t.classList||new Bn(t)}function Bn(t){this._node=t,this._names=Pn(t.getAttribute("class")||"")}function Un(t,e){for(var n=Hn(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Fn(t,e){for(var n=Hn(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Wn(t){return function(){Un(this,t)}}function On(t){return function(){Fn(this,t)}}function jn(t,e){return function(){(e.apply(this,arguments)?Un:Fn)(this,t)}}function zn(){this.textContent=""}function Gn(t){return function(){this.textContent=t}}function qn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Yn(){this.innerHTML=""}function Vn(t){return function(){this.innerHTML=t}}function Xn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function $n(){this.nextSibling&&this.parentNode.appendChild(this)}function Zn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jn(){return null}function Kn(){var t=this.parentNode;t&&t.removeChild(this)}function Qn(t,e,n){var i=zh(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ti(t,e){return function(){return Qn(this,t,e)}}function ei(t,e){return function(){return Qn(this,t,e.apply(this,arguments))}}function ni(t,e){this._groups=t,this._parents=e}function ii(){return new ni([[document.documentElement]],nl)}function ri(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>sl)throw new Error("too late");return n}function oi(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>ul)throw new Error("too late");return n}function si(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function ai(t,e,n){function i(t){n.state=al,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var h,l,c,f;if(n.state!==al)return s();for(h in u)if(f=u[h],f.name===n.name){if(f.state===hl)return yu(r);f.state===ll?(f.state=fl,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete u[h]):e>+h&&(f.state=fl,f.timer.stop(),delete u[h])}if(yu(function(){n.state===hl&&(n.state=ll,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=ul,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ul){for(n.state=hl,a=new Array(c=n.tween.length),h=0,l=-1;c>h;++h)(f=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(a[++l]=f);a.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=cl,1),r=-1,o=a.length;++r<o;)a[r].call(null,i);n.state===cl&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=fl,n.timer.stop(),delete u[e];for(var i in u)return;delete t.__transition}var a,u=t.__transition;u[e]=n,n.timer=Jt(i,0,n.time)}function ui(t,e){var n,i;return function(){var r=oi(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;a>s;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function hi(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=oi(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,h=r.length;h>u;++u)if(r[u].name===e){r[u]=a;break}u===h&&r.push(a)}o.tween=r}}function li(t,e,n){var i=t._id;return t.each(function(){var t=oi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return si(t,i).value[e]}}function ci(t){return function(){this.removeAttribute(t)}}function fi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pi(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function di(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function gi(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function _i(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function mi(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function yi(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function vi(t,e){return function(){ri(this,t).delay=+e.apply(this,arguments)}}function xi(t,e){return e=+e,function(){ri(this,t).delay=e}}function wi(t,e){return function(){oi(this,t).duration=+e.apply(this,arguments)}}function bi(t,e){return e=+e,function(){oi(this,t).duration=e}}function Mi(t,e){if("function"!=typeof e)throw new Error;return function(){oi(this,t).ease=e}}function Ci(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function Si(t,e,n){var i,r,o=Ci(e)?ri:oi;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function Ti(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ni(t,e){var n,i,r;return function(){var o=zh(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}function Ai(t){return function(){this.style.removeProperty(t)}}function ki(t,e,n){var i,r;return function(){var o=zh(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Ei(t,e,n){var i,r,o;return function(){var s=zh(this).getComputedStyle(this,null),a=s.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=s.getPropertyValue(t)),a===u?null:a===i&&u===r?o:o=e(i=a,r=u)}}function Li(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Ii(t){return function(){this.textContent=t}}function Di(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Ri(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Pi(t){return ii().transition(t)}function Hi(){return++Pl}function Bi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Bl.time=Xt(),Bl;return n}function Ui(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function Fi(t,e){var n,i,r,o,s,a=new Gi(t),u=+t.value&&(a.value=t.value),h=[a];for(null==e&&(e=Oi);n=h.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)h.push(i=n.children[o]=new Gi(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(zi)}function Wi(){return Fi(this).eachBefore(ji)}function Oi(t){return t.children}function ji(t){t.data=t.data.data}function zi(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Gi(t){this.data=t,this.depth=this.height=0,this.parent=null}function qi(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Yi(t,e,n,i,r,o){for(var s,a,u,h,l,c,f,p,d,g,_,m=[],y=e.children,v=0,x=0,w=y.length,b=e.value;w>v;){u=r-n,h=o-i;do l=y[x++].value;while(!l&&w>x);for(c=f=l,g=Math.max(h/u,u/h)/(b*t),_=l*l*g,d=Math.max(f/_,_/c);w>x;++x){if(l+=a=y[x].value,c>a&&(c=a),a>f&&(f=a),_=l*l*g,p=Math.max(f/_,_/c),p>d){l-=a;break}d=p}m.push(s={value:l,dice:h>u,children:y.slice(v,x)}),s.dice?$l(s,n,i,r,b?i+=h*l/b:o):Zl(s,n,i,b?n+=u*l/b:r,o),b-=l,v=x}return m}function Vi(t,e,n,i,r,o,s,a,u,h){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,
this.x=o,this.y=s,this.dx=a,this.dy=u,this._=h}function Xi(){this._=null}function $i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Zi(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ji(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Ki(t){for(;t.L;)t=t.L;return t}function Qi(t,e,n,i){var r=[null,null],o=nc.push(r)-1;return r.left=t,r.right=e,n&&er(r,t,e,n),i&&er(r,e,t,i),tc[t.index].halfedges.push(o),tc[e.index].halfedges.push(o),r}function tr(t,e,n){var i=[e,n];return i.left=t,i}function er(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function nr(t,e,n,i,r){var o,s=t[0],a=t[1],u=s[0],h=s[1],l=a[0],c=a[1],f=0,p=1,d=l-u,g=c-h;if(o=e-u,d||!(o>0)){if(o/=d,0>d){if(f>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>f&&(f=o)}if(o=i-u,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>f&&(f=o)}else if(d>0){if(f>o)return;p>o&&(p=o)}if(o=n-h,g||!(o>0)){if(o/=g,0>g){if(f>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>f&&(f=o)}if(o=r-h,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>f&&(f=o)}else if(g>0){if(f>o)return;p>o&&(p=o)}return f>0||1>p?(f>0&&(t[0]=[u+f*d,h+f*g]),1>p&&(t[1]=[u+p*d,h+p*g]),!0):!0}}}}}function ir(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,u=t[0],h=t.left,l=t.right,c=h[0],f=h[1],p=l[0],d=l[1],g=(c+p)/2,_=(f+d)/2;if(d===f){if(e>g||g>=i)return;if(c>p){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(s=(c-p)/(d-f),a=_-s*g,-1>s||s>1)if(c>p){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(d>f){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function rr(t,e,n,i){for(var r,o=nc.length;o--;)ir(r=nc[o],t,e,n,i)&&nr(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>oc||Math.abs(r[0][1]-r[1][1])>oc)||delete nc[o]}function or(t){return tc[t.index]={site:t,halfedges:[]}}function sr(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function ar(t,e){return e[+(e.left!==t.site)]}function ur(t,e){return e[+(e.left===t.site)]}function hr(){for(var t,e,n,i,r=0,o=tc.length;o>r;++r)if((t=tc[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;i>n;++n)s[n]=n,a[n]=sr(t,nc[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;i>n;++n)a[n]=e[s[n]];for(n=0;i>n;++n)e[n]=a[n]}}function lr(t,e,n,i){var r,o,s,a,u,h,l,c,f,p,d,g,_=tc.length,m=!0;for(r=0;_>r;++r)if(o=tc[r]){for(s=o.site,u=o.halfedges,a=u.length;a--;)nc[u[a]]||u.splice(a,1);for(a=0,h=u.length;h>a;)p=ur(o,nc[u[a]]),d=p[0],g=p[1],l=ar(o,nc[u[++a%h]]),c=l[0],f=l[1],(Math.abs(d-c)>oc||Math.abs(g-f)>oc)&&(u.splice(a,0,nc.push(tr(s,p,Math.abs(d-t)<oc&&i-g>oc?[t,Math.abs(c-t)<oc?f:i]:Math.abs(g-i)<oc&&n-d>oc?[Math.abs(f-i)<oc?c:n,i]:Math.abs(d-n)<oc&&g-e>oc?[n,Math.abs(c-n)<oc?f:e]:Math.abs(g-e)<oc&&d-t>oc?[Math.abs(f-e)<oc?c:t,e]:null))-1),++h);h&&(m=!1)}if(m){var y,v,x,w=1/0;for(r=0,m=null;_>r;++r)(o=tc[r])&&(s=o.site,y=s[0]-t,v=s[1]-e,x=y*y+v*v,w>x&&(w=x,m=o));if(m){var b=[t,e],M=[t,i],C=[n,i],S=[n,e];m.halfedges.push(nc.push(tr(s=m.site,b,M))-1,nc.push(tr(s,M,C))-1,nc.push(tr(s,C,S))-1,nc.push(tr(s,S,b))-1)}}for(r=0;_>r;++r)(o=tc[r])&&(o.halfedges.length||delete tc[r])}function cr(){$i(this),this.x=this.y=this.arc=this.site=this.cy=null}function fr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],u=i[0]-s,h=i[1]-a,l=o[0]-s,c=o[1]-a,f=2*(u*c-h*l);if(!(f>=-sc)){var p=u*u+h*h,d=l*l+c*c,g=(c*p-h*d)/f,_=(u*d-l*p)/f,m=ic.pop()||new cr;m.arc=t,m.site=r,m.x=g+s,m.y=(m.cy=_+a)+Math.sqrt(g*g+_*_),t.circle=m;for(var y=null,v=ec._;v;)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}ec.insert(y,m),y||(Kl=m)}}}}function pr(t){var e=t.circle;e&&(e.P||(Kl=e.N),ec.remove(e),ic.push(e),$i(e),t.circle=null)}function dr(){$i(this),this.edge=this.site=this.circle=null}function gr(t){var e=rc.pop()||new dr;return e.site=t,e}function _r(t){pr(t),Ql.remove(t),rc.push(t),$i(t)}function mr(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];_r(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<oc&&Math.abs(i-u.circle.cy)<oc;)o=u.P,a.unshift(u),_r(u),u=o;a.unshift(u),pr(u);for(var h=s;h.circle&&Math.abs(n-h.circle.x)<oc&&Math.abs(i-h.circle.cy)<oc;)s=h.N,a.push(h),_r(h),h=s;a.push(h),pr(h);var l,c=a.length;for(l=1;c>l;++l)h=a[l],u=a[l-1],er(h.edge,u.site,h.site,r);u=a[0],h=a[c-1],h.edge=Qi(u.site,h.site,null,r),fr(u),fr(h)}function yr(t){for(var e,n,i,r,o=t[0],s=t[1],a=Ql._;a;)if(i=vr(a,s)-o,i>oc)a=a.L;else{if(r=o-xr(a,s),!(r>oc)){i>-oc?(e=a.P,n=a):r>-oc?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}or(t);var u=gr(t);if(Ql.insert(e,u),e||n){if(e===n)return pr(e),n=gr(e.site),Ql.insert(u,n),u.edge=n.edge=Qi(e.site,u.site),fr(e),void fr(n);if(!n)return void(u.edge=Qi(e.site,u.site));pr(e),pr(n);var h=e.site,l=h[0],c=h[1],f=t[0]-l,p=t[1]-c,d=n.site,g=d[0]-l,_=d[1]-c,m=2*(f*_-p*g),y=f*f+p*p,v=g*g+_*_,x=[(_*y-p*v)/m+l,(f*v-g*y)/m+c];er(n.edge,h,d,x),u.edge=Qi(h,t,null,x),n.edge=Qi(t,d,null,x),fr(e),fr(n)}}function vr(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-(1/0);n=s.site;var a=n[0],u=n[1],h=u-e;if(!h)return a;var l=a-i,c=1/o-1/h,f=l/h;return c?(-f+Math.sqrt(f*f-2*c*(l*l/(-2*h)-u+h/2+r-o/2)))/c+i:(i+a)/2}function xr(t,e){var n=t.N;if(n)return vr(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function wr(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function br(t,e){return e[1]-t[1]||e[0]-t[0]}function Mr(t,e){var n,i,r,o=t.sort(br).pop();for(nc=[],tc=new Array(t.length),Ql=new Xi,ec=new Xi;;)if(r=Kl,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))(o[0]!==n||o[1]!==i)&&(yr(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;mr(r.arc)}if(hr(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],h=+e[1][1];rr(s,a,u,h),lr(s,a,u,h)}this.edges=nc,this.cells=tc,Ql=ec=nc=tc=null}function Cr(t,e,n){this.k=t,this.x=e,this.y=n}function Sr(t){return{type:t}}function Tr(){this.reset()}function Nr(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Ar(t){return t>1?0:-1>t?lc:Math.acos(t)}function kr(t){return t>1?cc:-1>t?-cc:Math.asin(t)}function Er(){}function Lr(t){var e=t[0],n=t[1],i=yc(n);return[i*yc(e),i*wc(e),wc(n)]}function Ir(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Dr(t){var e=bc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Rr(t,e){return[t>lc?t-pc:-lc>t?t+pc:t,e]}function Pr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Hr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Br(t){this._context=t}function Ur(){this._string=[]}function Fr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Wr(t){return t.length>1}function Or(t,e){return((t=t.x)[0]<0?t[1]-cc-hc:cc-t[1])-((e=e.x)[0]<0?e[1]-cc-hc:cc-e[1])}function jr(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?lc:-lc,u=gc(o-n);gc(u-lc)<hc?(t.point(n,i=(i+s)/2>0?cc:-cc),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&u>=lc&&(gc(n-r)<hc&&(n-=r*hc),gc(o-a)<hc&&(o-=a*hc),i=zr(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function zr(t,e,n,i){var r,o,s=wc(t-n);return gc(s)>hc?_c((wc(e)*(o=yc(i))*wc(n)-wc(i)*(r=yc(e))*wc(t))/(r*o*s)):(e+i)/2}function Gr(t,e,n,i){var r;if(null==t)r=n*cc,i.point(-lc,r),i.point(0,r),i.point(lc,r),i.point(lc,0),i.point(lc,-r),i.point(0,-r),i.point(-lc,-r),i.point(-lc,0),i.point(-lc,r);else if(gc(t[0]-e[0])>hc){var o=t[0]<e[0]?lc:-lc;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function qr(t){return function(e){var n=new Yr;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Yr(){}function Vr(t){return function(e,n){var i=yc(e),r=yc(n),o=t(i*r);return[o*r*wc(e),o*wc(n)]}}function Xr(t){return function(e,n){var i=bc(e*e+n*n),r=t(i),o=wc(r),s=yc(r);return[mc(e*o,i*s),kr(i&&n*o/i)]}}function $r(t,e){return[xc(Mc((cc+e)/2)),-t]}function Zr(){return Hc.smartLabel||(Hc.smartLabel=new ds((new Date).getTime()))}function Jr(t){this.groupId=t,this.listItems=[],this.hideFnIds=[]}function Kr(t){var e=t.append("div");this.groupId="dropDownMenu-"+(new Date).getTime(),this.parentContainer=e,this.listItems=[],this.config={}}function Qr(t){return new Kr(t)}function to(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Fc&&e.documentElement.namespaceURI===Fc?e.createElement(t):e.createElementNS(n,t)}}function eo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function no(){return new io}function io(){this._="@"+(++zc).toString(36)}function ro(t,e,n){return t=oo(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function oo(t,e,n){return function(i){var r=$c;$c=i;try{t.call(this,this.__data__,e,n)}finally{$c=r}}}function so(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function ao(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function uo(t,e,n){var i=Xc.hasOwnProperty(t.type)?ro:oo;return function(r,o,s){var a,u=this.__on,h=i(e,o,s);if(u)for(var l=0,c=u.length;c>l;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=h,a.capture=n),void(a.value=e);this.addEventListener(t.type,h,n),a={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(a):this.__on=[a]}}function ho(t,e,n,i){var r=$c;t.sourceEvent=$c,$c=t;try{return e.apply(n,i)}finally{$c=r}}function lo(){}function co(){return[]}function fo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function po(t,e,n,i,r,o){for(var s,a=0,u=e.length,h=o.length;h>a;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new fo(t,o[a]);for(;u>a;++a)(s=e[a])&&(r[a]=s)}function go(t,e,n,i,r,o,s){var a,u,h,l={},c=e.length,f=o.length,p=new Array(c);for(a=0;c>a;++a)(u=e[a])&&(p[a]=h=lf+s.call(u,u.__data__,a,e),h in l?r[a]=u:l[h]=u);for(a=0;f>a;++a)h=lf+s.call(t,o[a],a,o),(u=l[h])?(i[a]=u,u.__data__=o[a],l[h]=null):n[a]=new fo(t,o[a]);for(a=0;c>a;++a)(u=e[a])&&l[p[a]]===u&&(r[a]=u)}function _o(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function mo(t){return function(){this.removeAttribute(t)}}function yo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vo(t,e){return function(){this.setAttribute(t,e)}}function xo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mo(t){return function(){this.style.removeProperty(t)}}function Co(t,e,n){return function(){this.style.setProperty(t,e,n)}}function So(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function To(t){return function(){delete this[t]}}function No(t,e){return function(){this[t]=e}}function Ao(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ko(t){return t.trim().split(/^|\s+/)}function Eo(t){return t.classList||new Lo(t)}function Lo(t){this._node=t,this._names=ko(t.getAttribute("class")||"")}function Io(t,e){for(var n=Eo(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Do(t,e){for(var n=Eo(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Ro(t){return function(){Io(this,t)}}function Po(t){return function(){Do(this,t)}}function Ho(t,e){return function(){(e.apply(this,arguments)?Io:Do)(this,t)}}function Bo(){this.textContent=""}function Uo(t){return function(){this.textContent=t}}function Fo(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Wo(){this.innerHTML=""}function Oo(t){return function(){this.innerHTML=t}}function jo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function zo(){this.nextSibling&&this.parentNode.appendChild(this)}function Go(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qo(){return null}function Yo(){var t=this.parentNode;t&&t.removeChild(this)}function Vo(t,e,n){var i=Mf(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Xo(t,e){return function(){return Vo(this,t,e)}}function $o(t,e){return function(){return Vo(this,t,e.apply(this,arguments))}}function Zo(t,e){this._groups=t,this._parents=e}function Jo(){return new Zo([[document.documentElement]],Hf)}function Ko(){return Yf.smartLabel||(Yf.smartLabel=new ds((new Date).getTime()))}function Qo(t){this.symbol=t,this.config={className:"d3-button",specificClassName:"d3-button",states:{hover:{className:"d3-button-state-hover"},selected:{className:"d3-button-state-selected"},disabled:{className:"d3-button-state-disabled"}},padding:{top:4,right:4,bottom:4,left:4},radius:1,margin:{top:0,right:5,left:5,bottom:0},animation:{duration:1e3}},this.elements={}}function ts(){Qo.apply(this,arguments),this.setConfig({className:"d3-inputbutton",specificClassName:"d3-inputbutton",states:{hover:{className:"d3-inputbutton-state-hover"},selected:{className:"d3-inputbutton-state-selected"},disabled:{className:"d3-inputbutton-state-disabled"}},padding:{left:10}})}function es(t){return new Qo(t)}function ns(t){return new ts(t)}function is(t){this.options=t,Qo.apply(this,arguments),this.setConfig({className:"d3-selectbutton",states:{hover:{className:"d3-selectbutton-state-hover"},selected:{className:"d3-selectbutton-state-selected"}},dropDownMenu:qf()})}function rs(t,e){Qo.apply(this,arguments),this.dropDownMenu=new Qr(il(e)),this.setConfig({dropDownMenu:qf()}),this.dropDownMenu.setConfig(this.config.dropDownMenu)}function os(t,e){return new rs(t,e)}function ss(t){return new is(t)}function as(t){var e=this.config;e=this.config={className:"d3-dialog-box",style:{width:"auto",height:"auto",display:"inline-block",position:"absolute",left:"0px",top:"0px"}},this.parentContainer=t,this.components=[]}function us(t){var e,n={};for(e=0;e<t.length;e++)n[t[e].type]=n[t[e].type]||(n[t[e].type]=[]),n[t[e].type].push(t[e]);return n}function hs(t){return new as(t)}var ls="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},cs=n(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",s=Math.ceil,a=Math.floor,u=0,h="fusioncharts-smartlabel-",l=h+"container",c=h+"tag",f=h+"br";return n={win:t,containerClass:l,classNameWithTag:c,classNameWithTagBR:f,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+c+"\b"),classNameBrReg:new RegExp("\b"+f+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+c+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+c+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=c,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),u+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,u=0,h=r(t),l=h/t.length;if(i=e,o=s(e/l),e>h)return t.length-1;for(o>t.length&&(i=e-h,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),u=a(i/l),!u)return o;o+=u}for(;0>i;){if(i=e-r(t.substr(0,o)),u=a(i/l),!u)return o;o+=u}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e["default"]=n,t.exports=e["default"]}),fs=n(function(t){function e(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,n){var i;n=n>5?n:5,n=20>n?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=s.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=cs,r=e(i),o=r["default"].init("undefined"!=typeof window?window:void 0),s=o.win.document,a=o.getDocumentSupport(),u=a.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,s=this.length,a=this.maxContainers,u="";for(n in o.supportedStyle)void 0!==t[n]&&(u+=o.supportedStyle[n]+":"+t[n]+";");if(!u)return!1;if(i=r[u])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(s>=a)for(e=s-a+1;e--;)this.removeContainer(this.last);i=this.addContainer(u)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=s.createElement("div"),this.rootNode.appendChild(e),a.isIE&&!a.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,a.isBrowserLess?(e=n.svgText=s.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-u)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-u,e.textContent=".",n.dotWidth=e.getBBox().width-u):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),ps=n(function(t,e){function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){var o,s,l,c,f=!1,p=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(c=p[t])&&c.dispose(),p[t]=this,r=r||{},r.maxCacheLimit=isFinite(l=r.maxCacheLimit)?l:u.maxDefaultCacheLimit,"string"==typeof e&&(e=h.getElementById(e)),o=u.createContainer(e),o.innerHTML=u.testStrAvg,(g.isHeadLess||!g.isIE&&!o.offsetHeight&&!o.offsetWidth)&&(f=!0),o.innerHTML="";for(s in u.parentContainerStyle)o.style[s]=u.parentContainerStyle[s];this.id=t,this.parentContainer=o,this._containerManager=new a["default"](o,f,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=cs,o=n(r),s=fs,a=n(s),u=o["default"].init("undefined"!=typeof window?window:void 0),h=u.win.document,l=u.win.Math,c=l.max,f=l.round,p="",d={" ":"&nbsp;"},g=u.getDocumentSupport(),_=g.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,s,a,u,h=this.options.maxCacheLimit,l=this._container,c=this.style||{},f=this._advancedCache||(this._advancedCache={}),g=this._advancedCacheKey||(this._advancedCacheKey=[]),_=t+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p),m=t+"init"+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p);return d[t]&&(t=d[t]),e?void 0===(u=f[m])&&(l.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=l.offsetWidth,l.innerHTML=t,s=l.offsetWidth,u=f[m]=(o-n*s)/(n+1),g.push(m),g.length>h&&delete f[g.shift()]):u=0,(a=f[_])?(r=a.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(l.innerHTML=t,i={height:l.offsetHeight,width:l.offsetWidth+u},f[_]=i.width+","+i.height,g.push(_),g.length>h&&delete f[g.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-_,1>i&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),u.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,s,a,l,f,p,d,_,m,y,v,x,w,b,M,C,S,T,N,A,k,E,L,I,D,R=!1,P=0,H=-1,B=-1,U=-1,F=0,W=0,O=[],j=0,z=this._showNoEllipses?"":"...",G=this._lineHeight,q=this._context,Y=this._container,V=this._containerObj,X=V.ellipsesWidth,$=V.dotWidth,Z=[],J=-1,K=-1,Q=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(v=this._getWidthFn(),n===G&&(n*=1.2),Y){if(!g.isBrowserLess){if(R=u.xmlTagRegEx.test(t),R?(Y.innerHTML=t,et.oriTextWidth=p=Y.offsetWidth,et.oriTextHeight=d=Y.offsetHeight):(a=t.replace(u.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),b=this.getOriSize(a,!0),et.oriTextWidth=p=b.width,et.oriTextHeight=d=b.height),n>=d&&e>=p)return et.width=et.oriTextWidth=p,et.height=et.oriTextHeight=d,et;if(G>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),l=this._showNoEllipses?e:e-X,!R){if(O=t.split(""),r=O.length,o="",s=[],y=O[0],this._cache[y]?T=this._cache[y].width:(T=v(y),this._cache[y]={width:T}),l>T)s=t.substr(0,u.getNearestBreakIndex(t,l,this)).split(""),j=s.length;else{if(T>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;z&&(l=e-2*$,l>T?z="..":(l=e-$,l>T?z=".":(l=0,z="")))}if(F=v(s.join("")),W=this._lineHeight,i){for(;r>j;j+=1)if(y=s[j]=O[j],this._cache[y]?T=this._cache[y].width:(b&&(T=b.detailObj[y])||(T=v(y)),this._cache[y]={width:T}),F+=T,F>l&&(o||(o=s.slice(0,-1).join("")),F>e))return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=v(et.text),et.height=this._lineHeight,et;return et.text=s.join(""),et.width=F,et.height=this._lineHeight,et}for(;r>j;j+=1)if(y=s[j]=O[j]," "!==y||q||(y="&nbsp;"),this._cache[y]?T=this._cache[y].width:(b&&(T=b.detailObj[y])||(T=v(y)),this._cache[y]={width:T}),F+=T,F>l&&(o||(o=s.slice(0,-1).join("")),F>e)){if(B=t.substr(0,s.length).lastIndexOf(" "),H=t.substr(0,s.length).lastIndexOf("-"),B>U?(F=v(s.slice(U+1,B).join("")),s.splice(B,1,"<br/>"),U=B,_=B+1):H>U?(H===s.length-1?(F=v(s.slice(U+1,B).join("")),s.splice(H,1,"<br/>-")):(F=v(s.slice(U+1,B).join("")),s.splice(H,1,"-<br/>")),U=H,_=H+1):(s.splice(s.length-1,1,"<br/>"+O[j]),Q=s.length-2,F=v(s.slice(U+1,Q+1).join("")),U=Q,_=j),W+=this._lineHeight,W>n)return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=e,et.height=W-this._lineHeight,et;P=c(P,F),o=null,m=u.getNearestBreakIndex(t.substr(_),l,this),F=v(t.substr(_,m||1)),s.length<_+m&&(s=s.concat(t.substr(s.length,_+m-s.length).split("")),j=s.length-1)}return P=c(P,F),et.text=s.join(""),et.width=P,et.height=W,et}for(f=t.replace(u.spanAdditionRegx,"$2"),t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),Y.innerHTML=t,M=Y[g.childRetriverFn](g.childRetriverString),C=0,S=M.length;S>C;C+=1)N=M[C],(g.noClassTesting||u.classNameReg.test(N.className))&&(A=N.innerHTML,""!==A&&(" "===A?K=Z.length:"-"===A&&(J=Z.length),Z.push({spaceIdx:K,dashIdx:J,elem:N}),O.push(A)));if(j=0,r=Z.length,T=Z[0].elem.offsetWidth,T>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(T>l&&!this._showNoEllipses&&(l=e-2*$,l>T?z="..":(l=e-$,l>T?z=".":(l=0,z=""))),x=Z[0].elem.offsetLeft,w=Z[0].elem.offsetTop,i)for(;r>j;j+=1)N=Z[j].elem,k=N.offsetLeft-x+N.offsetWidth,k>l&&(D||(D=j),Y.offsetWidth>e&&(I=j,j=r));else for(;r>j;j+=1)N=Z[j].elem,E=N.offsetHeight+(N.offsetTop-w),k=N.offsetLeft-x+N.offsetWidth,L=null,k>l?(D||(D=j),k>e&&(B=Z[j].spaceIdx,H=Z[j].dashIdx,B>U?(Z[B].elem.innerHTML="<br/>",U=B):H>U?(Z[H].elem.innerHTML=H===j?"<br/>-":"-<br/>",U=H):N.parentNode.insertBefore(L=h.createElement("br"),N),N.offsetHeight+N.offsetTop>n?(L?L.parentNode.removeChild(L):U===H?Z[H].elem.innerHTML="-":Z[B].elem.innerHTML=" ",I=j,j=r):D=null)):E>n&&(I=j,j=r);if(r>I){for(et.isTruncated=!0,D=D?D:I,j=r-1;j>=D;j-=1)N=Z[j].elem,N.parentNode.removeChild(N);for(;j>=0;j-=1)N=Z[j].elem,u.classNameBrReg.test(N.className)?N.parentNode.removeChild(N):j=0}return et.text=Y.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=z,et.tooltext=f),et.height=Y.offsetHeight,et.width=Y.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,s,a=0,u=0,h={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,s=n.length;s>o;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),u=c(u,r.height),a+=r.width,h[i]=r.width;return{width:f(a),height:u,detailObj:h}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e["default"]=i,t.exports=e["default"]}),ds=e(ps),gs={button:["container","text","symbol"],inputButton:["container","text","input","icon"],selectButton:["container","text","arrow"],label:["container","text"]},_s=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},ms=function(t){return 1===t.length&&(t=l(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}},ys=ms(_s),vs=(ys.right,Array.prototype),xs=(vs.slice,vs.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n}),ws="$";c.prototype=f.prototype={constructor:c,has:function(t){return ws+t in this},get:function(t){return this[ws+t]},set:function(t,e){return this[ws+t]=e,this},remove:function(t){var e=ws+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ws&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ws&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ws&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ws&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ws&&++t;return t},empty:function(){for(var t in this)if(t[0]===ws)return!1;return!0},each:function(t){for(var e in this)e[0]===ws&&t(this[e],e.slice(1),this)}};var bs=f.prototype;p.prototype=d.prototype={constructor:p,has:bs.has,add:function(t){return t+="",this[ws+t]=t,this},remove:bs.remove,clear:bs.clear,values:bs.keys,size:bs.size,empty:bs.empty,each:bs.each};var Ms=3,Cs=(function tp(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=tp,e}(Ms),function ep(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=ep,e}(Ms),function np(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=np,e}(Ms),1.70158),Ss=(function ip(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=ip,e}(Cs),function rp(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=rp,e}(Cs),function op(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=op,e}(Cs),2*Math.PI),Ts=1,Ns=.3,As=(function sp(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((i-n)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ss);return n.amplitude=function(t){return sp(t,e*Ss)},n.period=function(e){return sp(t,e)},n}(Ts,Ns),function ap(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ss);return n.amplitude=function(t){return ap(t,e*Ss)},n.period=function(e){return ap(t,e)},n}(Ts,Ns),function up(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((i-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((i+n)/e))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ss);return n.amplitude=function(t){return up(t,e*Ss)},n.period=function(e){return up(t,e)},n}(Ts,Ns),Math.PI),ks=2*As,Es=1e-6,Ls=ks-Es;_.prototype=m.prototype={constructor:_,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,u=i-e,h=o-t,l=s-e,c=h*h+l*l;if(0>r)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>Es)if(Math.abs(l*a-u*h)>Es&&r){var f=n-o,p=i-s,d=a*a+u*u,g=f*f+p*p,_=Math.sqrt(d),m=Math.sqrt(c),y=r*Math.tan((As-Math.acos((d+c-g)/(2*_*m)))/2),v=y/m,x=y/_;

Math.abs(v-1)>Es&&(this._+="L"+(t+v*h)+","+(e+v*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>h*p)+","+(this._x1=t+x*a)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n;var s=n*Math.cos(i),a=n*Math.sin(i),u=t+s,h=e+a,l=1^o,c=o?i-r:r-i;if(0>n)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+h:(Math.abs(this._x1-u)>Es||Math.abs(this._y1-h)>Es)&&(this._+="L"+u+","+h),n&&(c>Ls?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=h):(0>c&&(c=c%ks+ks),this._+="A"+n+","+n+",0,"+ +(c>=As)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Is=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return y(this.cover(e,n),e,n,t)},Ds=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var s,a,u=r-n,h=this._root;switch(a=((i+o)/2>e)<<1|(n+r)/2>t){case 0:do s=new Array(4),s[a]=h,h=s;while(u*=2,r=n+u,o=i+u,t>r||e>o);break;case 1:do s=new Array(4),s[a]=h,h=s;while(u*=2,n=r-u,o=i+u,n>t||e>o);break;case 2:do s=new Array(4),s[a]=h,h=s;while(u*=2,r=n+u,i=o-u,t>r||i>e);break;case 3:do s=new Array(4),s[a]=h,h=s;while(u*=2,n=r-u,i=o-u,n>t||i>e)}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Rs=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},Ps=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Hs=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},Bs=function(t,e,n){var i,r,o,s,a,u,h,l=this._x0,c=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new Hs(g,l,c,f,p)),null==n?n=1/0:(l=t-n,c=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(g=u.node)||(r=u.x0)>f||(o=u.y0)>p||(s=u.x1)<l||(a=u.y1)<c))if(g.length){var _=(r+s)/2,m=(o+a)/2;d.push(new Hs(g[3],_,m,s,a),new Hs(g[2],r,m,_,a),new Hs(g[1],_,o,s,m),new Hs(g[0],r,o,_,m)),(h=(e>=m)<<1|t>=_)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-h],d[d.length-1-h]=u)}else{var y=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),x=y*y+v*v;if(n>x){var w=Math.sqrt(n=x);l=t-w,c=e-w,f=t+w,p=e+w,i=g.data}}return i},Us=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,u,h,l,c,f,p=this._root,d=this._x0,g=this._y0,_=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((h=o>=(a=(d+_)/2))?d=a:_=a,(l=s>=(u=(g+m)/2))?g=u:m=u,e=p,!(p=p[c=l<<1|h]))return this;if(!p.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[c]=r:delete e[c],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)},Fs=function(){return this._root},Ws=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},Os=function(t){var e,n,i,r,o,s,a=[],u=this._root;for(u&&a.push(new Hs(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&u.length){var h=(i+o)/2,l=(r+s)/2;(n=u[3])&&a.push(new Hs(n,h,l,o,s)),(n=u[2])&&a.push(new Hs(n,i,l,h,s)),(n=u[1])&&a.push(new Hs(n,h,r,o,l)),(n=u[0])&&a.push(new Hs(n,i,r,h,l))}return this},js=function(t){var e,n=[],i=[];for(this._root&&n.push(new Hs(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,u=e.x1,h=e.y1,l=(s+u)/2,c=(a+h)/2;(o=r[0])&&n.push(new Hs(o,s,a,l,c)),(o=r[1])&&n.push(new Hs(o,l,a,u,c)),(o=r[2])&&n.push(new Hs(o,s,c,l,h)),(o=r[3])&&n.push(new Hs(o,l,c,u,h))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},zs=function(t){return arguments.length?(this._x=t,this):this._x},Gs=function(t){return arguments.length?(this._y=t,this):this._y},qs=M.prototype=C.prototype;qs.copy=function(){var t,e,n=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=S(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;4>r;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=S(e));return n},qs.add=Is,qs.addAll=v,qs.cover=Ds,qs.data=Rs,qs.extent=Ps,qs.find=Bs,qs.remove=Us,qs.removeAll=x,qs.root=Fs,qs.size=Ws,qs.visit=Os,qs.visitAfter=js,qs.x=zs,qs.y=Gs;var Ys=([].slice,{}),Vs=function(t){return function(){return t}},Xs=1e-12,$s=Math.PI,Zs=2*$s;L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};{var Js=function(t){return new L(t)};P(Js)}R.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Ks=function(){};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._x0=this._x1=this._y0=this._y1=0/0,this._point=0},lineEnd:function(){switch(this._point){case 3:H(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},U.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function hp(t){function e(e){return 1===t?new B(e):new U(e,t)}return e.beta=function(t){return hp(+t)},e}(.85),W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=0/0,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:F(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:F(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function lp(t){function e(e){return new W(e,t)}return e.tension=function(t){return lp(+t)},e}(0),O.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=0/0,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:F(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function cp(t){function e(e){return new O(e,t)}return e.tension=function(t){return cp(+t)},e}(0),j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=0/0,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:F(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function fp(t){function e(e){return new j(e,t)}return e.tension=function(t){return fp(+t)},e}(0),G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=0/0,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:z(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function pp(t){function e(e){return t?new G(e,t):new W(e,0)}return e.alpha=function(t){return pp(+t)},e}(.5),q.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=0/0,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:z(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function dp(t){function e(e){return t?new q(e,t):new O(e,0)}return e.alpha=function(t){return dp(+t)},e}(.5),Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=0/0,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:z(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function gp(t){function e(e){return t?new Y(e,t):new j(e,0)}return e.alpha=function(t){return gp(+t)},e}(.5),J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=0/0},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=0/0,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z(this,this._t0,$(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=0/0;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Z(this,$(this,n=X(this,t,e)),n);break;default:Z(this,this._t0,n=X(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(K.prototype=Object.create(J.prototype)).point=function(t,e){J.prototype.point.call(this,e,t)},Q.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}};var Qs=(Array.prototype.slice,function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}),ta=.7,ea=1/ta,na="\\s*([+-]?\\d+)\\s*",ia="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oa=/^#([0-9a-f]{3})$/,sa=/^#([0-9a-f]{6})$/,aa=new RegExp("^rgb\\("+[na,na,na]+"\\)$"),ua=new RegExp("^rgb\\("+[ra,ra,ra]+"\\)$"),ha=new RegExp("^rgba\\("+[na,na,na,ia]+"\\)$"),la=new RegExp("^rgba\\("+[ra,ra,ra,ia]+"\\)$"),ca=new RegExp("^hsl\\("+[ia,ra,ra]+"\\)$"),fa=new RegExp("^hsla\\("+[ia,ra,ra,ia]+"\\)$"),pa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qs(et,nt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Qs(at,st,tt(et,{brighter:function(t){return t=null==t?ea:Math.pow(ea,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ta:Math.pow(ta,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Qs(ct,lt,tt(et,{brighter:function(t){return t=null==t?ea:Math.pow(ea,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ta:Math.pow(ta,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new at(ft(t>=240?t-240:t+120,r,i),ft(t,r,i),ft(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var da=Math.PI/180,ga=180/Math.PI,_a=18,ma=.95047,ya=1,va=1.08883,xa=4/29,wa=6/29,ba=3*wa*wa,Ma=wa*wa*wa;Qs(gt,dt,tt(et,{brighter:function(t){return new gt(this.l+_a*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new gt(this.l-_a*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=ya*mt(t),e=ma*mt(e),n=va*mt(n),new at(yt(3.2404542*e-1.5371385*t-.4985314*n),yt(-.969266*e+1.8760108*t+.041556*n),yt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Qs(bt,wt,tt(et,{brighter:function(t){return new bt(this.h,this.c,this.l+_a*(null==t?1:t),this.opacity)},darker:function(t){return new bt(this.h,this.c,this.l-_a*(null==t?1:t),this.opacity)},rgb:function(){return pt(this).rgb()}}));var Ca=-.14861,Sa=1.78277,Ta=-.29227,Na=-.90649,Aa=1.97294,ka=Aa*Na,Ea=Aa*Sa,La=Sa*Ta-Na*Ca;Qs(St,Ct,tt(et,{brighter:function(t){return t=null==t?ea:Math.pow(ea,t),new St(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ta:Math.pow(ta,t),new St(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*da,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new at(255*(e+n*(Ca*i+Sa*r)),255*(e+n*(Ta*i+Na*r)),255*(e+n*Aa*i),this.opacity)}}));{var Ia,Da,Ra,Pa,Ha=function(t){return function(){return t}},Ba=function _p(t){function e(t,e){var i=n((t=st(t)).r,(e=st(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=n(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var n=kt(t);return e.gamma=_p,e}(1),Ua=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),s=new Array(i);for(n=0;r>n;++n)o[n]=qa(t[n],e[n]);for(;i>n;++n)s[n]=e[n];return function(t){for(n=0;r>n;++n)s[n]=o[n](t);return s}},Fa=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},Wa=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Oa=function(t,e){var n,i={},r={};(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={});for(n in e)n in t?i[n]=qa(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,za=new RegExp(ja.source,"g"),Ga=function(t,e){var n,i,r,o=ja.lastIndex=za.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=ja.exec(t))&&(i=za.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Wa(n,i)})),o=za.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?It(u[0].x):Lt(e):(e=u.length,function(t){for(var n,i=0;e>i;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})},qa=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Ha(e):("number"===i?Wa:"string"===i?(n=nt(e))?(e=n,Ba):Ga:e instanceof nt?Ba:e instanceof Date?Fa:Array.isArray(e)?Ua:isNaN(e)?Oa:Wa)(t,e)},Ya=180/Math.PI,Va={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Xa=function(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),e*n>t*i&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Ya,skewX:Math.atan(u)*Ya,scaleX:s,scaleY:a}},$a=Pt(Dt,"px, ","px)","deg)"),Za=Pt(Rt,", ",")",")");Math.SQRT2}Ht(At);var Ja=Ht(Et),Ka={value:function(){}};Ut.prototype=Bt.prototype={constructor:Ut,on:function(t,e){var n,i=this._,r=Ft(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=Ot(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Ot(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=Wt(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ut(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;n>o;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;o>r;++r)i[r].value.apply(e,n)}};var Qa=function(t){function e(t,e){var i,r,o=n(t,function(t,n){return i?i(t,n-1):(r=t,void(i=e?zt(t,e):jt(t)))});return o.columns=r,o}function n(t,e){function n(){if(l>=h)return s;if(r)return r=!1,o;var e,n=l;if(34===t.charCodeAt(n)){for(var i=n;i++<h;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return l=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++l):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;h>l;){var a=1;if(e=t.charCodeAt(l++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(l)&&(++l,++a);else if(e!==u)continue;return t.slice(n,l-a)}return t.slice(n)}for(var i,r,o={},s={},a=[],h=t.length,l=0,c=0;(i=n())!==s;){for(var f=[];i!==o&&i!==s;)f.push(i),i=n();e&&null==(f=e(f,c++))||a.push(f)}return a}function i(e,n){return null==n&&(n=Gt(e)),[n.map(s).join(t)].concat(e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})).join("\n")}function r(t){return t.map(o).join("\n")}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:i,formatRows:r}},tu=Qa(","),eu=tu.parse,nu=Qa("	"),iu=nu.parse,ru=function(t,e){function n(t){var e,n=h.status;if(!n&&Yt(h)||n>=200&&300>n||304===n){if(o)try{e=o.call(i,h)}catch(r){return void a.call("error",i,r)}else e=h;a.call("load",i,e)}else a.call("error",i,t)}var i,r,o,s,a=Bt("beforesend","progress","load","error"),u=f(),h=new XMLHttpRequest,l=null,c=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(t)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=n:h.onreadystatechange=function(t){h.readyState>3&&n(t)},h.onprogress=function(t){a.call("progress",i,t)},i={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),i)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",i):r},responseType:function(t){return arguments.length?(s=t,i):s},timeout:function(t){return arguments.length?(p=+t,i):p},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",i)},password:function(t){return arguments.length<1?c:(c=null==t?null:t+"",i)},response:function(t){return o=t,i},get:function(t,e){return i.send("GET",t,e)},post:function(t,e){return i.send("POST",t,e)},send:function(e,n,o){return h.open(e,t,!0,l,c),null==r||u.has("accept")||u.set("accept",r+",*/*"),h.setRequestHeader&&u.each(function(t,e){h.setRequestHeader(e,t)}),null!=r&&h.overrideMimeType&&h.overrideMimeType(r),null!=s&&(h.responseType=s),p>0&&(h.timeout=p),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=qt(o)),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",i,h),h.send(null==n?null:n),i},abort:function(){return h.abort(),i},on:function(){var t=a.on.apply(a,arguments);return t===a?i:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return i.get(e)}return i},ou=function(t,e){return function(n,i){var r=ru(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}};ou("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),ou("application/json",function(t){return JSON.parse(t.responseText)}),ou("text/plain",function(t){return t.responseText}),ou("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e});var su=function(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=ru(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(Vt(e,i=t)):i},o.row(i),r?o.get(r):o}};su("text/csv",eu),su("text/tab-separated-values",iu);var au,uu,hu=0,lu=0,cu=0,fu=1e3,pu=0,du=0,gu=0,_u="object"==typeof performance&&performance.now?performance:Date,mu="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};Zt.prototype=Jt.prototype={constructor:Zt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Xt():+n)+(null==e?0:+e),this._next||uu===this||(uu?uu._next=this:au=this,uu=this),this._call=t,this._time=n,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};var yu=function(t,e,n){var i=new Zt;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},vu=new Date,xu=new Date,wu=ie(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});wu.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ie(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):wu:null};var bu=1e3,Mu=6e4,Cu=36e5,Su=864e5,Tu=6048e5,Nu=(ie(function(t){t.setTime(Math.floor(t/bu)*bu)},function(t,e){t.setTime(+t+e*bu)},function(t,e){return(e-t)/bu},function(t){return t.getUTCSeconds()}),ie(function(t){t.setTime(Math.floor(t/Mu)*Mu)},function(t,e){t.setTime(+t+e*Mu)},function(t,e){return(e-t)/Mu},function(t){return t.getMinutes()}),ie(function(t){var e=t.getTimezoneOffset()*Mu%Cu;0>e&&(e+=Cu),t.setTime(Math.floor((+t-e)/Cu)*Cu+e)},function(t,e){t.setTime(+t+e*Cu)},function(t,e){return(e-t)/Cu},function(t){return t.getHours()}),ie(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mu)/Su},function(t){return t.getDate()-1})),Au=re(0),ku=re(1),Eu=(re(2),re(3),re(4),re(5),re(6),ie(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),ie(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Eu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ie(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Lu=(ie(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Mu)},function(t,e){return(e-t)/Mu},function(t){return t.getUTCMinutes()}),ie(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Cu)},function(t,e){return(e-t)/Cu},function(t){return t.getUTCHours()}),ie(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Su},function(t){return t.getUTCDate()-1})),Iu=oe(0),Du=oe(1),Ru=(oe(2),oe(3),oe(4),oe(5),oe(6),ie(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),ie(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Ru.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ie(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Pu,Hu=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Bu=function(t){return t=Hu(Math.abs(t)),t?t[1]:0/0},Uu=function(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],u=0;r>0&&a>0&&(u+a+1>i&&(a=Math.max(1,i-u)),o.push(n.substring(r-=a,r+a)),!((u+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}},Fu=function(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;i>r;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},Wu=function(t,e){var n=Hu(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Pu=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Hu(t,Math.max(0,e+o-1))[0]},Ou=function(t,e){var n=Hu(t,e);if(!n)return t+"";var i=n[0],r=n[1];return 0>r?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},ju={"":Fu,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ou(100*t,e)},r:Ou,s:Wu,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},zu=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Gu=function(t){return new se(t)};se.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var qu,Yu,Vu,Xu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],$u=function(t){function e(t){function e(t){var e,r,u,y=d,v=g;if("c"===p)v=_(t)+v,
t="";else{t=+t;var x=(0>t||0>1/t)&&(t*=-1,!0);if(t=_(t,f),x)for(e=-1,r=t.length,x=!1;++e<r;)if(u=t.charCodeAt(e),u>48&&58>u||"x"===p&&u>96&&103>u||"X"===p&&u>64&&71>u){x=!0;break}if(y=(x?"("===a?a:"-":"-"===a||"("===a?"":a)+y,v=v+("s"===p?Xu[8+Pu/3]:"")+(x&&"("===a?")":""),m)for(e=-1,r=t.length;++e<r;)if(u=t.charCodeAt(e),48>u||u>57){v=(46===u?o+t.slice(e+1):t.slice(e))+v,t=t.slice(0,e);break}}c&&!h&&(t=i(t,1/0));var w=y.length+t.length+v.length,b=l>w?new Array(l-w+1).join(n):"";switch(c&&h&&(t=i(b+t,b.length?l-v.length:1/0),b=""),s){case"<":return y+t+v+b;case"=":return y+b+t+v;case"^":return b.slice(0,w=b.length>>1)+y+t+v+b.slice(w)}return b+y+t+v}t=Gu(t);var n=t.fill,s=t.align,a=t.sign,u=t.symbol,h=t.zero,l=t.width,c=t.comma,f=t.precision,p=t.type,d="$"===u?r[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===u?r[1]:/[%p]/.test(p)?"%":"",_=ju[p],m=!p||/[defgprs%]/.test(p);return f=null==f?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=Gu(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Bu(n)/3))),o=Math.pow(10,-r),s=Xu[8+r/3];return function(t){return i(o*t)+s}}var i=t.grouping&&t.thousands?Uu(t.grouping,t.thousands):ae,r=t.currency,o=t.decimal;return{format:e,formatPrefix:n}};ue({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Zu,Ju,Ku,Qu,th,eh={"-":"",_:" ",0:"0"},nh=/^\s*\d+/,ih=/^%/,rh=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;an({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var oh="%Y-%m-%dT%H:%M:%S.%LZ",sh=(Date.prototype.toISOString?un:Qu(oh),+new Date("2000-01-01T00:00:00.000Z")?hn:th(oh),Array.prototype),ah=(sh.map,sh.slice,function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})});ah("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ah("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ah("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ah("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Ja(Ct(300,.5,0),Ct(-240,.5,1));var uh=(Ja(Ct(-100,.75,.35),Ct(80,1.5,.8)),Ja(Ct(260,.75,.35),Ct(80,1.5,.8)),Ct(),"http://www.w3.org/1999/xhtml"),hh={svg:"http://www.w3.org/2000/svg",xhtml:uh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lh=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),hh.hasOwnProperty(e)?{space:hh[e],local:t}:t},ch=function(t){var e=lh(t);return(e.local?cn:ln)(e)},fh=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ph=document.documentElement;if(!ph.matches){var dh=ph.webkitMatchesSelector||ph.msMatchesSelector||ph.mozMatchesSelector||ph.oMatchesSelector;fh=function(t){return function(){return dh.call(this,t)}}}}var gh=fh,_h={},mh=null;if("undefined"!=typeof document){var yh=document.documentElement;"onmouseenter"in yh||(_h={mouseenter:"mouseover",mouseleave:"mouseout"})}var vh=function(t,e,n){var i,r,o=dn(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?_n:gn,null==n&&(n=!1),i=0;s>i;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,h=0,l=a.length;l>h;++h)for(i=0,u=a[h];s>i;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}},xh=function(){for(var t,e=mh;t=e.sourceEvent;)e=t;return e},wh=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},bh=function(t){return null==t?mn:function(){return this.querySelector(t)}},Mh=function(t){"function"!=typeof t&&(t=bh(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s,a=e[r],u=a.length,h=i[r]=new Array(u),l=0;u>l;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),h[l]=s);return new ni(i,this._parents)},Ch=function(t){return null==t?yn:function(){return this.querySelectorAll(t)}},Sh=function(t){"function"!=typeof t&&(t=Ch(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var s,a=e[o],u=a.length,h=0;u>h;++h)(s=a[h])&&(i.push(t.call(s,s.__data__,h,a)),r.push(s));return new ni(i,r)},Th=function(t){"function"!=typeof t&&(t=gh(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;a>h;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new ni(i,this._parents)},Nh=function(t){return new Array(t.length)},Ah=function(){return new ni(this._enter||this._groups.map(Nh),this._parents)};vn.prototype={constructor:vn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var kh=function(t){return function(){return t}},Eh="$",Lh=function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each(function(t){p[++h]=t}),p;var n=e?wn:xn,i=this._parents,r=this._groups;"function"!=typeof t&&(t=kh(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),h=0;o>h;++h){var l=i[h],c=r[h],f=c.length,p=t.call(l,l&&l.__data__,h,i),d=p.length,g=a[h]=new Array(d),_=s[h]=new Array(d),m=u[h]=new Array(f);n(l,c,g,_,m,p,e);for(var y,v,x=0,w=0;d>x;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(v=_[w])&&++w<d;);y._next=v||null}}return s=new ni(s,i),s._enter=a,s._exit=u,s},Ih=function(){return new ni(this._exit||this._groups.map(Nh),this._parents)},Dh=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;c>p;++p)(u=h[p]||l[p])&&(f[p]=u);for(;i>a;++a)s[a]=e[a];return new ni(s,this._parents)},Rh=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},Ph=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=bn);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var s,a=n[o],u=a.length,h=r[o]=new Array(u),l=0;u>l;++l)(s=a[l])&&(h[l]=s);h.sort(e)}return new ni(r,this._parents).order()},Hh=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Bh=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Uh=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var s=i[r];if(s)return s}return null},Fh=function(){var t=0;return this.each(function(){++t}),t},Wh=function(){return!this.node()},Oh=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],s=0,a=o.length;a>s;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},jh=function(t,e){var n=lh(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Cn:Mn:"function"==typeof e?n.local?An:Nn:n.local?Tn:Sn)(n,e))},zh=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Gh=function(t,e,n){var i;return arguments.length>1?this.each((null==e?kn:"function"==typeof e?Ln:En)(t,e,null==n?"":n)):zh(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},qh=function(t,e){return arguments.length>1?this.each((null==e?In:"function"==typeof e?Rn:Dn)(t,e)):this.node()[t]};Bn.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Yh=function(t,e){var n=Pn(t+"");if(arguments.length<2){for(var i=Hn(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?jn:e?Wn:On)(n,e))},Vh=function(t){return arguments.length?this.each(null==t?zn:("function"==typeof t?qn:Gn)(t)):this.node().textContent},Xh=function(t){return arguments.length?this.each(null==t?Yn:("function"==typeof t?Xn:Vn)(t)):this.node().innerHTML},$h=function(){return this.each($n)},Zh=function(){return this.each(Zn)},Jh=function(t){var e="function"==typeof t?t:ch(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Kh=function(t,e){var n="function"==typeof t?t:ch(t),i=null==e?Jn:"function"==typeof e?e:bh(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Qh=function(){return this.each(Kn)},tl=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},el=function(t,e){return this.each(("function"==typeof e?ei:ti)(t,e))},nl=[null];ni.prototype=ii.prototype={constructor:ni,select:Mh,selectAll:Sh,filter:Th,data:Lh,enter:Ah,exit:Ih,merge:Dh,order:Rh,sort:Ph,call:Hh,nodes:Bh,node:Uh,size:Fh,empty:Wh,each:Oh,attr:jh,style:Gh,property:qh,classed:Yh,text:Vh,html:Xh,raise:$h,lower:Zh,append:Jh,insert:Kh,remove:Qh,datum:tl,on:vh,dispatch:el};var il=function(t){return"string"==typeof t?new ni([[document.querySelector(t)]],[document.documentElement]):new ni([[t]],nl)},rl=Bt("start","end","interrupt"),ol=[],sl=0,al=1,ul=2,hl=3,ll=4,cl=5,fl=6,pl=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};ai(t,n,{name:e,index:i,group:r,on:rl,tween:ol,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:sl})},dl=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>ul&&n.state<cl,n.state=fl,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},gl=function(t){return this.each(function(){dl(this,t)})},_l=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=si(this.node(),n).tween,o=0,s=r.length;s>o;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?ui:hi)(n,t,e))},ml=function(t,e){var n;return("number"==typeof e?Wa:e instanceof nt?Ba:(n=nt(e))?(e=n,Ba):Ga)(t,e)},yl=function(t,e){var n=lh(t),i="transform"===n?Za:ml;return this.attrTween(t,"function"==typeof e?(n.local?_i:gi)(n,i,li(this,"attr."+t,e)):null==e?(n.local?fi:ci)(n):(n.local?di:pi)(n,i,e))},vl=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=lh(t);return this.tween(n,(i.local?mi:yi)(i,e))},xl=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vi:xi)(e,t)):si(this.node(),e).delay},wl=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?wi:bi)(e,t)):si(this.node(),e).duration},bl=function(t){var e=this._id;return arguments.length?this.each(Mi(e,t)):si(this.node(),e).ease},Ml=function(t){"function"!=typeof t&&(t=gh(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;a>h;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new Ri(i,this._parents,this._name,this._id)},Cl=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;c>p;++p)(u=h[p]||l[p])&&(f[p]=u);for(;i>a;++a)s[a]=e[a];return new Ri(s,this._parents,this._name,this._id)},Sl=function(t,e){var n=this._id;return arguments.length<2?si(this.node(),n).on.on(t):this.each(Si(n,t,e))},Tl=function(){return this.on("end.remove",Ti(this._id))},Nl=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bh(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;r>s;++s)for(var a,u,h=i[s],l=h.length,c=o[s]=new Array(l),f=0;l>f;++f)(a=h[f])&&(u=t.call(a,a.__data__,f,h))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u,pl(c[f],e,n,f,c,si(a,n)));return new Ri(o,this._parents,e,n)},Al=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ch(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;r>a;++a)for(var u,h=i[a],l=h.length,c=0;l>c;++c)if(u=h[c]){for(var f,p=t.call(u,u.__data__,c,h),d=si(u,n),g=0,_=p.length;_>g;++g)(f=p[g])&&pl(f,e,n,g,p,d);o.push(p),s.push(u)}return new Ri(o,s,e,n)},kl=ii.prototype.constructor,El=function(){return new kl(this._groups,this._parents)},Ll=function(t,e,n){var i="transform"==(t+="")?$a:ml;return null==e?this.styleTween(t,Ni(t,i)).on("end.style."+t,Ai(t)):this.styleTween(t,"function"==typeof e?Ei(t,i,li(this,"style."+t,e)):ki(t,i,e),n)},Il=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Li(t,e,null==n?"":n))},Dl=function(t){return this.tween("text","function"==typeof t?Di(li(this,"text",t)):Ii(null==t?"":t+""))},Rl=function(){for(var t=this._name,e=this._id,n=Hi(),i=this._groups,r=i.length,o=0;r>o;++o)for(var s,a=i[o],u=a.length,h=0;u>h;++h)if(s=a[h]){var l=si(s,e);pl(s,t,n,h,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ri(i,this._parents,t,n)},Pl=0,Hl=ii.prototype;Ri.prototype=Pi.prototype={constructor:Ri,select:Nl,selectAll:Al,filter:Ml,merge:Cl,selection:El,transition:Rl,call:Hl.call,nodes:Hl.nodes,node:Hl.node,size:Hl.size,empty:Hl.empty,each:Hl.each,on:Sl,attr:yl,attrTween:vl,style:Ll,styleTween:Il,text:Dl,remove:Tl,tween:_l,delay:xl,duration:wl,ease:bl};var Bl={time:null,delay:0,duration:250,ease:g},Ul=function(t){var e,n;t instanceof Ri?(e=t._id,t=t._name):(e=Hi(),(n=Bl).time=Xt(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;r>o;++o)for(var s,a=i[o],u=a.length,h=0;u>h;++h)(s=a[h])&&pl(s,t,e,h,a,n||Bi(s,e));return new Ri(i,this._parents,t,e)};ii.prototype.interrupt=gl,ii.prototype.transition=Ul;var Fl=(Array.prototype.slice,function(t){var e,n,i,r,o=this,s=[o];do for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;r>i;++i)s.push(n[i]);while(s.length);return this}),Wl=function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},Ol=function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;i>n;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},jl=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},zl=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},Gl=function(t){for(var e=this,n=Ui(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ql=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Yl=function(){var t=[];return this.each(function(e){t.push(e)}),t},Vl=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Xl=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};Gi.prototype=Fi.prototype={constructor:Gi,each:Fl,eachAfter:Ol,eachBefore:Wl,sum:jl,sort:zl,path:Gl,ancestors:ql,descendants:Yl,leaves:Vl,links:Xl,copy:Wi};var $l=function(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,h=t.value&&(i-e)/t.value;++a<u;)o=s[a],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*h};qi.prototype=Object.create(Gi.prototype);{var Zl=function(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,h=t.value&&(r-n)/t.value;++a<u;)o=s[a],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*h},Jl=(1+Math.sqrt(5))/2;(function mp(t){function e(e,n,i,r,o){Yi(t,e,n,i,r,o)}return e.ratio=function(t){return mp((t=+t)>1?t:1)},e})(Jl)}(function yp(t){function e(e,n,i,r,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,u,h,l,c=-1,f=s.length,p=e.value;++c<f;){for(a=s[c],u=a.children,h=a.value=0,l=u.length;l>h;++h)a.value+=u[h].value;a.dice?$l(a,n,i,r,i+=(o-i)*a.value/p):Zl(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else e._squarify=s=Yi(t,e,n,i,r,o),s.ratio=t}return e.ratio=function(t){return yp((t=+t)>1?t:1)},e})(Jl);Math.PI*(3-Math.sqrt(5));Vi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};Xi.prototype={constructor:Xi,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ki(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Zi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Ji(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Ji(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Zi(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?Ki(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Zi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ji(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Zi(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Ji(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Zi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ji(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Kl,Ql,tc,ec,nc,ic=[],rc=[],oc=1e-6,sc=1e-12;Mr.prototype={constructor:Mr,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return ar(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){for(var r,o=n.site,s=n.halfedges,a=-1,u=s.length,h=e[s[u-1]],l=h.left===o?h.right:h.left;++a<u;)r=l,h=e[s[a]],l=h.left===o?h.right:h.left,r&&l&&i<r.index&&i<l.index&&wr(o,r,l)<0&&t.push([o.data,r.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){var i,r=this,o=r._found||0,s=r.cells[o]||r.cells[o=0],a=t-s.site[0],u=e-s.site[1],h=a*a+u*u;do s=r.cells[i=o],o=null,s.halfedges.forEach(function(n){var i=r.edges[n],a=i.left;if(a!==s.site&&a||(a=i.right)){var u=t-a[0],l=e-a[1],c=u*u+l*l;h>c&&(h=c,o=a.index)}});while(null!==o);return r._found=i,null==n||n*n>=h?s.site:null}};Cr.prototype={constructor:Cr,scale:function(t){return 1===t?this:new Cr(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Cr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ac=(new Cr(1,0,0),{name:"x",handles:["e","w"].map(Sr),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},{name:"y",handles:["n","s"].map(Sr),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},{name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Sr),input:function(t){return t},output:function(t){return t}},Math.cos,Math.sin,Math.PI,Math.max,Array.prototype.slice,function(){return new Tr});Tr.prototype={constructor:Tr,reset:function(){this.s=this.t=0},add:function(t){Nr(uc,t,this.t),Nr(this,uc.s,this.s),this.s?this.t+=uc.t:this.s=uc.t},valueOf:function(){return this.s}};{var uc=new Tr,hc=1e-6,lc=Math.PI,cc=lc/2,fc=lc/4,pc=2*lc,dc=lc/180,gc=Math.abs,_c=Math.atan,mc=Math.atan2,yc=Math.cos,vc=(Math.ceil,Math.exp),xc=Math.log,wc=(Math.pow,Math.sin),bc=(Math.sign||function(t){return t>0?1:0>t?-1:0},Math.sqrt),Mc=Math.tan;ac(),ac(),ac()}Rr.invert=Rr;var Cc=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Er,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Sc=function(t,e){return gc(t[0]-e[0])<hc&&gc(t[1]-e[1])<hc},Tc=function(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(Sc(i,s)){for(r.lineStart(),o=0;e>o;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a.push(n=new Pr(i,t,null,!0)),u.push(n.o=new Pr(i,null,n,!1)),a.push(n=new Pr(s,t,null,!1)),u.push(n.o=new Pr(s,null,n,!0))}}),a.length){for(u.sort(e),Hr(a),Hr(u),o=0,s=u.length;s>o;++o)u[o].e=n=!n;for(var h,l,c=a[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;h=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=h.length;s>o;++o)r.point((l=h[o])[0],l[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(h=f.p.z,o=h.length-1;o>=0;--o)r.point((l=h[o])[0],l[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,h=f.z,p=!p}while(!f.v);r.lineEnd()}}},Nc=(ac(),ac(),ac(),1/0),Ac=-Nc;Br.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=0/0},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=0/0},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,pc)}},result:Er},Ur.prototype={_circle:Fr(4.5),pointRadius:function(t){return this._circle=Fr(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=0/0},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=0/0},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};{var kc=ac(),Ec=function(t,e){var n=e[0],i=e[1],r=[wc(n),-yc(n),0],o=0,s=0;kc.reset();for(var a=0,u=t.length;u>a;++a)if(l=(h=t[a]).length)for(var h,l,c=h[l-1],f=c[0],p=c[1]/2+fc,d=wc(p),g=yc(p),_=0;l>_;++_,f=y,d=x,g=w,c=m){var m=h[_],y=m[0],v=m[1]/2+fc,x=wc(v),w=yc(v),b=y-f,M=b>=0?1:-1,C=M*b,S=C>lc,T=d*x;if(kc.add(mc(T*M*wc(C),g*w+T*yc(C))),o+=S?b+M*pc:b,S^f>=n^y>=n){var N=Ir(Lr(c),Lr(m));Dr(N);var A=Ir(r,N);Dr(A);var k=(S^b>=0?-1:1)*kr(A[2]);(i>k||i===k&&(N[0]||N[1]))&&(s+=S^b>=0?1:-1)}}return(-hc>o||hc>o&&-hc>kc)^1&s},Lc=function(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);_.point(n[0],n[1])}function u(){w.point=a,_.lineStart()}function h(){w.point=s,_.lineEnd()}function l(t,e){g.push([t,e]);var n=r(t,e);v.point(n[0],n[1])}function c(){v.lineStart(),g=[]}function f(){l(g[0][0],g[0][1]),v.lineEnd();var t,e,n,i,r=v.clean(),s=y.result(),a=s.length;if(g.pop(),p.push(g),g=null,a)if(1&r){if(n=s[0],(e=n.length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),t=0;e>t;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else a>1&&2&r&&s.push(s.pop().concat(s.shift())),d.push(s.filter(Wr))}var p,d,g,_=e(o),m=r.invert(i[0],i[1]),y=Cc(),v=e(y),x=!1,w={point:s,lineStart:u,lineEnd:h,polygonStart:function(){w.point=l,w.lineStart=c,w.lineEnd=f,d=[],p=[]},polygonEnd:function(){w.point=s,w.lineStart=u,w.lineEnd=h,d=xs(d);var t=Ec(p,m);d.length?(x||(o.polygonStart(),x=!0),Tc(d,Or,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}};Lc(function(){return!0},jr,Gr,[-lc,-cc])}Yr.prototype={constructor:Yr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ic=(yc(30*dc),qr({point:function(t,e){this.stream.point(t*dc,e*dc)}}),Vr(function(t){return bc(2/(1+t))}));Ic.invert=Xr(function(t){return 2*kr(t/2)});var Dc=Vr(function(t){return(t=Ar(t))&&t/wc(t)});Dc.invert=Xr(function(t){return t}),$r.invert=function(t,e){return[-e,2*_c(vc(t))-cc]},document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var Rc="px",Pc=300,Hc={},Bc={click:"touchend"},Uc=function(t){return t+Rc};Jr.prototype.init=function(t){var e,n=this,i="createTouch"in document;this.container=il(t),this.container.node().groupId=this.groupId,e={position:"absolute","z-index":999999,overflow:"wrap",display:"none"},i||n.on("mouseout",function(t){var e=mh.toElement||mh.relatedTarget;e&&e.groupId===t.groupId||n.hide()},"default"),a(this.container,e)},Jr.prototype.getContainer=function(){return this.container},Jr.prototype.setParentListContainer=function(t){this.parentListCon=t},Jr.prototype.getDimensions=function(){var t,e=this.container,n=e.node();return e.style("display","block"),t={width:n.offsetWidth,height:n.offsetHeight},e.style("display","none"),t},Jr.prototype.show=function(t){var e,n,i,r,o,s,u=this.hideFnIds,l={},c=this.parentListCon,f=0,p=this.container.datum(),d=p.measurement||t,g=p.position,_=window.innerWidth,m=function(){var t=n.offsetLeft+n.offsetWidth+o.offsetWidth>_,e=n.offsetLeft-o.offsetWidth<0;return e?1:t?2:0};for(this.visible=!0,i=u.length;i>f;f++)clearTimeout(u[f]);u.length=0,t=this.target=t||this.target,this.container.style("display","block"),c?(c.show(),n=c.getContainer().node(),l.top=n.offsetTop+t.offsetTop+Rc,o=this.container.node(),s=m(o,n),"right"===g?(l.left=(2===s?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Rc,l.right="auto"):(l.left=(2===s||0===s?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Rc,l.right="auto")):!h(t)&&t&&t.getBBox?(e=t.getBBox(),r=this.container.node().offsetWidth,l.top=e.y+e.height+3+Rc,"left"===g?(l.left=e.x+Rc,l.right="auto"):"right"===g&&(l.left=e.x+e.width-r+Rc,l.right="auto")):d&&(l={left:void 0===d.left?"auto":d.left+Rc,top:void 0===d.top?"auto":d.top+Rc,right:void 0===d.right?"auto":d.right+Rc,bottom:void 0===d.bottom?"auto":d.bottom+Rc,width:void 0===d.width?"auto":d.width+Rc,height:void 0===d.height?"auto":d.height+Rc}),a(this.container,l)},Jr.prototype.hide=function(t){var e=this,n=e.parentListCon,i=e.onhide,r=void 0===t?Pc:t;n&&n.hide(r),this.visible=!1,this.hideFnIds.push(setTimeout(function(){e.container.style("display","none"),i&&i()},r))},Jr.prototype.classed=function(t,e){this.container.classed(t,e)},Jr.prototype.on=function(t,e,n){"undefined"==typeof this.container.node()["on"+t]?this["on"+t]=e:this.container.on(t+"."+(n||"custom"),e)},Kr.prototype.setConfig=function(t){return s(t,this.config),this},Kr.prototype.setMeasurement=function(t){var e=this.getFirstContainer();return e?e.getContainer().datum().measurement=t:this.measurement=t,this},Kr.prototype.setPosition=function(t){return this.position=t,this},Kr.prototype.classed=function(t,e){return this.container.classed(t,e),this.subContainers.forEach(function(n){n.classed(t,e)}),this},Kr.prototype.namespace=function(t){var e,n=this.config,i=n.container,r=n.listItem,o=r.states;i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},Kr.prototype.add=function(t,e){var n,i,r,o,s,u,h,l,c,f=this,p=f.parentContainer,d=this.config,g=d.listItem||{},_=g.className,m=function(t){var e=f.config,n=e.listItem||{},i=n.states||{},r=i.hover.className,o=t.subContainer;t.parentContainer&&t.parentContainer.show(),t.interactivity!==!1&&t.listItem.classed(r,!0),o&&o.show(this)},y=function(t){var e=f.config,n=e.listItem||{},i=n.states||{},r=i.hover.className;t.interactivity!==!1&&t.listItem.classed(r,!1),E||t.subContainer&&t.subContainer.hide()},v=function(){return this.parentNode===p.node()},x=function(t){E?t.subContainer||t.parentContainer&&t.parentContainer.hide(1):(t.parentContainer&&t.parentContainer.hide(1),t.subContainer&&t.subContainer.hide(1)),mh.stopPropagation()},w=function(t){t.container.init(this)},b=d.container&&d.container.className,M=f.containerData||(f.containerData=[]),C=0,S={left:8,right:8,top:3,bottom:3},T={margin:"2px 2px 2px 2px",display:"block",cursor:"pointer"},N={height:"1px",margin:"1px",padding:"0px",display:"block"},A="&#9666;",k=Zr(),E="createTouch"in document;return M[C]?n=M[C].container:M[C]={container:n=new Jr(this.groupId),groupId:this.groupId,measurement:this.measurement,position:this.position},r=p.selectAll("div").filter(v).data(M),r.enter().append("div").each(w),n.classed(b,!0),this.container=n,C++,t=f.listItems=f.listItems.concat(t),function L(t,e,n){var r,d,g,I,D,R,P;return R=e?e:f.container,g=R.getContainer(),r=t instanceof Array?t:[t],D=g.selectAll("div").data(r),D.exit().style("display","none"),P=D.enter().append("div").merge(D),P.each(function(t){var e,r,D,P;P=t.name,e=t.action,r=t.handler,D=t.className,u=t.padding||{},d=il(this).classed(_,!0),D&&d.classed(t.className,!0),t.listItem=d,n&&(t.parentListItem=n),t.parentContainer=R,a(d,t.divider?N:T),r&&"function"!=typeof r?(a(d,{"padding-right":(u.right||S.right)+"px","padding-bottom":(u.bottom||S.bottom)+"px","padding-top":(u.top||S.top)+"px"}),c=u.left||0,o=[{html:A,style:{"padding-left":S.left+Rc}},{html:P,style:{"padding-left":Uc(Math.max(c-k.getOriSize("&#9666;").width-S.left,4))}}],s=d.selectAll("span").data(o),s.enter().append("span").merge(s).each(function(t){a(il(this).html(t.html),t.style)}),M[C]?g=M[C].container:M[C]={container:g=new Jr(f.groupId),groupId:f.groupId,position:f.position},C++,i=p.selectAll("div").filter(v).data(M),i.enter().append("div").each(w),I=L(r,g,d),I.classed(b,!0),t.subContainer=I,I.setParentListContainer(R)):(h=t.iconLeft&&t.iconLeft.symbol||"",l=t.iconLeft&&t.iconLeft.visible,c=h?S.left:0,o=[{html:h,type:"icon",style:{"padding-left":Uc(0),visibility:l===!1?"hidden":"visible"},visible:void 0===l?!0:l},{html:P,type:"text",style:{"padding-left":Uc(3)}}],s=d.selectAll("span").data(o),s.enter().append("span").merge(s).each(function(t){a(il(this).html(t.html),t.style)}),t.divider!==!0&&a(d,{"padding-left":(u.left||S.left)+"px","padding-right":(u.right||S.right)+"px","padding-bottom":(u.bottom||S.bottom)+"px","padding-top":(u.top||S.top)+"px"})),t.divider!==!0&&(E?(d.on("touchstart.hover",m),d.on("touchend.hoverout",y),d.on("touchend.click",x)):(d.on("mouseover.default",m),d.on("mouseout.default",y),d.on("click.default",x)),e&&"function"==typeof r&&(E?d.on(Bc[e]+".custom",r):d.on(e+".custom",r)))}),R}(t,e,null),f},Kr.prototype.show=function(t){0!==this.listItems.length&&this.container.show(t)},Kr.prototype.hide=function(){0!==this.listItems.length&&(this.container.hide(),this.container.getContainer().selectAll("div").each(function(t){t.subContainer&&t.subContainer.hide()}))},Kr.prototype.toggleVisibility=function(){0!==this.listItems.length&&(this.container.visible?this.hide():this.show())},Kr.prototype.getFirstContainer=function(){return this.container;

},Kr.prototype.flushItems=function(){this.listItems.length=0},Kr.prototype.getClassNames=function(t){var t=this.config;return{container:t.container.className,listItem:t.listItem.className}},Kr.prototype.toggleIconVisibility=function(t){var e,n=this.container,i=function(n){n.getContainer().selectAll("div").each(function(n){var r;n.id===t&&(r=il(this),r.selectAll("span").each(function(t){var n=il(this);"icon"===t.type&&(e=!!t.visible,e?n.style("visibility","hidden"):n.style("visibility","visible"),t.visible=!e)})),n.subContainer&&i(n.subContainer)})};i(n)},Kr.prototype.getStateClassNames=function(){var t=this.config.listItem.states;return{hover:t.hover.className,selected:t.selected.className}};var Fc="http://www.w3.org/1999/xhtml",Wc={svg:"http://www.w3.org/2000/svg",xhtml:Fc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Oc=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Wc.hasOwnProperty(e)?{space:Wc[e],local:t}:t},jc=function(t){var e=Oc(t);return(e.local?eo:to)(e)},zc=0;io.prototype=no.prototype={constructor:io,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Gc=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var qc=document.documentElement;if(!qc.matches){var Yc=qc.webkitMatchesSelector||qc.msMatchesSelector||qc.mozMatchesSelector||qc.oMatchesSelector;Gc=function(t){return function(){return Yc.call(this,t)}}}}var Vc=Gc,Xc={},$c=null;if("undefined"!=typeof document){var Zc=document.documentElement;"onmouseenter"in Zc||(Xc={mouseenter:"mouseover",mouseleave:"mouseout"})}var Jc=function(t,e,n){var i,r,o=so(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?uo:ao,null==n&&(n=!1),i=0;s>i;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,h=0,l=a.length;l>h;++h)for(i=0,u=a[h];s>i;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}},Kc=function(){for(var t,e=$c;t=e.sourceEvent;)e=t;return e},Qc=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},tf=function(t){var e=Kc();return e.changedTouches&&(e=e.changedTouches[0]),Qc(t,e)},ef=function(t){return null==t?lo:function(){return this.querySelector(t)}},nf=function(t){"function"!=typeof t&&(t=ef(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s,a=e[r],u=a.length,h=i[r]=new Array(u),l=0;u>l;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),h[l]=s);return new Zo(i,this._parents)},rf=function(t){return null==t?co:function(){return this.querySelectorAll(t)}},of=function(t){"function"!=typeof t&&(t=rf(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var s,a=e[o],u=a.length,h=0;u>h;++h)(s=a[h])&&(i.push(t.call(s,s.__data__,h,a)),r.push(s));return new Zo(i,r)},sf=function(t){"function"!=typeof t&&(t=Vc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;a>h;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new Zo(i,this._parents)},af=function(t){return new Array(t.length)},uf=function(){return new Zo(this._enter||this._groups.map(af),this._parents)};fo.prototype={constructor:fo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var hf=function(t){return function(){return t}},lf="$",cf=function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each(function(t){p[++h]=t}),p;var n=e?go:po,i=this._parents,r=this._groups;"function"!=typeof t&&(t=hf(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),h=0;o>h;++h){var l=i[h],c=r[h],f=c.length,p=t.call(l,l&&l.__data__,h,i),d=p.length,g=a[h]=new Array(d),_=s[h]=new Array(d),m=u[h]=new Array(f);n(l,c,g,_,m,p,e);for(var y,v,x=0,w=0;d>x;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(v=_[w])&&++w<d;);y._next=v||null}}return s=new Zo(s,i),s._enter=a,s._exit=u,s},ff=function(){return new Zo(this._exit||this._groups.map(af),this._parents)},pf=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;c>p;++p)(u=h[p]||l[p])&&(f[p]=u);for(;i>a;++a)s[a]=e[a];return new Zo(s,this._parents)},df=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},gf=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=_o);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var s,a=n[o],u=a.length,h=r[o]=new Array(u),l=0;u>l;++l)(s=a[l])&&(h[l]=s);h.sort(e)}return new Zo(r,this._parents).order()},_f=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},mf=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},yf=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var s=i[r];if(s)return s}return null},vf=function(){var t=0;return this.each(function(){++t}),t},xf=function(){return!this.node()},wf=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],s=0,a=o.length;a>s;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},bf=function(t,e){var n=Oc(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?yo:mo:"function"==typeof e?n.local?bo:wo:n.local?xo:vo)(n,e))},Mf=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Cf=function(t,e,n){var i;return arguments.length>1?this.each((null==e?Mo:"function"==typeof e?So:Co)(t,e,null==n?"":n)):Mf(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},Sf=function(t,e){return arguments.length>1?this.each((null==e?To:"function"==typeof e?Ao:No)(t,e)):this.node()[t]};Lo.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Tf=function(t,e){var n=ko(t+"");if(arguments.length<2){for(var i=Eo(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Ho:e?Ro:Po)(n,e))},Nf=function(t){return arguments.length?this.each(null==t?Bo:("function"==typeof t?Fo:Uo)(t)):this.node().textContent},Af=function(t){return arguments.length?this.each(null==t?Wo:("function"==typeof t?jo:Oo)(t)):this.node().innerHTML},kf=function(){return this.each(zo)},Ef=function(){return this.each(Go)},Lf=function(t){var e="function"==typeof t?t:jc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},If=function(t,e){var n="function"==typeof t?t:jc(t),i=null==e?qo:"function"==typeof e?e:ef(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Df=function(){return this.each(Yo)},Rf=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Pf=function(t,e){return this.each(("function"==typeof e?$o:Xo)(t,e))},Hf=[null];Zo.prototype=Jo.prototype={constructor:Zo,select:nf,selectAll:of,filter:sf,data:cf,enter:uf,exit:ff,merge:pf,order:df,sort:gf,call:_f,nodes:mf,node:yf,size:vf,empty:xf,each:wf,attr:bf,style:Cf,property:Sf,classed:Tf,text:Nf,html:Af,raise:kf,lower:Ef,append:Lf,insert:If,remove:Df,datum:Rf,on:Jc,dispatch:Pf};var Bf=function(t){return"string"==typeof t?new Zo([[document.querySelector(t)]],[document.documentElement]):new Zo([[t]],Hf)},Uf=function(t){return"string"==typeof t?new Zo([document.querySelectorAll(t)],[document.documentElement]):new Zo([null==t?[]:t],Hf)},Ff=function(t,e,n){arguments.length<3&&(n=e,e=Kc().changedTouches);for(var i,r=0,o=e?e.length:0;o>r;++r)if((i=e[r]).identifier===n)return Qc(t,i);return null},Wf=function(t,e){null==e&&(e=Kc().touches);for(var n=0,i=e?e.length:0,r=new Array(i);i>n;++n)r[n]=Qc(t,e[n]);return r},Of=Object.freeze({creator:jc,local:no,matcher:Vc,mouse:tf,namespace:Oc,namespaces:Wc,select:Bf,selectAll:Uf,selection:Jo,selector:ef,selectorAll:rf,touch:Ff,touches:Wf,window:Mf,get event(){return $c},customEvent:ho}),jf=Of&&Of["default"]||Of,zf=(n(function(t,e){(function(t,n){n(e,jf,ps)})(ls,function(t,e,n){function i(t,e,n){function i(t,e,n){e&&s.mergeRecursive(t,e),"object"==typeof n&&null!==n?s.mergeRecursive(t,n):t.text.push(n)}var r,o,a,u,h,l,c=0,f=n.shift(),p=n;for(e=e||{},t=t||{},i(e.title=e.title||{},t.title,f),e.body=e.body||[];a=p.shift();){if(h=e.body[c],h||e.body.push(h=[]),a instanceof Array)for(r=0,o=a.length;o>r;r++)l=h[r],l||h.push(l={}),u=a[r],i(l,t.body,u);else l=h[0],h.push(l={}),i(l,t.body,a),h.splice(1);c++}}function r(t){var e;this.config=t||{},this.smartlabel=new n(Math.random()),this.verticalLimit=void 0,this.horizontalLimit=void 0,this.data=null,this.model=null,this.mountPoint=null,this._firables=null,this._context=null,this.clsNS=this.config.namespace,this.baseClassName=this.clsNS?this.clsNS+"-d3-tooltip":"d3-tooltip",e=this.baseClassName+"-body",this.title={model:null,args:{className:this.baseClassName+"-title",padding:[2,5,5],margin:[2,5]},_graphics:{}},this.body={model:null,args:{className:e,padding:[2,5,5],margin:[2,5],icon:{className:e+"-icon",_size:null},text:{className:e+"-text"}},_graphics:{}}}function o(){function t(t,e){var n=t.node().__mounter||c;n.mount(e)}function n(t,n,i){return function(){var r=[].slice.call(arguments,0),o=e.mouse(this);r.push(o),r.push(this),n[t].apply(i,r)}}function i(t,e){return t.on("mouseover.d3-tooltip",n(0,e,a)),t.on("mousemove.d3-tooltip",n(1,e,a)),t.on("mouseout.d3-tooltip",n(2,e,a)),t.on("touchstart.d3-tooltip",n(0,e,a)),t.on("touchmove.d3-tooltip",n(1,e,a)),t.on("touchend.d3-tooltip",n(2,e,a)),t}function o(t){m?t.each(function(t){this.__mounter.addData(t).mountTo(a)}):(a=u.append("g"),g=[o._onMouseOver,o._onMouseMove,o._onMouseOut],t.each(function(t){i(e.select(this),g),c=this.__mounter=new r({namespace:_}).addData(t).mountTo(a)})),m=!0}var a,u,h,l,c,f=null,p={x:5,y:5},d=null,g=[],_=null,m=!1;return o.attachTo=function(t){return u=t,o},o.offset=function(t){return s.mergeRecursive(p={},t),o},o.show=function(e,n){n||(n=c),e||(e=l),t(h,{pos:e});var i,r,o=!1,s=e;return i=n.size(),d?(d.x2&&(s[0]+p.x+i.width>d.x2?s[0]-p.x-i.width<d.x1?(s[0]=d.x1,o=!0):s[0]-=p.x+i.width:s[0]+=2*p.x),(d.y2||o)&&(d.y2=d.y2||Number.POSITIVE_INFINITY,r=o?1.2*p.y:p.y,s[1]+r+i.height>d.y2?s[1]-=r+i.height:s[1]+=r)):(s[0]+=p.x,s[1]+=p.y),a.style("display","block").attr("transform","translate("+s[0]+", "+s[1]+")")},o.hide=function(){return a.style("display","none")},o.bbox=function(t,e,n,i){return t=t||0,e=e||0,e=e||0,n=n||0,i=i||0,d={x1:t,y1:e,width:n,height:i,x2:t+n,y2:e+i},o},o.track=function(t){return f=t&&"function"==typeof t&&t,o},o.namespace=function(t){return _=t,o},f=o._getDefaultTrack=function(t,e,n,i){return i},o._onMouseOver=function(){return this.style("display","block")},o._onMouseMove=function(){var t=l=f.apply(a,[].slice.call(arguments,0)),n=arguments[4];h=e.select(n),o.show(t,n.__mounter)},o._onMouseOut=o.hide,o}n="default"in n?n["default"]:n;var s={};s.mergeRecursive=function(t,e){return function n(t,e){var i,r;for(i in e)if(e.hasOwnProperty(i))if(r=e[i],r instanceof Array)t[i]=r.slice(0);else if("object"==typeof r){if(null===r)continue;n(r,t[i]||(t[i]={}))}else t[i]=r}(t,e),t},s.getSmartComputedStyle=function(t,e){var n,i,r,o="W",a={"fill-opacity":0,"stroke-opacity":0},u="string"==typeof e?e:void 0;return n=t.append("text").text(o),u?n.attr("class",u):"object"==typeof e&&(delete e["fill-opacity"],delete e["stroke-opacity"],s.mergeRecursive(a,e)),n.style(a),i=getComputedStyle(n.node()),r={fontSize:i.fontSize,iFontSize:parseInt(i.fontSize.match(/\d+/)[0],10),fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r},s.getArgedText=function(t){var e=[];return t instanceof Array?(e[0]=t[0]||"",e[1]=t[1]||{}):(e[0]=t,e[1]={}),e},s.applyStyleObj=function(t,e){var n;if(t.node().removeAttribute("style"),!e)return t;for(n in e)t.style(n,e[n]);return t};var a;r.SEPARATOR={N:"\n",S:"s",T:"	",_def:function(t,e,n){function i(t,e){var n,i,r=0;for(n=0,i=t.length;i>n;n++)r+=t[n]+c*e;return r-c*e}var o,s,a,u=0,h=0,l=t.getOriSize("W"),c=l.width,f=l.height,p=[],d=!1;for(o=0,s=e.length;s>o;o++)if(null===e[o][0]){d=!0;break}if(d)p.push(0);else for(o=0,s=e.length;s>o;o++)p.push(t.getOriSize(e[o][0]).width);switch(n){case r.SEPARATOR.N:a=function(t){return{x:0,y:f*t}};break;case r.SEPARATOR.T:a=function(t){return{x:t?2*c:0,y:0}},u=i(p,2),h=u?f:u;break;case r.SEPARATOR.S:default:a=function(t){return{x:t?.5*c:0,y:0}},u=i(p,.5),h=u?f:u}return{fn:a,oriWidth:u,oriHeight:h,ignore:d}}},(a=r.prototype).constructor=r,a._prepareTooltipModel=function(t){var e={},n={title:{icon:null,text:[],breakBy:r.SEPARATOR.S},body:{icon:null,text:[],rank:1,breakBy:r.SEPARATOR.S}};return i(n,e,t),e},a._prepareFirables=function(t){function e(t){var e,n,i,r,o,s=[];if(t instanceof Array)for(e=0,n=t.length;n>e;e++)i=t[e],i&&"function"==typeof i&&s.push([e,i]);else r=t,o=arguments[1],i=r[o],i&&"function"==typeof i&&s.push([o,i]);return 0===s.length?null:s.map(function(e){return e.unshift(r||t),e})}var n,i,r,o,s,a,u,h,l=[],c=t.title,f=t.body;for(u=e(c.text),n=0,i=f.length;i>n;n++)for(s=f[n],r=0,o=s.length;o>r;r++)a=s[r],h=e(a.text),h&&[].push.apply(l,h),h=e(a,"rank"),h&&[].push.apply(l,h);return(u||[]).concat(l)},a._executeFirables=function(t,e){var n,i,r,o,s=this._firables;for(n=0,i=s.length;i>n;n++)r=s[n],(o=r[2])&&"function"==typeof o&&(r[0][r[1]]=r[2](e));return this},a.setLimit=function(t){return this.limit=t,this},a.addData=function(t){var e;return this.data=t,e=this.model=this._prepareTooltipModel(t),this._firables=this._prepareFirables(e),this.addTitle(e.title).addBody(e.body),this},a.addTitle=function(t){return this.title.model=t,s.mergeRecursive(this.title.args,t.args),this},a.addBody=function(t){return this.body.model=t,s.mergeRecursive(this.body.args,t.args),this},a.mountTo=function(t){return this.mountPoint=t,this},a.mount=function(t){var e,n,i,r,o=this.mountPoint,s=this.title,a=this.body,u=s.args.className,h=a.args.className;return this.context=t||null,this._executeFirables(this.model,t),i=o.attr("class",this.baseClassName).selectAll("rect").data([1]),i=i.enter().append("rect").merge(i).attr("class",this.baseClassName+"-container"),e=o.selectAll("g."+u).data([s.model]),e.exit().remove(),e=s._graphics.g=e.enter().append("g").attr("class",u).merge(e),n=o.selectAll("g."+h).data(a.model),n.exit().remove(),n=a._graphics.g=n.enter().append("g").attr("class",h).merge(n),r=this.mountTitle(e).mountBody(n).mountComponents(),i.attr("x",0).attr("y",0).attr("height",this.verticalLimit=r.height),i.transition().duration(this.horizontalLimit?this.horizontalLimit<r.width?0:500:0).attr("width",this.horizontalLimit=r.width),this},a.size=function(){return{height:this.verticalLimit,width:this.horizontalLimit}},a.mountTitle=function(t){var e,n,i,r=this.title._graphics;return e=t.selectAll("rect").data([1]),r.container=e.enter().append("rect").merge(e).attr("class",t.attr("class")+"-container"),n=t.selectAll("path").data(function(t){return t}),n.exit().remove(),r.icon=n.enter().merge(n).append("path").merge(n).attr("class",t.attr("class")+"-icon"),i=t.selectAll("text").data(function(t){return[t.text]}),i.exit().remove(),r.text=i.enter().append("text").merge(i).attr("class",t.attr("class")+"-text"),this},a.mountBody=function(t){var e,n,i,r,o=this.body._graphics;return n=t.selectAll("rect").data(function(t){return[t]}),o.container=n.enter().append("rect").classed(t.attr("class")+"-container",!0).merge(n),e=t.selectAll("g").data(function(t){return t}),e.exit().remove(),e=o.unitBodyG=e.enter().append("g").merge(e),i=e.selectAll("path").data(function(t){return[t]}),i.exit().remove(),o.icon=i.enter().append("path").classed(t.attr("class")+"-icon",!0).merge(i),r=e.selectAll("text").data(function(t){return[t.text]}),r.exit().remove(),o.text=r.enter().append("text").classed(t.attr("class")+"-text",!0).merge(r),this},a.mountComponents=function(){var t,n,i,r,o=0,s=0,a=this._mountAtomicComponent.bind(this),u=Number.NEGATIVE_INFINITY,h=this.title,l=h.args,c=h._graphics,f=this.body,p=f.args,d=f._graphics;return o=l.margin[1],s=l.margin[0],t=a(c.g,r=c.container,{icon:c.icon,text:c.text},{y:s,x:o},{padding:l.padding}),s+=t.height?t.height+l.margin[0]:t.height,u=Math.max(i=u,t.width),d.g.each(function(){var i=e.select(this),r=i.selectAll("g"),h=i.selectAll("rect");n=s,r.each(function(){var n=e.select(this),i=n.selectAll("path"),r=n.selectAll("text");o=p.margin[1],s+=p.margin[0],t=a(n,null,{icon:i,text:r},{y:s,x:o},{padding:p.padding}),s+=t.height+p.margin[0],u=Math.max(u,t.width+p.margin[1])}),h.attr("x",o).attr("y",n).attr("width",u).attr("height",s-n),s+=p.margin[0]}),u>i&&r.attr("width",u),u+=2*p.margin[1],s+=l.margin[1]-p.margin[0],{height:s,width:u}},a._mountAtomicComponent=function(t,n,i,o,a){var u,h,l,c,f=0,p=this.smartlabel,d=a.padding[2]||0,g=a.padding[1],_=a.padding[0];return c=i.text.selectAll("tspan").data(function(e){return l=r.SEPARATOR._def(p.setStyle(s.getSmartComputedStyle(t)),e.map(function(t){return s.getArgedText(t)}),t.datum().breakBy),l.ignore?[]:e}),i.icon.attr("d",function(t){var n,i,r;return l.ignore?null:(n=t.icon)&&"function"==typeof n?(i=n(.5*l.oriHeight+o.x+g,.5*l.oriHeight+o.y+_,.5*l.oriHeight,this.context),i&&(f=l.oriHeight),r=s.getArgedText(i),s.applyStyleObj(e.select(this),r[1].style),r[0]):void 0}),c.exit().remove(),c.enter().append("tspan").merge(c).text(function(t){var n=s.getArgedText(t),i=n[1].style;return s.applyStyleObj(e.select(this),i),n[0]}).attr("dx",function(t,e){return l.fn(e).x}),i.text.attr("x",f+d+o.x+g).attr("y",o.y+_).attr("dy","0.92em"),u=f+d+l.oriWidth+2*g,h=l.oriHeight?l.oriHeight+2*_:l.oriHeight,n&&n.attr("x",o.x).attr("y",o.y).attr("height",h).attr("width",u),{height:h,width:u}},t.tooltip=o,Object.defineProperty(t,"__esModule",{value:!0})})}),"px"),Gf="",qf=function(){return{container:{className:"d3-dropdown"},listItem:{className:"d3-dropdownlistitem",states:{hover:{className:"d3-dropdownlistitem-state-hover"},selected:{className:"d3-dropdownlistitem-state-selected"}}}}},Yf={},Vf=function(t,e){for(var n=e.parentNode;null!=n;){if(n===t)return!0;n=n.parentNode}return!1};Qo.prototype.getConfig=function(t){return this.config[t]},Qo.prototype.namespace=function(t){var e,n=this.config,i=n.states;n.namespace=t,n.className=t+"-"+n.className,n.specificClassName=this.config.className;for(e in i)i[e].className=t+"-"+i[e].className},Qo.prototype.appendSelector=function(t){var e,n=this.config.states;this.config.selector=t,this.config.specificClassName=this.config.className+"-"+t;for(e in n)n[e].className=n[e].className+"-"+t},Qo.prototype.getStateClassName=function(t){return this.config.states[t].className},Qo.prototype.dispose=function(){this.buttonGroup&&this.buttonGroup.remove()},Qo.prototype.setConfig=function(t){return s(t,this.config),this},Qo.prototype.getConfig=function(t){return this.config[t]},Qo.prototype.getLogicalSpace=function(){var t=this.config,e=t.specificClassName,n=this.getIndividualClassNames(e),i=Ko(),s=n.text,a=this.symbol,u=t.padding,h=u.left,l=u.right,c=u.top,f={width:0,height:0},p=t.margin,d=p.left+p.right,g=p.top+p.bottom,_=r(il("svg"),s),m=_.fontSize;return this.textFontSize=parseInt(m),"string"==typeof a&&(f=o(a,s,il("svg"),i)),t.width=void 0===t.width?Math.max(f.width+h+l+d,t.width||0):t.width,t.height=void 0===t.height?Math.max(f.height+c+l+g,t.height||0):t.height,this.logicalSpace={width:t.width,height:t.height}},Qo.prototype.getWidth=function(){return this.logicalSpace||(this.logicalSpace=this.getLogicalSpace()),this.logicalSpace&&this.logicalSpace.width||0},Qo.prototype.getHeight=function(){return this.logicalSpace||(this.logicalSpace=this.getLogicalSpace()),this.logicalSpace&&this.logicalSpace.height||0},Qo.prototype.getIndividualClassNames=function(t){return i(t,"button")},Qo.prototype.getClassName=function(){return this.config.specificClassName},Qo.prototype.setParentGroup=function(t){this.parentGroup=t},Qo.prototype.draw=function(t,e,n){var i,r,o,s,a,h=this.config,l=h.className,c=h.specificClassName,f=this.getIndividualClassNames(c),p=f.container,d=f.text,g=f.symbol,_=this.buttonGroup,m=this.elements,y=m.container,v=m.text,x=m.symbol,w=this.symbol,b=n||this.parentGroup,M=h.animation,C=this.drawn?M.duration:0,S=h.padding,T=S.left,N=S.right,A=S.top,k=S.bottom,E=h.radius,L=Pi().duration(C);return this.parentGroup=b,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,r=i.width,o=i.height,_||(_=this.buttonGroup=n.append("g")),this.buttonGroup.classed(l+" "+c,!0),y||(y=m.container=_.append("rect")),y.transition(L).attr("x",t).attr("y",e).attr("width",r).attr("height",o),y.classed(p,!0).attr("rx",E).attr("ry",E),"string"==typeof w?(v||(v=m.text=_.append("text")),a={x:t+T,y:e+A,width:r-N-T,height:o-k-A},v.text(w).transition(L).attr("x",a.x+a.width/2).attr("y",a.y+a.height/2),v.attr("dy","0.35em").attr("text-anchor","middle").attr("pointer-events","none").classed(d,!0)):"function"==typeof w&&(s=w(t+T,e+A,r-(T+N),o-(A+k),S),x||(x=_.append(s.type)),x.attr("pointer-events","none").classed(g,!0),u(x,s.attrs)),this.buttonGroup=_,this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),this.drawn=!0,this},Qo.prototype.bindEventListeners=function(){var t,e=this.eventMap;for(t in e)this.on(t,e[t]);return this},Qo.prototype.postDraw=function(){this.addHoverEvents(),this.bindEventListeners(),this.attachTooltip()},Qo.prototype.addHoverEvents=function(){var t=this;t.on("mouseover",function(){t.setState("hover")},"default"),t.on("mouseout",function(){t.removeState("hover")},"default")},Qo.prototype.attachTooltip=function(){var t=this.tooltip,e=this.buttonGroup,n=this.config.toolText,i=(this.elements,this.getBBox());void 0!==n&&(t||(t=this.tooltip=t().namespace(this.config.namespace).attachTo(il(this.parentGroup.node().ownerSVGElement)).offset({x:15,y:15})),e.data([[null,n]]).call(t),e.on("touchstart.d3-button-tooltip",function(){mh.preventDefault(),mh.stopPropagation(),t.show([i.x+10,i.y-i.height-30])}),e.on("touchmove.d3-button-tooltip",function(){var e=e;e.preventDefault(),e.stopPropagation(),t.show([i.x+10,i.y-i.height-30])}),e.on("touchend.d3-button-tooltip",function(){mh.preventDefault(),mh.stopPropagation(),t.hide()}))},Qo.prototype.classed=function(t,e){var n=this.elements,r=i(t,"button");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(r.container,e),n.text&&n.text.classed(r.text,e),n.symbol&&n.symbol.classed(r.symbol,e),this},Qo.prototype.on=function(t,e,n){var i="createTouch"in document;return i?("mouseover"===t&&this.buttonGroup.on("touchstart.mouseover",function(){mh.preventDefault(),mh.stopPropagation(),e()}),"mouseout"===t&&this.buttonGroup.on("touchend.mouseout",function(){mh.preventDefault(),mh.stopPropagation(),e()}),"click"===t&&this.buttonGroup.on("touchend.click",function(){mh.preventDefault(),mh.stopPropagation(),e()})):this.buttonGroup.on(t+"."+(n||"custom"),e),this},Qo.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.visible=!1,this},Qo.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.visible=!0,this},Qo.prototype.disable=function(t){this.elements.container&&this.elements.container.attr("pointer-events",t?"none":"")},Qo.prototype.getBoundElement=function(){return this.elements.container.node()},Qo.prototype.setState=function(t){var e=this.config,n=e.states,i=n[t].className;"disabled"===t&&this.disable(!0),this.classed(i,!0)},Qo.prototype.removeState=function(t){var e=this.config,n=e.states,i=n[t].className;"disabled"===t&&this.disable(!1),this.classed(i,!1)},Qo.prototype.attachEventHandlers=function(t){this.eventMap=t},Qo.prototype.getStateClassNames=function(){var t,e=this.config.states,n={};for(t in e)n[t]=e[t].className;return n},ts.prototype=Object.create(Qo.prototype),ts.prototype.draw=function(t,e,n){var i,r,o,s,h,l,c,f,p,d,g,_=this,m=this.config,y=m.className,v=m.specificClassName,x=this.getIndividualClassNames(v),w=x.container,b=x.text,M=x.input,C=x.icon,S=this.elements,T=S.container,N=S.text,A=S.inputBox,k=m.padding,E=k.left,L=k.right,I=k.top,D=k.bottom,R=n||this.parentGroup,P=this.buttonGroup,H=this.textFontSize/1.3,B=this.textFontSize/2.6,U=S.arrow,F=S.inputFieldTracker,W=S.iconTracker,O=m.hasInputField,j=m.placeholder,z=m.icon;return!P&&(P=this.buttonGroup=n.append("g")),this.parentGroup=R,c=R.node().ownerSVGElement.parentNode,this.logicalSpace||(i=this.getLogicalSpace()),P.classed(y+" "+v,!0),i=this.logicalSpace,r=i.width,o=i.height,T||(T=S.container=P.append("rect")),u(T,{x:t,y:e,width:r,height:o,"class":w,rx:m.radius,ry:m.radius}),!N&&(N=S.text=P.append("text")),N.text(this.symbol||"W"),s={x:t+E,y:e+I,width:r-L-E,height:o-D-I},f={x:s.x,y:s.y+s.height/2,dy:"0.35em","pointer-events":"none"},u(N,f),N.classed(b,!0),h=N.node().getBBox(),N.text(this.symbol||Gf),O&&(!A&&(A=S.inputBox=il(c).append("input")),l={position:"absolute",top:h.y+zf,left:h.x+zf,width:r-(E+L)-(m.icon?H:0)+3+zf,height:(h.height||o)+zf,outline:"none",margin:"0px",border:"0px",padding:"0px",visibility:"hidden"},A.attr("placeholder",j),A.classed(M,!0),a(A,l),A.attr("value",this.symbol)),F||(F=S.inputFieldTracker=P.append("rect")),u(F,{x:t,y:e,width:r-(m.icon?L+H:0),height:o}),a(F,{opacity:0,cursor:O?"text":"pointer"}),this.buttonGroup=P,z&&(p=t+r-L-H+4,d=e+o/2-B/2,g=["M",p,d,"L",p+H,d,"L",p+H/2,d+B,"Z"],!U&&(U=S.arrow=P.append("path")),U.attr("d",g.toString().replace(/,/g," ")).classed(C,!0).attr("pointer-events","none"),W||(W=S.iconTracker=P.append("rect")),u(W,{x:t+r-H-L,y:e,width:H+L,height:o}),a(W,{opacity:0,cursor:"pointer"})),_.config.hasInputField!==!1&&_.on("click",_.edit.bind(_),"default"),_.config.hasInputField!==!1&&_.on("blur",_.blur.bind(_),"default"),this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),_},ts.prototype.classed=function(t,e){var n=this.elements,r=i(t,"inputButton");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(r.container,e),n.text&&n.text.classed(r.text,e),n.symbol&&n.symbol.classed(r.symbol,e),n.inputBox&&n.inputBox.classed(r.input,e),this},ts.prototype.blur=function(t){var e,n=this.elements,i=n.inputBox,o=Ko(),s=n.text,a=i&&i.node(),u=a?a.value:t,h=this.config,l=h.padding,c=h.width-(l.left+l.right),f=r(this.parentGroup,this.getIndividualClassNames(this.getClassName()).text);return i&&i.style("visibility","hidden"),o.setStyle(f),e=o.getSmartText(u,c,h.height),this.symbol=e.text,s&&s.style("display","block").text(e.text),this},ts.prototype.edit=function(){var t=this.elements,e=t.inputBox,n=e&&e.node(),i=n.value.length;return e&&(e.style("visibility","visible"),n.setSelectionRange(i,i),n.focus(),t.text.style("display","none")),this},ts.prototype.getIndividualClassNames=function(t){return i(t,"inputButton")},ts.prototype.text=function(t){var e=this.elements.inputBox,n=t;return t?(e&&(e.node().value=t),this.blur(t)):n=e?e.node().value:this.elements.text.text(),n},ts.prototype.value=function(){return this.text()},ts.prototype.on=function(t,e,n){var i=this.elements.inputBox,r=t+"."+(n||"custom");switch(t){case"blur":case"change":case"keypress":i&&i.on(r,e);break;case"onIconClick":this.elements.iconTracker&&this.elements.iconTracker.on("click",e),this.elements.iconTracker&&this.elements.iconTracker.on("touchend",function(){mh.preventDefault(),e()});break;default:this.elements.inputFieldTracker&&this.elements.inputFieldTracker.on(r,e)}return this},ts.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.elements.inputBox.attr("visibility","hidden"),this},ts.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.elements.inputBox.attr("visibility","visible"),this},is.prototype=Object.create(Qo.prototype),is.prototype.getLogicalSpace=function(){var t,e,n,i,r=this.config,s=r.width,a=r.height,u=this.options||[],h=Ko(),l=this.getIndividualClassNames(r.specificClassName),c=l.text,f=this.parentGroup,p=r.padding,d=p.left,g=p.right,_=p.top,m=p.bottom,y=0,v=0,x=u.length;if(s&&a)return this.logicalSpace={width:s,height:a};for(i=0;x>i;i++)t=u[i],e=t.name,n=o(e,c,f,h),y=Math.max(n.width,y),v=Math.max(n.height,v);return{width:y+d+g,height:v+_+m}},is.prototype.draw=function(t,e,n){var i,r,o,s,a,u,h,l=this.buttonGroup,c=this.elements,f=c.container,p=c.text,d=c.arrow,g=8,_=4,m=this.config,y=m.className,v=m.specificClassName,x=this.getIndividualClassNames(v),w=x.container,b=x.text,M=x.arrow,C=this.config.padding,S=C.left,T=C.right,N=C.top,A=C.bottom,k=this.options||[],E=n||this.parentGroup,L=this.logicalSpace,I=k[0]&&k[0].name;return this.parentGroup=E,this.logicalSpace||(L=this.getLogicalSpace()),u=L.width,h=L.height,!l&&(l=this.buttonGroup=n.append("g")),l.classed(y+" "+v,!0),!f&&(f=c.container=l.append("rect")),f.attr("x",t).attr("y",e).attr("width",u).attr("height",h).classed(w,!0).attr("rx",m.radius).attr("ry",m.radius),!p&&(p=c.text=l.append("text")),p.text("W"),i={x:t+S,y:e+N,width:u-(T+S)-g,height:h-(A+N)},p.attr("x",i.x).attr("y",i.y+i.height/2).attr("dy","0.35em").attr("pointer-events","none").classed(b,!0),a=p.node().getBBox(),p.text(I),o=t+u-T-g,s=a.y+a.height/2-_/2,r=["M",o,s,"L",o+g,s,"L",o+g/2,s+_,"Z"],!d&&(d=c.arrow=l.append("path")),d.attr("d",r.toString().replace(/,/g," ")).classed(M,!0).attr("pointer-events","none"),this.buttonGroup=l,this.getBBox=function(){return{x:t,y:e,width:u,height:h}},this.postDraw(),this},is.prototype.namespace=function(t){var e,n=this.config.dropDownMenu,i=n.container,r=n.listItem,o=r.states;Qo.prototype.namespace.call(this,t),i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},is.prototype.appendSelector=function(t){var e=this.config.dropDownMenu,n=e.container,i=e.listItem;Qo.prototype.appendSelector.call(this,t),n.className=n.className+"-"+t,i.className=i.className+"-"+t},is.prototype.text=function(t){return this.buttonGroup.select("text").text(t)},is.prototype.value=function(t){var e,n=this.dropDownMenu,i=this,r=n.container,o=i.selectedItem;return void 0===t?o&&o.datum().value:(e=r.getContainer(),void e.selectAll("div").each(function(e){var n;e.value===t&&(n=il(this),i.selectedItem&&i.selectItem(i.selectedItem,!1),i.selectItem(n,!0),i.text(n.datum().name),i.selectedItem=n)}))},is.prototype.createMenu=function(t){var e=this,n=this.dropDownMenu,i=this.elements.container.node(),r=this.config.dropDownMenu||{},o=r.container||{},s=r.listItem||{},a=o.className||{},u=s.className||{},h=s.states,l=i.getBBox();return n||(n=this.dropDownMenu=new Qr(il(t))),n.setConfig({listItem:{className:u,states:h},container:{className:a}}),n.setMeasurement({top:l.y+l.height,left:l.x,width:l.width-1}),i.groupId=n.groupId,this.on("mouseout",function(){0===n.listItems.length&&e.onBlur&&e.onBlur(),n.hide()},"default"),this.on("click",function(){n.toggleVisibility()},"default"),this.add(this.options),this},is.prototype.postDraw=function(){Qo.prototype.postDraw.call(this);var t=this,e=t.parentGroup,n=e.node().ownerSVGElement.parentNode;this.on("click",function(){t.setState("selected")},"selected"),this.on("blur",function(){t.removeState("selected")}),this.createMenu(n),il("html").on("touchend."+(new Date).getTime(),function(){
t.dropDownMenu.hide()})},is.prototype.add=function(t){var e,n,i,r=this.dropDownMenu,o=this.config,s=o.dropDownMenu||{},a=s.direction,u=this,h=this.elements.container.node().getBBox(),l=this.parentGroup.node().ownerSVGElement.getBoundingClientRect(),c=(l.top+l.height,"createTouch"in document);0!==t.length&&r.add(t),i=r.getFirstContainer(),i&&(i.on("hide",this.onBlur),e=i.getContainer(),n=i.getDimensions(),r.setMeasurement("down"===a?{top:h.y+h.height,left:h.x,width:h.width-1}:{top:h.y-n.height,left:h.x,width:h.width-1}),c?e.selectAll("div").on("touchend.selected",this.onSelect()).each(function(t,e){0===e&&(u.selectedItem&&u.selectItem(u.selectedItem,!1),u.selectedItem=u.selectItem(il(this),!0))}):e.selectAll("div").on("click.selected",this.onSelect()).each(function(t,e){0===e&&(u.selectedItem&&u.selectItem(u.selectedItem,!1),u.selectedItem=u.selectItem(il(this),!0))}))},is.prototype.setPlaceHolderValue=function(t){var e=this.elements,n=e.text;n&&n.text(t),this.selectItem(this.selectedItem,!1),this.selectedItem=void 0},is.prototype.updateList=function(t){var e=this.dropDownMenu;e.flushItems(),this.add(t),this.text(t[0]&&t[0].name||Gf)},is.prototype.selectItem=function(t,e){var n=this.config.dropDownMenu||{},i=n.listItem||{},r=i.states||{};return t&&t.classed(r.selected.className,e)},is.prototype.onSelect=function(){var t=this;return function(e){var n=il(this),i=t.selectedItem,r=t.onChange;i&&t.selectItem(i,!1),t.selectedItem=t.selectItem(n,!0),t.text(e.name),t.selectedItem=n,r&&r()}},is.prototype.on=function(t,e,n){switch(t){case"change":this.onChange=e;break;case"blur":this.onBlur=e;break;default:this.buttonGroup.on(t+"."+(n||"custom"),e)}return this},is.prototype.getIndividualClassNames=function(t){return i(t,"selectButton")},rs.prototype=Object.create(Qo.prototype),rs.prototype.add=function(t){var e=this.dropDownMenu;e.add(t)},rs.prototype.postDraw=function(){Qo.prototype.postDraw.call(this);var t=this,e=t.getBBox(),n={},i="createTouch"in document;this.on("mouseover",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n)}),i||this.on("mouseout",function(){t.dropDownMenu.hide()}),this.on("touchend",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n),t.removeState("hover")}),i&&(il("html").on("touchstart."+(new Date).getTime(),function(){var e=mh.target,n=t.elements.container.node();Vf(n,e)||t.dropDownMenu.hide()}),il("html").on("click."+(new Date).getTime(),function(){var e=mh.target,n=t.elements.container.node();Vf(n,e)||t.dropDownMenu.hide()}))},rs.prototype.showListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"block"})},rs.prototype.hideListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"none"})};var Xf,$f={left:0,right:0,bottom:0,top:0},Zf={left:0,right:0,bottom:0,top:0},Jf=function(t){return t+"px"},Kf=function(t,e){for(var n in e)t.on(n,e[n])},Qf=function(t){return{"margin-left":Jf(t.left),"margin-right":Jf(t.right),"margin-top":Jf(t.top),"margin-bottom":Jf(t.bottom)}};Xf=as.prototype,Xf.setConfig=function(t){s(t,this.config)},Xf.add=function(t){this.components=this.components.concat(t),this.createDialogBox()},Xf.hide=function(){},Xf.createDialogBox=function(){var t=this.components,e=this.parentContainer,n=this.container,i=this.config,r=i.className,o=i.margin||$f,s=i.padding||Zf;n||(n=this.container=il(e).append("div")),n.classed(r,!0),a(n,i.style),a(n,{"margin-left":Jf(o.left),"margin-right":Jf(o.right),"margin-top":Jf(o.top),"margin-bottom":Jf(o.bottom),"padding-left":Jf(s.left),"padding-right":Jf(s.right),"padding-top":Jf(s.top),"padding-bottom":Jf(s.bottom)}),this.createRowsRecursively(n,t)},Xf.createRowsRecursively=function(t,e){var n,i,r=this;n=t.selectAll("div").data(e),i=n.enter().append("div"),i.merge(n).each(function(t){var e=t.margin||$f,n=t.padding||Zf;t.cols&&r.createRowsRecursively(il(this),t.cols),t.elements&&r.createElements(il(this),t.elements),a(il(this),{"margin-left":Jf(e.left),"margin-right":Jf(e.right),"margin-top":Jf(e.top),"margin-bottom":Jf(e.bottom),"padding-left":Jf(n.left),"padding-right":Jf(n.right),"padding-top":Jf(n.top),"padding-bottom":Jf(n.bottom)}),a(il(this),t.style)})},Xf.createElements=function(t,e){var n,i,r,o,i=this.elements,s=us(e);for(r in s)i=s[r],n=t.selectAll(r).data(i),o=n.enter(),o.append(r).merge(n).each(function(t){var e=il(this);if(u(e,t.attrs),a(e,Qf(t.margin||$f)),t.events&&Kf(e,t.events),t.html&&e.html(t.html),"select"===r){var n=e.selectAll("option").data(t.options).enter().append("option").html(function(t){return t});e.node().add(n.node())}})},Xf.show=function(){},t.button=es,t.selectButton=ss,t.inputButton=ns,t.buttonWithContextMenu=os,t.dropDownMenu=Qr,t.dialogBox=hs,Object.defineProperty(t,"__esModule",{value:!0})});