(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(this,function(t){"use strict";function e(t){return t&&t.__esModule?t.default:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e){var n,i,r,o="W",s={"fill-opacity":0},a="string"==typeof e?e:void 0;return n=t.append("text").text(o),a&&n.attr("class",a),n.style(s),i=window.getComputedStyle(n.node()),r={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r}function r(t,e,n,r){var o,s=i(n,e);return r.setStyle(s),o=r.getOriSize(t),{width:o.width,height:o.height}}function o(t,e,n){var i,r;for(i in t)if(r=t[i],void 0!==r&&null!==r)if(n){if(e[i])continue;e[i]=r}else"object"==typeof r?(void 0===e[i]&&(e[i]={}),o(r,e[i],n)):e[i]=r}function s(t,e){var n;for(n in e)t.style(n,e[n])}function a(t,e){var n;for(n in e)t.attr(n,e[n])}function h(t){return!(!t||!t.nodeName||"DIV"!==t.nodeName.toUpperCase())}function u(){return On.smartLabel||(On.smartLabel=new Ln((new Date).getTime()))}function l(t){this.groupId=t,this.listItems=[],this.hideFnIds=[]}function c(t){var e=t.append("div");this.groupId="dropDownMenu-"+(new Date).getTime(),this.parentContainer=e,this.listItems=[],this.config={}}function f(t){return new c(t)}function p(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Dn&&e.documentElement.namespaceURI===Dn?e.createElement(t):e.createElementNS(n,t)}}function d(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function g(t,e,n){return t=m(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function m(t,e,n){return function(i){var r=Xn;Xn=i;try{t.call(this,this.__data__,e,n)}finally{Xn=r}}}function y(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function v(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function w(t,e,n){var i=$n.hasOwnProperty(t.type)?g:m;return function(r,o,s){var a,h=this.__on,u=i(e,o,s);if(h)for(var l=0,c=h.length;l<c;++l)if((a=h[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=e);this.addEventListener(t.type,u,n),a={type:t.type,name:t.name,value:e,listener:u,capture:n},h?h.push(a):this.__on=[a]}}function x(){}function _(){return[]}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function N(t,e,n,i,r,o){for(var s,a=0,h=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new b(t,o[a]);for(;a<h;++a)(s=e[a])&&(r[a]=s)}function M(t,e,n,i,r,o,s){var a,h,u,l={},c=e.length,f=o.length,p=new Array(c);for(a=0;a<c;++a)(h=e[a])&&(p[a]=u=ri+s.call(h,h.__data__,a,e),u in l?r[a]=h:l[u]=h);for(a=0;a<f;++a)u=ri+s.call(t,o[a],a,o),(h=l[u])?(i[a]=h,h.__data__=o[a],l[u]=null):n[a]=new b(t,o[a]);for(a=0;a<c;++a)(h=e[a])&&l[p[a]]===h&&(r[a]=h)}function S(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function C(t){return function(){this.removeAttribute(t)}}function A(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T(t,e){return function(){this.setAttribute(t,e)}}function E(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function I(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function H(t){return function(){this.style.removeProperty(t)}}function L(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function B(t){return function(){delete this[t]}}function R(t,e){return function(){this[t]=e}}function O(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function D(t){return t.trim().split(/^|\s+/)}function j(t){return t.classList||new P(t)}function P(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function F(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function z(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function G(t){return function(){F(this,t)}}function q(t){return function(){z(this,t)}}function V(t,e){return function(){(e.apply(this,arguments)?F:z)(this,t)}}function $(){this.textContent=""}function X(t){return function(){this.textContent=t}}function K(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Y(){this.innerHTML=""}function U(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function et(){var t=this.parentNode;t&&t.removeChild(this)}function nt(t,e,n){var i=yi(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function it(t,e){return function(){return nt(this,t,e)}}function rt(t,e){return function(){return nt(this,t,e.apply(this,arguments))}}function ot(t,e){this._groups=t,this._parents=e}function st(){return new ot([[document.documentElement]],ki)}function at(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new ht(i)}function ht(t){this._=t}function ut(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function lt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ct(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Hi,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function ft(){return Pi||(Gi(pt),Pi=zi.now()+Fi)}function pt(){Pi=0}function dt(){this._call=this._time=this._next=null}function gt(t,e,n){var i=new dt;return i.restart(t,e,n),i}function mt(){ft(),++Bi;for(var t,e=Li;e;)(t=Pi-e._time)>=0&&e._call.call(null,t),e=e._next;--Bi}function yt(){Pi=(ji=zi.now())+Fi,Bi=Ri=0;try{mt()}finally{Bi=0,wt(),Pi=0}}function vt(){var t=zi.now(),e=t-ji;e>Di&&(Fi-=e,ji=t)}function wt(){for(var t,e,n=Li,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Li=e);Wi=t,xt(i)}function xt(t){if(!Bi){Ri&&(Ri=clearTimeout(Ri));var e=t-Pi;e>24?(t<1/0&&(Ri=setTimeout(yt,e)),Oi&&(Oi=clearInterval(Oi))):(Oi||(Oi=setInterval(vt,Di)),Bi=1,Gi(yt))}}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Xi)throw new Error("too late");return n}function bt(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Yi)throw new Error("too late");return n}function Nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Mt(t,e,n){function i(t){n.state=Ki,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var u,l,c,f;if(n.state!==Ki)return s();for(u in h)if(f=h[u],f.name===n.name){if(f.state===Ui)return qi(r);f.state===Qi?(f.state=Ji,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete h[u]):+u<e&&(f.state=Ji,f.timer.stop(),delete h[u])}if(qi(function(){n.state===Ui&&(n.state=Qi,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=Yi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Yi){for(n.state=Ui,a=new Array(c=n.tween.length),u=0,l=-1;u<c;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(a[++l]=f);a.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Zi,1),r=-1,o=a.length;++r<o;)a[r].call(null,i);n.state===Zi&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Ji,n.timer.stop(),delete h[e];for(var i in h)return;delete t.__transition}var a,h=t.__transition;h[e]=n,n.timer=gt(i,0,n.time)}function St(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ct(){}function At(t){var e;return t=(t+"").trim().toLowerCase(),(e=ur.exec(t))?(e=parseInt(e[1],16),new Ht(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=lr.exec(t))?Tt(parseInt(e[1],16)):(e=cr.exec(t))?new Ht(e[1],e[2],e[3],1):(e=fr.exec(t))?new Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pr.exec(t))?Et(e[1],e[2],e[3],e[4]):(e=dr.exec(t))?Et(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gr.exec(t))?Lt(e[1],e[2]/100,e[3]/100,1):(e=mr.exec(t))?Lt(e[1],e[2]/100,e[3]/100,e[4]):yr.hasOwnProperty(t)?Tt(yr[t]):"transparent"===t?new Ht(NaN,NaN,NaN,0):null}function Tt(t){return new Ht(t>>16&255,t>>8&255,255&t,1)}function Et(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ht(t,e,n,i)}function kt(t){return t instanceof Ct||(t=At(t)),t?(t=t.rgb(),new Ht(t.r,t.g,t.b,t.opacity)):new Ht}function It(t,e,n,i){return 1===arguments.length?kt(t):new Ht(t,e,n,null==i?1:i)}function Ht(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Lt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,i)}function Wt(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof Ct||(t=At(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,h=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=h<.5?o+r:2-o-r,s*=60):a=h>0&&h<1?0:s,new Rt(s,a,h,t.opacity)}function Bt(t,e,n,i){return 1===arguments.length?Wt(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ot(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Dt(t){if(t instanceof Pt)return new Pt(t.l,t.a,t.b,t.opacity);if(t instanceof Xt){var e=t.h*vr;return new Pt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Ht||(t=kt(t));var n=qt(t.r),i=qt(t.g),r=qt(t.b),o=Ft((.4124564*n+.3575761*i+.1804375*r)/_r),s=Ft((.2126729*n+.7151522*i+.072175*r)/br),a=Ft((.0193339*n+.119192*i+.9503041*r)/Nr);return new Pt(116*s-16,500*(o-s),200*(s-a),t.opacity)}function jt(t,e,n,i){return 1===arguments.length?Dt(t):new Pt(t,e,n,null==i?1:i)}function Pt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ft(t){return t>Ar?Math.pow(t,1/3):t/Cr+Mr}function zt(t){return t>Sr?t*t*t:Cr*(t-Mr)}function Gt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Vt(t){if(t instanceof Xt)return new Xt(t.h,t.c,t.l,t.opacity);t instanceof Pt||(t=Dt(t));var e=Math.atan2(t.b,t.a)*wr;return new Xt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function $t(t,e,n,i){return 1===arguments.length?Vt(t):new Xt(t,e,n,null==i?1:i)}function Xt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Kt(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);t instanceof Ht||(t=kt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Br*i+Lr*e-Wr*n)/(Br+Lr-Wr),o=i-r,s=(Hr*(n-r)-kr*o)/Ir,a=Math.sqrt(s*s+o*o)/(Hr*r*(1-r)),h=a?Math.atan2(s,o)*wr-120:NaN;return new Ut(h<0?h+360:h,a,r,t.opacity)}function Yt(t,e,n,i){return 1===arguments.length?Kt(t):new Ut(t,e,n,null==i?1:i)}function Ut(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e){return function(n){return t+n*e}}function Zt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jt(t,e){var n=e-t;return n?Qt(t,n>180||n<-180?n-360*Math.round(n/360):n):Pr(isNaN(t)?e:t)}function te(t){return 1===(t=+t)?ee:function(e,n){return n-e?Zt(e,n,t):Pr(isNaN(e)?n:e)}}function ee(t,e){var n=e-t;return n?Qt(t,n):Pr(isNaN(t)?e:t)}function ne(t){return function(){return t}}function ie(t){return function(e){return t(e)+""}}function re(t){return"none"===t?Qr:(Rr||(Rr=document.createElement("DIV"),Or=document.documentElement,Dr=document.defaultView),Rr.style.transform=t,t=Dr.getComputedStyle(Or.appendChild(Rr),null).getPropertyValue("transform"),Or.removeChild(Rr),t=t.slice(7,-1).split(","),Zr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function oe(t){return null==t?Qr:(jr||(jr=document.createElementNS("http://www.w3.org/2000/svg","g")),jr.setAttribute("transform",t),(t=jr.transform.baseVal.consolidate())?(t=t.matrix,Zr(t.a,t.b,t.c,t.d,t.e,t.f)):Qr)}function se(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var h=s.push("translate(",null,e,null,n);a.push({i:h-4,x:qr(t,r)},{i:h-2,x:qr(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:qr(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:qr(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function h(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:qr(t,n)},{i:a-2,x:qr(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),h(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function ae(t){return function e(n){function i(e,i){var r=t((e=Yt(e)).h,(i=Yt(i)).h),o=ee(e.s,i.s),s=ee(e.l,i.l),a=ee(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function he(t,e){var n,i;return function(){var r=bt(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function ue(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=bt(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},h=0,u=r.length;h<u;++h)if(r[h].name===e){r[h]=a;break}h===u&&r.push(a)}o.tween=r}}function le(t,e,n){var i=t._id;return t.each(function(){var t=bt(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Nt(t,i).value[e]}}function ce(t){return function(){this.removeAttribute(t)}}function fe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pe(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function de(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function ge(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function me(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function ye(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function ve(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function we(t,e){return function(){_t(this,t).delay=+e.apply(this,arguments)}}function xe(t,e){return e=+e,function(){_t(this,t).delay=e}}function _e(t,e){return function(){bt(this,t).duration=+e.apply(this,arguments)}}function be(t,e){return e=+e,function(){bt(this,t).duration=e}}function Ne(t,e){if("function"!=typeof e)throw new Error;return function(){bt(this,t).ease=e}}function Me(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function Se(t,e,n){var i,r,o=Me(e)?_t:bt;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function Ce(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ae(t,e){var n,i,r;return function(){var o=yi(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}function Te(t){return function(){this.style.removeProperty(t)}}function Ee(t,e,n){var i,r;return function(){var o=yi(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function ke(t,e,n){var i,r,o;return function(){var s=yi(this).getComputedStyle(this,null),a=s.getPropertyValue(t),h=n(this);return null==h&&(this.style.removeProperty(t),h=s.getPropertyValue(t)),a===h?null:a===i&&h===r?o:o=e(i=a,r=h)}}function Ie(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function He(t){return function(){this.textContent=t}}function Le(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function We(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Be(t){return st().transition(t)}function Re(){return++_o}function Oe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function De(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return To.time=ft(),To;return n}function je(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Pe(){}function Fe(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ro.exec(t))?(e=parseInt(e[1],16),new $e(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Oo.exec(t))?ze(parseInt(e[1],16)):(e=Do.exec(t))?new $e(e[1],e[2],e[3],1):(e=jo.exec(t))?new $e(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Po.exec(t))?Ge(e[1],e[2],e[3],e[4]):(e=Fo.exec(t))?Ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=zo.exec(t))?Xe(e[1],e[2]/100,e[3]/100,1):(e=Go.exec(t))?Xe(e[1],e[2]/100,e[3]/100,e[4]):qo.hasOwnProperty(t)?ze(qo[t]):"transparent"===t?new $e(NaN,NaN,NaN,0):null}function ze(t){return new $e(t>>16&255,t>>8&255,255&t,1)}function Ge(t,e,n,i){return i<=0&&(t=e=n=NaN),new $e(t,e,n,i)}function qe(t){return t instanceof Pe||(t=Fe(t)),t?(t=t.rgb(),new $e(t.r,t.g,t.b,t.opacity)):new $e}function Ve(t,e,n,i){return 1===arguments.length?qe(t):new $e(t,e,n,null==i?1:i)}function $e(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Xe(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ue(t,e,n,i)}function Ke(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=Fe(t)),!t)return new Ue;if(t instanceof Ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,h=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=h<.5?o+r:2-o-r,s*=60):a=h>0&&h<1?0:s,new Ue(s,a,h,t.opacity)}function Ye(t,e,n,i){return 1===arguments.length?Ke(t):new Ue(t,e,n,null==i?1:i)}function Ue(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ze(t){if(t instanceof tn)return new tn(t.l,t.a,t.b,t.opacity);if(t instanceof hn){var e=t.h*Vo;return new tn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof $e||(t=qe(t));var n=on(t.r),i=on(t.g),r=on(t.b),o=en((.4124564*n+.3575761*i+.1804375*r)/Ko),s=en((.2126729*n+.7151522*i+.072175*r)/Yo),a=en((.0193339*n+.119192*i+.9503041*r)/Uo);return new tn(116*s-16,500*(o-s),200*(s-a),t.opacity)}function Je(t,e,n,i){return 1===arguments.length?Ze(t):new tn(t,e,n,null==i?1:i)}function tn(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function en(t){return t>ts?Math.pow(t,1/3):t/Jo+Qo}function nn(t){return t>Zo?t*t*t:Jo*(t-Qo)}function rn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function on(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function sn(t){if(t instanceof hn)return new hn(t.h,t.c,t.l,t.opacity);t instanceof tn||(t=Ze(t));var e=Math.atan2(t.b,t.a)*$o;return new hn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function an(t,e,n,i){return 1===arguments.length?sn(t):new hn(t,e,n,null==i?1:i)}function hn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function un(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);t instanceof $e||(t=qe(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(hs*i+ss*e-as*n)/(hs+ss-as),o=i-r,s=(os*(n-r)-is*o)/rs,a=Math.sqrt(s*s+o*o)/(os*r*(1-r)),h=a?Math.atan2(s,o)*$o-120:NaN;return new cn(h<0?h+360:h,a,r,t.opacity)}function ln(t,e,n,i){return 1===arguments.length?un(t):new cn(t,e,n,null==i?1:i)}function cn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function fn(t,e){return function(n){return t+n*e}}function pn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function dn(t,e){var n=e-t;return n?fn(t,n>180||n<-180?n-360*Math.round(n/360):n):us(isNaN(t)?e:t)}function gn(t){return 1===(t=+t)?mn:function(e,n){return n-e?pn(e,n,t):us(isNaN(e)?n:e)}}function mn(t,e){var n=e-t;return n?fn(t,n):us(isNaN(t)?e:t)}function yn(t){return function(){return t}}function vn(t){return function(e){return t(e)+""}}function wn(t){return function e(n){function i(e,i){var r=t((e=ln(e)).h,(i=ln(i)).h),o=mn(e.s,i.s),s=mn(e.l,i.l),a=mn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function xn(){return vs.smartLabel||(vs.smartLabel=new Ln((new Date).getTime()))}function _n(t){this.symbol=t,this.config={className:"d3-button",specificClassName:"d3-button",states:{hover:"d3-button-state-hover",selected:"d3-button-state-selected",disabled:"d3-button-state-disabled"},padding:{top:4,right:4,bottom:4,left:4},radius:1,margin:{top:0,right:5,left:5,bottom:0},animation:{duration:1e3}},this.elements={}}function bn(){_n.apply(this,arguments),this.setConfig({className:"d3-inputbutton",states:{hover:"d3-inputbutton-state-hover",selected:"d3-inputbutton-state-selected",disabled:"d3-inputbutton-state-disabled"},padding:{left:10}})}function Nn(t){return new _n(t)}function Mn(t){return new bn(t)}function Sn(t){this.options=t,_n.apply(this,arguments),this.setConfig({className:"d3-selectbutton",states:{hover:"d3-selectbutton-state-hover",selected:"d3-selectbutton-state-selected"},dropDownMenu:ys()})}function Cn(t,e){_n.apply(this,arguments),this.dropDownMenu=new f(Ii(e)),this.setConfig({dropDownMenu:ys()}),this.dropDownMenu.setConfig(this.config.dropDownMenu)}function An(t,e){return new Cn(t,e)}function Tn(t){return new Sn(t)}var En="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},kn=n(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",s=Math.ceil,a=Math.floor,h=0,u="fusioncharts-smartlabel-",l=u+"container",c=u+"tag",f=u+"br";return n={win:t,containerClass:l,classNameWithTag:c,classNameWithTagBR:f,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+c+"\b"),classNameBrReg:new RegExp("\b"+f+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+c+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+c+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=c,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),h+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,h=0,u=r(t),l=u/t.length;if(i=e,o=s(e/l),u<e)return t.length-1;for(o>t.length&&(i=e-u,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),h=a(i/l),!h)return o;o+=h}for(;i<0;){if(i=e-r(t.substr(0,o)),h=a(i/l),!h)return o;o+=h}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e.default=n,t.exports=e.default}),In=n(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e,n){var i;n=n>5?n:5,n=n<20?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=s.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=kn,r=e(i),o=r.default.init("undefined"!=typeof window?window:void 0),s=o.win.document,a=o.getDocumentSupport(),h=a.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,s=this.length,a=this.maxContainers,h="";for(n in o.supportedStyle)void 0!==t[n]&&(h+=o.supportedStyle[n]+":"+t[n]+";");if(!h)return!1;if(i=r[h])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(s>=a)for(e=s-a+1;e--;)this.removeContainer(this.last);i=this.addContainer(h)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=s.createElement("div"),this.rootNode.appendChild(e),a.isIE&&!a.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,a.isBrowserLess?(e=n.svgText=s.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-h)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-h,e.textContent=".",n.dotWidth=e.getBBox().width-h):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),Hn=n(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){var o,s,l,c,f=!1,p=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(c=p[t])&&c.dispose(),p[t]=this,r=r||{},r.maxCacheLimit=isFinite(l=r.maxCacheLimit)?l:h.maxDefaultCacheLimit,"string"==typeof e&&(e=u.getElementById(e)),o=h.createContainer(e),o.innerHTML=h.testStrAvg,!g.isHeadLess&&(g.isIE||o.offsetHeight||o.offsetWidth)||(f=!0),o.innerHTML="";for(s in h.parentContainerStyle)o.style[s]=h.parentContainerStyle[s];this.id=t,this.parentContainer=o,this._containerManager=new a.default(o,f,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=kn,o=n(r),s=In,a=n(s),h=o.default.init("undefined"!=typeof window?window:void 0),u=h.win.document,l=h.win.Math,c=l.max,f=l.round,p="",d={" ":"&nbsp;"},g=h.getDocumentSupport(),m=g.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,s,a,h,u=this.options.maxCacheLimit,l=this._container,c=this.style||{},f=this._advancedCache||(this._advancedCache={}),g=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p),y=t+"init"+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p);return d[t]&&(t=d[t]),e?void 0===(h=f[y])&&(l.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=l.offsetWidth,l.innerHTML=t,s=l.offsetWidth,h=f[y]=(o-n*s)/(n+1),g.push(y),g.length>u&&delete f[g.shift()]):h=0,(a=f[m])?(r=a.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(l.innerHTML=t,i={height:l.offsetHeight,width:l.offsetWidth+h},f[m]=i.width+","+i.height,g.push(m),g.length>u&&delete f[g.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,i<1&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),h.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,s,a,l,f,p,d,m,y,v,w,x,_,b,N,M,S,C,A,T,E,k,I,H,L,W=!1,B=0,R=-1,O=-1,D=-1,j=0,P=0,F=[],z=0,G=this._showNoEllipses?"":"...",q=this._lineHeight,V=this._context,$=this._container,X=this._containerObj,K=X.ellipsesWidth,Y=X.dotWidth,U=[],Q=-1,Z=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(w=this._getWidthFn(),n===q&&(n*=1.2),$){if(!g.isBrowserLess){if(W=h.xmlTagRegEx.test(t),W?($.innerHTML=t,et.oriTextWidth=p=$.offsetWidth,et.oriTextHeight=d=$.offsetHeight):(a=t.replace(h.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),b=this.getOriSize(a,!0),et.oriTextWidth=p=b.width,et.oriTextHeight=d=b.height),d<=n&&p<=e)return et.width=et.oriTextWidth=p,et.height=et.oriTextHeight=d,et;if(q>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),l=this._showNoEllipses?e:e-K,
!W){if(F=t.split(""),r=F.length,o="",s=[],v=F[0],this._cache[v]?C=this._cache[v].width:(C=w(v),this._cache[v]={width:C}),l>C)s=t.substr(0,h.getNearestBreakIndex(t,l,this)).split(""),z=s.length;else{if(C>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;G&&(l=e-2*Y,l>C?G="..":(l=e-Y,l>C?G=".":(l=0,G="")))}if(j=w(s.join("")),P=this._lineHeight,i){for(;z<r;z+=1)if(v=s[z]=F[z],this._cache[v]?C=this._cache[v].width:(b&&(C=b.detailObj[v])||(C=w(v)),this._cache[v]={width:C}),j+=C,j>l&&(o||(o=s.slice(0,-1).join("")),j>e))return et.text=tt(o)+G,et.tooltext=et.oriText,et.width=w(et.text),et.height=this._lineHeight,et;return et.text=s.join(""),et.width=j,et.height=this._lineHeight,et}for(;z<r;z+=1)if(v=s[z]=F[z]," "!==v||V||(v="&nbsp;"),this._cache[v]?C=this._cache[v].width:(b&&(C=b.detailObj[v])||(C=w(v)),this._cache[v]={width:C}),j+=C,j>l&&(o||(o=s.slice(0,-1).join("")),j>e)){if(O=t.substr(0,s.length).lastIndexOf(" "),R=t.substr(0,s.length).lastIndexOf("-"),O>D?(j=w(s.slice(D+1,O).join("")),s.splice(O,1,"<br/>"),D=O,m=O+1):R>D?(R===s.length-1?(j=w(s.slice(D+1,O).join("")),s.splice(R,1,"<br/>-")):(j=w(s.slice(D+1,O).join("")),s.splice(R,1,"-<br/>")),D=R,m=R+1):(s.splice(s.length-1,1,"<br/>"+F[z]),J=s.length-2,j=w(s.slice(D+1,J+1).join("")),D=J,m=z),P+=this._lineHeight,P>n)return et.text=tt(o)+G,et.tooltext=et.oriText,et.width=e,et.height=P-this._lineHeight,et;B=c(B,j),o=null,y=h.getNearestBreakIndex(t.substr(m),l,this),j=w(t.substr(m,y||1)),s.length<m+y&&(s=s.concat(t.substr(s.length,m+y-s.length).split("")),z=s.length-1)}return B=c(B,j),et.text=s.join(""),et.width=B,et.height=P,et}for(f=t.replace(h.spanAdditionRegx,"$2"),t=t.replace(h.spanAdditionRegx,h.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[h.classNameWithTag," ",h.classNameWithTagBR].join("")+'">$1</span>'),$.innerHTML=t,N=$[g.childRetriverFn](g.childRetriverString),M=0,S=N.length;M<S;M+=1)A=N[M],(g.noClassTesting||h.classNameReg.test(A.className))&&(T=A.innerHTML,""!==T&&(" "===T?Z=U.length:"-"===T&&(Q=U.length),U.push({spaceIdx:Z,dashIdx:Q,elem:A}),F.push(T)));if(z=0,r=U.length,C=U[0].elem.offsetWidth,C>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(C>l&&!this._showNoEllipses&&(l=e-2*Y,l>C?G="..":(l=e-Y,l>C?G=".":(l=0,G=""))),x=U[0].elem.offsetLeft,_=U[0].elem.offsetTop,i)for(;z<r;z+=1)A=U[z].elem,E=A.offsetLeft-x+A.offsetWidth,E>l&&(L||(L=z),$.offsetWidth>e&&(H=z,z=r));else for(;z<r;z+=1)A=U[z].elem,k=A.offsetHeight+(A.offsetTop-_),E=A.offsetLeft-x+A.offsetWidth,I=null,E>l?(L||(L=z),E>e&&(O=U[z].spaceIdx,R=U[z].dashIdx,O>D?(U[O].elem.innerHTML="<br/>",D=O):R>D?(R===z?U[R].elem.innerHTML="<br/>-":U[R].elem.innerHTML="-<br/>",D=R):A.parentNode.insertBefore(I=u.createElement("br"),A),A.offsetHeight+A.offsetTop>n?(I?I.parentNode.removeChild(I):D===R?U[R].elem.innerHTML="-":U[O].elem.innerHTML=" ",H=z,z=r):L=null)):k>n&&(H=z,z=r);if(H<r){for(et.isTruncated=!0,L=L?L:H,z=r-1;z>=L;z-=1)A=U[z].elem,A.parentNode.removeChild(A);for(;z>=0;z-=1)A=U[z].elem,h.classNameBrReg.test(A.className)?A.parentNode.removeChild(A):z=0}return et.text=$.innerHTML.replace(h.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=G,et.tooltext=f),et.height=$.offsetHeight,et.width=$.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,s,a=0,h=0,u={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,s=n.length;o<s;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),h=c(h,r.height),a+=r.width,u[i]=r.width;return{width:f(a),height:h,detailObj:u}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e.default=i,t.exports=e.default}),Ln=e(Hn),Wn="px",Bn=300,Rn=window.d3,On={};l.prototype.init=function(t){var e,n=this;this.container=Rn.select(t),this.container.node().groupId=this.groupId,e={position:"absolute","z-index":999999,overflow:"wrap",display:"none"},n.on("mouseout",function(t){var e=Rn.event.toElement||Rn.event.relatedTarget;e&&e.groupId===t.groupId||n.hide()},"default"),s(this.container,e)},l.prototype.getContainer=function(){return this.container},l.prototype.setParentListContainer=function(t){this.parentListCon=t},l.prototype.getDimensions=function(){var t,e=this.container,n=e.node();return e.style("display","block"),t={width:n.offsetWidth,height:n.offsetHeight},e.style("display","none"),t},l.prototype.show=function(t){var e,n,i,r,o,a,u=this.hideFnIds,l={},c=this.parentListCon,f=0,p=this.container.datum(),d=p.measurement||t,g=p.position,m=window.innerWidth,y=function(){var t=n.offsetLeft+n.offsetWidth+o.offsetWidth>m,e=n.offsetLeft-o.offsetWidth<0;return e?1:t?2:0};for(this.visible=!0,i=u.length;f<i;f++)clearTimeout(u[f]);u.length=0,t=this.target=t||this.target,this.container.style("display","block"),c?(c.show(),n=c.getContainer().node(),l.top=n.offsetTop+t.offsetTop+Wn,o=this.container.node(),a=y(o,n),"right"===g?(l.left=(2===a?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Wn,l.right="auto"):(l.left=(2===a||0===a?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Wn,l.right="auto")):!h(t)&&t&&t.getBBox?(e=t.getBBox(),r=this.container.node().offsetWidth,l.top=e.y+e.height+3+Wn,"left"===g?(l.left=e.x+Wn,l.right="auto"):"right"===g&&(l.left=e.x+e.width-r+Wn,l.right="auto")):d&&(l={left:void 0===d.left?"auto":d.left+Wn,top:void 0===d.top?"auto":d.top+Wn,right:void 0===d.right?"auto":d.right+Wn,bottom:void 0===d.bottom?"auto":d.bottom+Wn,width:void 0===d.width?"auto":d.width+Wn,height:void 0===d.height?"auto":d.height+Wn}),s(this.container,l)},l.prototype.hide=function(t){var e=this,n=e.parentListCon,i=e.onhide,r=void 0===t?Bn:t;n&&n.hide(r),this.visible=!1,this.hideFnIds.push(setTimeout(function(){e.container.style("display","none"),i&&i()},r))},l.prototype.classed=function(t,e){this.container.classed(t,e)},l.prototype.on=function(t,e,n){"undefined"==typeof this.container.node()["on"+t]?this["on"+t]=e:this.container.on(t+"."+(n||"custom"),e)},c.prototype.setConfig=function(t){return o(t,this.config),this},c.prototype.setMeasurement=function(t){var e=this.getFirstContainer();return e?e.getContainer().datum().measurement=t:this.measurement=t,this},c.prototype.setPosition=function(t){return this.position=t,this},c.prototype.classed=function(t,e){return this.container.classed(t,e),this.subContainers.forEach(function(n){n.classed(t,e)}),this},c.prototype.namespace=function(t){var e,n=this.config,i=n.container,r=n.listItem,o=r.states;i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},c.prototype.add=function(t,e){var n,i,r,o,a,h,c=this,f=c.parentContainer,p=this.config,d=p.listItem||{},g=d.className,m=function(t){var e=c.config,n=e.listItem||{},i=n.states||{},r=i.hover,o=t.subContainer;t.parentContainer&&t.parentContainer.show(),t.interactivity!==!1&&t.listItem.classed(r,!0),o&&o.show(this)},y=function(t){var e=c.config,n=e.listItem||{},i=n.states||{},r=i.hover;t.interactivity!==!1&&t.listItem.classed(r,!1),t.subContainer&&t.subContainer.hide()},v=function(){return this.parentNode===f.node()},w=function(t){t.parentContainer&&t.parentContainer.hide(1),t.subContainer&&t.subContainer.hide(1)},x=function(t){t.container.init(this)},_=p.container&&p.container.className,b=c.containerData||(c.containerData=[]),N=0,M={left:8,right:8,top:3,bottom:3},S={margin:"2px 2px 2px 2px",display:"block"},C={height:"1px",margin:"1px",padding:"0px",display:"block"},A="&#9666;",T=u();return b[N]?n=b[N].container:b[N]={container:n=new l(this.groupId),groupId:this.groupId,measurement:this.measurement,position:this.position},r=f.selectAll("div").filter(v).data(b),r.enter().append("div").each(x),n.classed(_,!0),this.container=n,N++,t=c.listItems=c.listItems.concat(t),function t(e,n,r){var u,p,d,E,k,I,H;return I=n?n:c.container,d=I.getContainer(),u=e instanceof Array?e:[e],k=d.selectAll("div").data(u),k.exit().style("display","none"),H=k.enter().append("div").merge(k),H.each(function(e){var n,u,k,H;H=e.name,n=e.action,u=e.handler,k=e.className,h=e.padding||{},p=Rn.select(this).classed(g,!0),k&&p.classed(e.className,!0),e.listItem=p,r&&(e.parentListItem=r),e.parentContainer=I,s(p,e.divider?C:S),u&&"function"!=typeof u?(s(p,{"padding-right":(h.right||M.right)+"px","padding-bottom":(h.bottom||M.bottom)+"px","padding-top":(h.top||M.top)+"px"}),o=[{html:A,style:{"padding-left":M.left+Wn}},{html:H,style:{"padding-left":h.left-T.getOriSize("&#9666;").width-M.left+"px"}}],a=p.selectAll("span").data(o),a.enter().append("span").merge(a).each(function(t){s(Rn.select(this).html(t.html),t.style)}),b[N]?d=b[N].container:b[N]={container:d=new l(c.groupId),groupId:c.groupId,position:c.position},N++,i=f.selectAll("div").filter(v).data(b),i.enter().append("div").each(x),E=t(u,d,p),E.classed(_,!0),e.subContainer=E,E.setParentListContainer(I)):(p.html(H),e.divider!==!0&&s(p,{"padding-left":(h.left||M.left)+"px","padding-right":(h.right||M.right)+"px","padding-bottom":(h.bottom||M.bottom)+"px","padding-top":(h.top||M.top)+"px"})),p.on("mouseover.default",m),p.on("mouseout.default",y),p.on("click.default",w),n&&p.on(n+".custom",u)}),I}(t,e,null),c},c.prototype.show=function(t){0!==this.listItems.length&&this.container.show(t)},c.prototype.hide=function(){0!==this.listItems.length&&this.container.hide()},c.prototype.toggleVisibility=function(){0!==this.listItems.length&&(this.container.visible?this.hide():this.show())},c.prototype.getFirstContainer=function(){return this.container},c.prototype.flushItems=function(){this.listItems.length=0};var Dn="http://www.w3.org/1999/xhtml",jn={svg:"http://www.w3.org/2000/svg",xhtml:Dn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),jn.hasOwnProperty(e)?{space:jn[e],local:t}:t},Fn=function(t){var e=Pn(t);return(e.local?d:p)(e)},zn=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Gn=document.documentElement;if(!Gn.matches){var qn=Gn.webkitMatchesSelector||Gn.msMatchesSelector||Gn.mozMatchesSelector||Gn.oMatchesSelector;zn=function(t){return function(){return qn.call(this,t)}}}}var Vn=zn,$n={},Xn=null;if("undefined"!=typeof document){var Kn=document.documentElement;"onmouseenter"in Kn||($n={mouseenter:"mouseover",mouseleave:"mouseout"})}var Yn=function(t,e,n){var i,r,o=y(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?w:v,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var h,u=0,l=a.length;u<l;++u)for(i=0,h=a[u];i<s;++i)if((r=o[i]).type===h.type&&r.name===h.name)return h.value}},Un=function(t){return null==t?x:function(){return this.querySelector(t)}},Qn=function(t){"function"!=typeof t&&(t=Un(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],h=a.length,u=i[r]=new Array(h),l=0;l<h;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),u[l]=s);return new ot(i,this._parents)},Zn=function(t){return null==t?_:function(){return this.querySelectorAll(t)}},Jn=function(t){"function"!=typeof t&&(t=Zn(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],h=a.length,u=0;u<h;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new ot(i,r)},ti=function(t){"function"!=typeof t&&(t=Vn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,h=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&h.push(o);return new ot(i,this._parents)},ei=function(t){return new Array(t.length)},ni=function(){return new ot(this._enter||this._groups.map(ei),this._parents)};b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ii=function(t){return function(){return t}},ri="$",oi=function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each(function(t){p[++u]=t}),p;var n=e?M:N,i=this._parents,r=this._groups;"function"!=typeof t&&(t=ii(t));for(var o=r.length,s=new Array(o),a=new Array(o),h=new Array(o),u=0;u<o;++u){var l=i[u],c=r[u],f=c.length,p=t.call(l,l&&l.__data__,u,i),d=p.length,g=a[u]=new Array(d),m=s[u]=new Array(d),y=h[u]=new Array(f);n(l,c,g,m,y,p,e);for(var v,w,x=0,_=0;x<d;++x)if(v=g[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<d;);v._next=w||null}}return s=new ot(s,i),s._enter=a,s._exit=h,s},si=function(){return new ot(this._exit||this._groups.map(ei),this._parents)},ai=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var h,u=e[a],l=n[a],c=u.length,f=s[a]=new Array(c),p=0;p<c;++p)(h=u[p]||l[p])&&(f[p]=h);for(;a<i;++a)s[a]=e[a];return new ot(s,this._parents)},hi=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},ui=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],h=a.length,u=r[o]=new Array(h),l=0;l<h;++l)(s=a[l])&&(u[l]=s);u.sort(e)}return new ot(r,this._parents).order()},li=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},ci=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},fi=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},pi=function(){var t=0;return this.each(function(){++t}),t},di=function(){return!this.node()},gi=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},mi=function(t,e){var n=Pn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?A:C:"function"==typeof e?n.local?I:k:n.local?E:T)(n,e))},yi=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},vi=function(t,e,n){var i;return arguments.length>1?this.each((null==e?H:"function"==typeof e?W:L)(t,e,null==n?"":n)):yi(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},wi=function(t,e){return arguments.length>1?this.each((null==e?B:"function"==typeof e?O:R)(t,e)):this.node()[t]};P.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xi=function(t,e){var n=D(t+"");if(arguments.length<2){for(var i=j(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?V:e?G:q)(n,e))},_i=function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?K:X)(t)):this.node().textContent},bi=function(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?Q:U)(t)):this.node().innerHTML},Ni=function(){return this.each(Z)},Mi=function(){return this.each(J)},Si=function(t){var e="function"==typeof t?t:Fn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ci=function(t,e){var n="function"==typeof t?t:Fn(t),i=null==e?tt:"function"==typeof e?e:Un(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Ai=function(){return this.each(et)},Ti=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ei=function(t,e){return this.each(("function"==typeof e?rt:it)(t,e))},ki=[null];ot.prototype=st.prototype={constructor:ot,select:Qn,selectAll:Jn,filter:ti,data:oi,enter:ni,exit:si,merge:ai,order:hi,sort:ui,call:li,nodes:ci,node:fi,size:pi,empty:di,each:gi,attr:mi,style:vi,property:wi,classed:xi,text:_i,html:bi,raise:Ni,lower:Mi,append:Si,insert:Ci,remove:Ai,datum:Ti,on:Yn,dispatch:Ei};var Ii=function(t){return"string"==typeof t?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],ki)},Hi={value:function(){}};ht.prototype=at.prototype={constructor:ht,on:function(t,e){var n,i=this._,r=ut(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=ct(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ct(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=lt(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ht(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Li,Wi,Bi=0,Ri=0,Oi=0,Di=1e3,ji=0,Pi=0,Fi=0,zi="object"==typeof performance&&performance.now?performance:Date,Gi="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};dt.prototype=gt.prototype={constructor:dt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ft():+n)+(null==e?0:+e),this._next||Wi===this||(Wi?Wi._next=this:Li=this,Wi=this),this._call=t,this._time=n,xt()},stop:function(){this._call&&(this._call=null,this._time=1/0,xt())}};var qi=function(t,e,n){var i=new dt;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},Vi=at("start","end","interrupt"),$i=[],Xi=0,Ki=1,Yi=2,Ui=3,Qi=4,Zi=5,Ji=6,tr=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Mt(t,n,{name:e,index:i,group:r,on:Vi,tween:$i,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xi})},er=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>Yi&&n.state<Zi,n.state=Ji,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},nr=function(t){return this.each(function(){er(this,t)})},ir=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},rr=.7,or=1/rr,sr="\\s*([+-]?\\d+)\\s*",ar="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ur=/^#([0-9a-f]{3})$/,lr=/^#([0-9a-f]{6})$/,cr=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),fr=new RegExp("^rgb\\("+[hr,hr,hr]+"\\)$"),pr=new RegExp("^rgba\\("+[sr,sr,sr,ar]+"\\)$"),dr=new RegExp("^rgba\\("+[hr,hr,hr,ar]+"\\)$"),gr=new RegExp("^hsl\\("+[ar,hr,hr]+"\\)$"),mr=new RegExp("^hsla\\("+[ar,hr,hr,ar]+"\\)$"),yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ir(Ct,At,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),ir(Ht,It,St(Ct,{brighter:function(t){return t=null==t?or:Math.pow(or,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?rr:Math.pow(rr,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ir(Rt,Bt,St(Ct,{brighter:function(t){return t=null==t?or:Math.pow(or,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rr:Math.pow(rr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ht(Ot(t>=240?t-240:t+120,r,i),Ot(t,r,i),Ot(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var vr=Math.PI/180,wr=180/Math.PI,xr=18,_r=.95047,br=1,Nr=1.08883,Mr=4/29,Sr=6/29,Cr=3*Sr*Sr,Ar=Sr*Sr*Sr;ir(Pt,jt,St(Ct,{brighter:function(t){return new Pt(this.l+xr*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Pt(this.l-xr*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=br*zt(t),e=_r*zt(e),n=Nr*zt(n),new Ht(Gt(3.2404542*e-1.5371385*t-.4985314*n),Gt(-.969266*e+1.8760108*t+.041556*n),Gt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),ir(Xt,$t,St(Ct,{brighter:function(t){return new Xt(this.h,this.c,this.l+xr*(null==t?1:t),this.opacity)},darker:function(t){return new Xt(this.h,this.c,this.l-xr*(null==t?1:t),this.opacity)},rgb:function(){return Dt(this).rgb()}}));var Tr=-.14861,Er=1.78277,kr=-.29227,Ir=-.90649,Hr=1.97294,Lr=Hr*Ir,Wr=Hr*Er,Br=Er*kr-Ir*Tr;ir(Ut,Yt,St(Ct,{brighter:function(t){return t=null==t?or:Math.pow(or,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rr:Math.pow(rr,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*vr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Ht(255*(e+n*(Tr*i+Er*r)),255*(e+n*(kr*i+Ir*r)),255*(e+n*(Hr*i)),this.opacity)}}));var Rr,Or,Dr,jr,Pr=function(t){return function(){return t}},Fr=function t(e){function n(t,e){var n=i((t=It(t)).r,(e=It(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=i(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=te(e);return n.gamma=t,n}(1),zr=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),s=new Array(i);for(n=0;n<r;++n)o[n]=Yr(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},Gr=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},qr=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Vr=function(t,e){var n,i={},r={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=Yr(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},$r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xr=new RegExp($r.source,"g"),Kr=function(t,e){var n,i,r,o=$r.lastIndex=Xr.lastIndex=0,s=-1,a=[],h=[];for(t+="",e+="";(n=$r.exec(t))&&(i=Xr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,h.push({i:s,x:qr(n,i)})),o=Xr.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?h[0]?ie(h[0].x):ne(e):(e=h.length,function(t){for(var n,i=0;i<e;++i)a[(n=h[i]).i]=n.x(t);return a.join("")})},Yr=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Pr(e):("number"===i?qr:"string"===i?(n=At(e))?(e=n,Fr):Kr:e instanceof At?Fr:e instanceof Date?Gr:Array.isArray(e)?zr:isNaN(e)?Vr:qr)(t,e)},Ur=180/Math.PI,Qr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Zr=function(t,e,n,i,r,o){var s,a,h;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(h=t*n+e*i)&&(n-=t*h,i-=e*h),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,h/=a),t*i<e*n&&(t=-t,e=-e,h=-h,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Ur,skewX:Math.atan(h)*Ur,scaleX:s,scaleY:a}},Jr=se(re,"px, ","px)","deg)"),to=se(oe,", ",")",")");Math.SQRT2;ae(Jt);var eo=(ae(ee),function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Nt(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?he:ue)(n,t,e))}),no=function(t,e){var n;return("number"==typeof e?qr:e instanceof At?Fr:(n=At(e))?(e=n,Fr):Kr)(t,e)},io=function(t,e){var n=Pn(t),i="transform"===n?to:no;return this.attrTween(t,"function"==typeof e?(n.local?me:ge)(n,i,le(this,"attr."+t,e)):null==e?(n.local?fe:ce)(n):(n.local?de:pe)(n,i,e))},ro=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Pn(t);return this.tween(n,(i.local?ye:ve)(i,e))},oo=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?we:xe)(e,t)):Nt(this.node(),e).delay},so=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_e:be)(e,t)):Nt(this.node(),e).duration},ao=function(t){var e=this._id;return arguments.length?this.each(Ne(e,t)):Nt(this.node(),e).ease},ho=function(t){"function"!=typeof t&&(t=Vn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,h=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&h.push(o);return new We(i,this._parents,this._name,this._id)},uo=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var h,u=e[a],l=n[a],c=u.length,f=s[a]=new Array(c),p=0;p<c;++p)(h=u[p]||l[p])&&(f[p]=h);for(;a<i;++a)s[a]=e[a];return new We(s,this._parents,this._name,this._id)},lo=function(t,e){var n=this._id;return arguments.length<2?Nt(this.node(),n).on.on(t):this.each(Se(n,t,e))},co=function(){return this.on("end.remove",Ce(this._id))},fo=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Un(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,h,u=i[s],l=u.length,c=o[s]=new Array(l),f=0;f<l;++f)(a=u[f])&&(h=t.call(a,a.__data__,f,u))&&("__data__"in a&&(h.__data__=a.__data__),c[f]=h,tr(c[f],e,n,f,c,Nt(a,n)));return new We(o,this._parents,e,n)},po=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Zn(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var h,u=i[a],l=u.length,c=0;c<l;++c)if(h=u[c]){for(var f,p=t.call(h,h.__data__,c,u),d=Nt(h,n),g=0,m=p.length;g<m;++g)(f=p[g])&&tr(f,e,n,g,p,d);o.push(p),s.push(h)}return new We(o,s,e,n)},go=st.prototype.constructor,mo=function(){return new go(this._groups,this._parents)},yo=function(t,e,n){var i="transform"==(t+="")?Jr:no;return null==e?this.styleTween(t,Ae(t,i)).on("end.style."+t,Te(t)):this.styleTween(t,"function"==typeof e?ke(t,i,le(this,"style."+t,e)):Ee(t,i,e),n)},vo=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Ie(t,e,null==n?"":n))},wo=function(t){return this.tween("text","function"==typeof t?Le(le(this,"text",t)):He(null==t?"":t+""))},xo=function(){for(var t=this._name,e=this._id,n=Re(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],h=a.length,u=0;u<h;++u)if(s=a[u]){var l=Nt(s,e);tr(s,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new We(i,this._parents,t,n)},_o=0,bo=st.prototype;We.prototype=Be.prototype={constructor:We,select:fo,selectAll:po,filter:ho,merge:uo,selection:mo,transition:xo,call:bo.call,nodes:bo.nodes,node:bo.node,size:bo.size,empty:bo.empty,each:bo.each,on:lo,attr:io,attrTween:ro,style:yo,styleTween:vo,text:wo,remove:co,tween:eo,delay:oo,duration:so,ease:ao};var No=3,Mo=(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(No),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(No),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(No),1.70158),So=(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(Mo),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Mo),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Mo),2*Math.PI),Co=1,Ao=.3,To=(function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=So);return i.amplitude=function(e){return t(e,n*So)},i.period=function(n){return t(e,n)},i}(Co,Ao),function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=So);return i.amplitude=function(e){return t(e,n*So)},i.period=function(n){return t(e,n)},i}(Co,Ao),function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=So);return i.amplitude=function(e){return t(e,n*So)},i.period=function(n){return t(e,n)},i}(Co,Ao),{time:null,delay:0,duration:250,ease:Oe}),Eo=function(t){var e,n;t instanceof We?(e=t._id,t=t._name):(e=Re(),(n=To).time=ft(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],h=a.length,u=0;u<h;++u)(s=a[u])&&tr(s,t,e,u,a,n||De(s,e));
return new We(i,this._parents,t,e)};st.prototype.interrupt=nr,st.prototype.transition=Eo;var ko=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Io=.7,Ho=1/Io,Lo="\\s*([+-]?\\d+)\\s*",Wo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ro=/^#([0-9a-f]{3})$/,Oo=/^#([0-9a-f]{6})$/,Do=new RegExp("^rgb\\("+[Lo,Lo,Lo]+"\\)$"),jo=new RegExp("^rgb\\("+[Bo,Bo,Bo]+"\\)$"),Po=new RegExp("^rgba\\("+[Lo,Lo,Lo,Wo]+"\\)$"),Fo=new RegExp("^rgba\\("+[Bo,Bo,Bo,Wo]+"\\)$"),zo=new RegExp("^hsl\\("+[Wo,Bo,Bo]+"\\)$"),Go=new RegExp("^hsla\\("+[Wo,Bo,Bo,Wo]+"\\)$"),qo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ko(Pe,Fe,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),ko($e,Ve,je(Pe,{brighter:function(t){return t=null==t?Ho:Math.pow(Ho,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Io:Math.pow(Io,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ko(Ue,Ye,je(Pe,{brighter:function(t){return t=null==t?Ho:Math.pow(Ho,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Io:Math.pow(Io,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new $e(Qe(t>=240?t-240:t+120,r,i),Qe(t,r,i),Qe(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Vo=Math.PI/180,$o=180/Math.PI,Xo=18,Ko=.95047,Yo=1,Uo=1.08883,Qo=4/29,Zo=6/29,Jo=3*Zo*Zo,ts=Zo*Zo*Zo;ko(tn,Je,je(Pe,{brighter:function(t){return new tn(this.l+Xo*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new tn(this.l-Xo*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Yo*nn(t),e=Ko*nn(e),n=Uo*nn(n),new $e(rn(3.2404542*e-1.5371385*t-.4985314*n),rn(-.969266*e+1.8760108*t+.041556*n),rn(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),ko(hn,an,je(Pe,{brighter:function(t){return new hn(this.h,this.c,this.l+Xo*(null==t?1:t),this.opacity)},darker:function(t){return new hn(this.h,this.c,this.l-Xo*(null==t?1:t),this.opacity)},rgb:function(){return Ze(this).rgb()}}));var es=-.14861,ns=1.78277,is=-.29227,rs=-.90649,os=1.97294,ss=os*rs,as=os*ns,hs=ns*is-rs*es;ko(cn,ln,je(Pe,{brighter:function(t){return t=null==t?Ho:Math.pow(Ho,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Io:Math.pow(Io,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Vo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new $e(255*(e+n*(es*i+ns*r)),255*(e+n*(is*i+rs*r)),255*(e+n*(os*i)),this.opacity)}}));var us=function(t){return function(){return t}},ls=(function t(e){function n(t,e){var n=i((t=Ve(t)).r,(e=Ve(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=mn(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=gn(e);return n.gamma=t,n}(1),function(t,e){return t=+t,e-=t,function(n){return t+e*n}}),cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fs=new RegExp(cs.source,"g");180/Math.PI,Math.SQRT2;wn(dn);wn(mn),n(function(t,e){(function(t,n){n(e)})(En,function(t){function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function r(t,e,n){return function(i){var r=ut;ut=i;try{t.call(this,this.__data__,e,n)}finally{ut=r}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function s(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function a(t,e,n){var o=ht.hasOwnProperty(t.type)?i:r;return function(i,r,s){var a,h=this.__on,u=o(e,r,s);if(h)for(var l=0,c=h.length;l<c;++l)if((a=h[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=e);this.addEventListener(t.type,u,n),a={type:t.type,name:t.name,value:e,listener:u,capture:n},h?h.push(a):this.__on=[a]}}function h(){}function u(){return[]}function l(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function c(t,e,n,i,r,o){for(var s,a=0,h=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new l(t,o[a]);for(;a<h;++a)(s=e[a])&&(r[a]=s)}function f(t,e,n,i,r,o,s){var a,h,u,c={},f=e.length,p=o.length,d=new Array(f);for(a=0;a<f;++a)(h=e[a])&&(d[a]=u=Nt+s.call(h,h.__data__,a,e),u in c?r[a]=h:c[u]=h);for(a=0;a<p;++a)u=Nt+s.call(t,o[a],a,o),(h=c[u])?(i[a]=h,h.__data__=o[a],c[u]=null):n[a]=new l(t,o[a]);for(a=0;a<f;++a)(h=e[a])&&c[d[a]]===h&&(r[a]=h)}function p(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d(t){return function(){this.removeAttribute(t)}}function g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,e){return function(){this.setAttribute(t,e)}}function y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function x(t){return function(){this.style.removeProperty(t)}}function _(t,e,n){return function(){this.style.setProperty(t,e,n)}}function b(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function N(t){return function(){delete this[t]}}function M(t,e){return function(){this[t]=e}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function C(t){return t.trim().split(/^|\s+/)}function A(t){return t.classList||new T(t)}function T(t){this._node=t,this._names=C(t.getAttribute("class")||"")}function E(t,e){for(var n=A(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function k(t,e){for(var n=A(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function I(t){return function(){E(this,t)}}function H(t){return function(){k(this,t)}}function L(t,e){return function(){(e.apply(this,arguments)?E:k)(this,t)}}function W(){this.textContent=""}function B(t){return function(){this.textContent=t}}function R(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function O(){this.innerHTML=""}function D(t){return function(){this.innerHTML=t}}function j(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function P(){this.nextSibling&&this.parentNode.appendChild(this)}function F(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z(){return null}function G(){var t=this.parentNode;t&&t.removeChild(this)}function q(t,e,n){var i=Rt(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function V(t,e){return function(){return q(this,t,e)}}function $(t,e){return function(){return q(this,t,e.apply(this,arguments))}}function X(t,e){this._groups=t,this._parents=e}function K(){return new X([[document.documentElement]],Yt)}function Y(t){return t&&t.__esModule?t.default:t}function U(t,e){return e={exports:{}},t(e,e.exports),e.exports}function Q(t,e,n){function i(t,e,n){e&&ee.mergeRecursive(t,e),"object"==typeof n&&null!==n?ee.mergeRecursive(t,n):t.text.push(n)}var r,o,s,a,h,u,l=0,c=n.shift(),f=n;for(e=e||{},t=t||{},i(e.title=e.title||{},t.title,c),e.body=e.body||[];s=f.shift();){if(h=e.body[l],h||e.body.push(h=[]),s instanceof Array)for(r=0,o=s.length;r<o;r++)u=h[r],u||h.push(u={}),a=s[r],i(u,t.body,a);else u=h[0],h.push(u={}),i(u,t.body,s),h.splice(1);l++}}function Z(t){var e;this.config=t||{},this.smartlabel=new te(Math.random()),this.verticalLimit=void 0,this.horizontalLimit=void 0,this.data=null,this.model=null,this.mountPoint=null,this._firables=null,this._context=null,this.clsNS=this.config.namespace,this.baseClassName=this.clsNS?this.clsNS+"-d3-tooltip":"d3-tooltip",e=this.baseClassName+"-body",this.title={model:null,args:{className:this.baseClassName+"-title",padding:[2,5,5],margin:[2,5]},_graphics:{}},this.body={model:null,args:{className:e,padding:[2,5,5],margin:[2,5],icon:{className:e+"-icon",_size:null},text:{className:e+"-text"}},_graphics:{}}}function J(){function t(t,e){var n=t.node().__mounter;n.mount(e)}function e(e,n,i){return function(){var r=[].slice.call(arguments,0),o=dt(this);r.push(o),r.push(this.__mounter),t(Ut(this),{pos:o}),n[e].apply(i,r)}}function n(t,n){return t.on("mouseover.d3-tooltip",e(0,n,r)),t.on("mousemove.d3-tooltip",e(1,n,r)),t.on("mouseout.d3-tooltip",e(2,n,r)),t}function i(t){c?t.each(function(t){this.__mounter.addData(t).mountTo(r)}):(r=o.append("g"),u=[i._onMouseOver,i._onMouseMove,i._onMouseOut],t.each(function(t){n(Ut(this),u),this.__mounter=new Z({namespace:l}).addData(t).mountTo(r)})),c=!0}var r,o,s=null,a={x:5,y:5},h=null,u=[],l=null,c=!1;return i.attachTo=function(t){return o=t,i},i.offset=function(t){return ee.mergeRecursive(a={},t),i},i.constrain=function(t,e){return h={width:t,height:e},i},i.track=function(t){return s=t&&"function"==typeof t&&t,i},i.namespace=function(t){return l=t,i},s=i._getDefaultTrack=function(t,e,n,i){return i},i._onMouseOver=function(){return this.style("display","block")},i._onMouseMove=function(){var t,e,n=!1,i=s.apply(r,[].slice.call(arguments,0)),o=arguments[4];return t=o.size(),h?(h.width&&(i[0]+a.x+t.width>h.width?i[0]-a.x-t.width<0?(i[0]=0,n=!0):i[0]-=a.x+t.width:i[0]+=a.x),(h.height||n)&&(h.height=h.height||Number.POSITIVE_INFINITY,e=n?3*a.y:a.y,i[1]+e+t.height>h.height?i[1]-=e+t.height:i[1]+=e)):(i[0]+=a.x,i[1]+=a.y),this.attr("transform","translate("+i[0]+", "+i[1]+")")},i._onMouseOut=function(){return this.style("display","none")},i}var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),et.hasOwnProperty(e)?{space:et[e],local:t}:t},it=function(t){var i=nt(t);return(i.local?n:e)(i)},rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ot=document.documentElement;if(!ot.matches){var st=ot.webkitMatchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.oMatchesSelector;rt=function(t){return function(){return st.call(this,t)}}}}var at=rt,ht={},ut=null;if("undefined"!=typeof document){var lt=document.documentElement;"onmouseenter"in lt||(ht={mouseenter:"mouseover",mouseleave:"mouseout"})}var ct=function(t,e,n){var i,r,h=o(t+""),u=h.length;{if(!(arguments.length<2)){for(l=e?a:s,null==n&&(n=!1),i=0;i<u;++i)this.each(l(h[i],e,n));return this}var l=this.node().__on;if(l)for(var c,f=0,p=l.length;f<p;++f)for(i=0,c=l[f];i<u;++i)if((r=h[i]).type===c.type&&r.name===c.name)return c.value}},ft=function(){for(var t,e=ut;t=e.sourceEvent;)e=t;return e},pt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},dt=function(t){var e=ft();return e.changedTouches&&(e=e.changedTouches[0]),pt(t,e)},gt=function(t){return null==t?h:function(){return this.querySelector(t)}},mt=function(t){"function"!=typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],h=a.length,u=i[r]=new Array(h),l=0;l<h;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),u[l]=s);return new X(i,this._parents)},yt=function(t){return null==t?u:function(){return this.querySelectorAll(t)}},vt=function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],h=a.length,u=0;u<h;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new X(i,r)},wt=function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,h=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&h.push(o);return new X(i,this._parents)},xt=function(t){return new Array(t.length)},_t=function(){return new X(this._enter||this._groups.map(xt),this._parents)};l.prototype={constructor:l,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var bt=function(t){return function(){return t}},Nt="$",Mt=function(t,e){if(!t)return g=new Array(this.size()),u=-1,this.each(function(t){g[++u]=t}),g;var n=e?f:c,i=this._parents,r=this._groups;"function"!=typeof t&&(t=bt(t));for(var o=r.length,s=new Array(o),a=new Array(o),h=new Array(o),u=0;u<o;++u){var l=i[u],p=r[u],d=p.length,g=t.call(l,l&&l.__data__,u,i),m=g.length,y=a[u]=new Array(m),v=s[u]=new Array(m),w=h[u]=new Array(d);n(l,p,y,v,w,g,e);for(var x,_,b=0,N=0;b<m;++b)if(x=y[b]){for(b>=N&&(N=b+1);!(_=v[N])&&++N<m;);x._next=_||null}}return s=new X(s,i),s._enter=a,s._exit=h,s},St=function(){return new X(this._exit||this._groups.map(xt),this._parents)},Ct=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var h,u=e[a],l=n[a],c=u.length,f=s[a]=new Array(c),p=0;p<c;++p)(h=u[p]||l[p])&&(f[p]=h);for(;a<i;++a)s[a]=e[a];return new X(s,this._parents)},At=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},Tt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=p);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],h=a.length,u=r[o]=new Array(h),l=0;l<h;++l)(s=a[l])&&(u[l]=s);u.sort(e)}return new X(r,this._parents).order()},Et=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},kt=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},It=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},Ht=function(){var t=0;return this.each(function(){++t}),t},Lt=function(){return!this.node()},Wt=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},Bt=function(t,e){var n=nt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?g:d:"function"==typeof e?n.local?w:v:n.local?y:m)(n,e))},Rt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Ot=function(t,e,n){var i;return arguments.length>1?this.each((null==e?x:"function"==typeof e?b:_)(t,e,null==n?"":n)):Rt(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},Dt=function(t,e){return arguments.length>1?this.each((null==e?N:"function"==typeof e?S:M)(t,e)):this.node()[t]};T.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jt=function(t,e){var n=C(t+"");if(arguments.length<2){for(var i=A(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?L:e?I:H)(n,e))},Pt=function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?R:B)(t)):this.node().textContent},Ft=function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?j:D)(t)):this.node().innerHTML},zt=function(){return this.each(P)},Gt=function(){return this.each(F)},qt=function(t){var e="function"==typeof t?t:it(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Vt=function(t,e){var n="function"==typeof t?t:it(t),i=null==e?z:"function"==typeof e?e:gt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},$t=function(){return this.each(G)},Xt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Kt=function(t,e){return this.each(("function"==typeof e?$:V)(t,e))},Yt=[null];X.prototype=K.prototype={constructor:X,select:mt,selectAll:vt,filter:wt,data:Mt,enter:_t,exit:St,merge:Ct,order:At,sort:Tt,call:Et,nodes:kt,node:It,size:Ht,empty:Lt,each:Wt,attr:Bt,style:Ot,property:Dt,classed:jt,text:Pt,html:Ft,raise:zt,lower:Gt,append:qt,insert:Vt,remove:$t,datum:Xt,on:ct,dispatch:Kt};var Ut=function(t){return"string"==typeof t?new X([[document.querySelector(t)]],[document.documentElement]):new X([[t]],Yt)},Qt=U(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",s=Math.ceil,a=Math.floor,h=0,u="fusioncharts-smartlabel-",l=u+"container",c=u+"tag",f=u+"br";return n={win:t,containerClass:l,classNameWithTag:c,classNameWithTagBR:f,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+c+"\b"),classNameBrReg:new RegExp("\b"+f+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+c+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+c+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=c,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),h+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,h=0,u=r(t),l=u/t.length;if(i=e,o=s(e/l),u<e)return t.length-1;for(o>t.length&&(i=e-u,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),h=a(i/l),!h)return o;o+=h}for(;i<0;){if(i=e-r(t.substr(0,o)),h=a(i/l),!h)return o;o+=h}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e.default=n,t.exports=e.default}),Zt=U(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e,n){var i;n=n>5?n:5,n=n<20?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=s.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=Qt,r=e(i),o=r.default.init("undefined"!=typeof window?window:void 0),s=o.win.document,a=o.getDocumentSupport(),h=a.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,s=this.length,a=this.maxContainers,h="";for(n in o.supportedStyle)void 0!==t[n]&&(h+=o.supportedStyle[n]+":"+t[n]+";");if(!h)return!1;if(i=r[h])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(s>=a)for(e=s-a+1;e--;)this.removeContainer(this.last);i=this.addContainer(h)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=s.createElement("div"),this.rootNode.appendChild(e),a.isIE&&!a.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,a.isBrowserLess?(e=n.svgText=s.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-h)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-h,e.textContent=".",n.dotWidth=e.getBBox().width-h):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),Jt=U(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){var o,s,l,c,f=!1,p=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(c=p[t])&&c.dispose(),p[t]=this,r=r||{},r.maxCacheLimit=isFinite(l=r.maxCacheLimit)?l:h.maxDefaultCacheLimit,"string"==typeof e&&(e=u.getElementById(e)),o=h.createContainer(e),o.innerHTML=h.testStrAvg,!g.isHeadLess&&(g.isIE||o.offsetHeight||o.offsetWidth)||(f=!0),o.innerHTML="";for(s in h.parentContainerStyle)o.style[s]=h.parentContainerStyle[s];this.id=t,this.parentContainer=o,this._containerManager=new a.default(o,f,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=Qt,o=n(r),s=Zt,a=n(s),h=o.default.init("undefined"!=typeof window?window:void 0),u=h.win.document,l=h.win.Math,c=l.max,f=l.round,p="",d={" ":"&nbsp;"},g=h.getDocumentSupport(),m=g.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,s,a,h,u=this.options.maxCacheLimit,l=this._container,c=this.style||{},f=this._advancedCache||(this._advancedCache={}),g=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p),y=t+"init"+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p);return d[t]&&(t=d[t]),e?void 0===(h=f[y])&&(l.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=l.offsetWidth,l.innerHTML=t,s=l.offsetWidth,h=f[y]=(o-n*s)/(n+1),g.push(y),g.length>u&&delete f[g.shift()]):h=0,(a=f[m])?(r=a.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(l.innerHTML=t,i={height:l.offsetHeight,width:l.offsetWidth+h},f[m]=i.width+","+i.height,g.push(m),g.length>u&&delete f[g.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,i<1&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),h.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,s,a,l,f,p,d,m,y,v,w,x,_,b,N,M,S,C,A,T,E,k,I,H,L,W=!1,B=0,R=-1,O=-1,D=-1,j=0,P=0,F=[],z=0,G=this._showNoEllipses?"":"...",q=this._lineHeight,V=this._context,$=this._container,X=this._containerObj,K=X.ellipsesWidth,Y=X.dotWidth,U=[],Q=-1,Z=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(w=this._getWidthFn(),n===q&&(n*=1.2),$){if(!g.isBrowserLess){if(W=h.xmlTagRegEx.test(t),W?($.innerHTML=t,et.oriTextWidth=p=$.offsetWidth,et.oriTextHeight=d=$.offsetHeight):(a=t.replace(h.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),b=this.getOriSize(a,!0),et.oriTextWidth=p=b.width,et.oriTextHeight=d=b.height),d<=n&&p<=e)return et.width=et.oriTextWidth=p,et.height=et.oriTextHeight=d,et;if(q>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),l=this._showNoEllipses?e:e-K,!W){if(F=t.split(""),r=F.length,o="",s=[],v=F[0],this._cache[v]?C=this._cache[v].width:(C=w(v),this._cache[v]={width:C}),l>C)s=t.substr(0,h.getNearestBreakIndex(t,l,this)).split(""),z=s.length;else{if(C>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;G&&(l=e-2*Y,l>C?G="..":(l=e-Y,l>C?G=".":(l=0,G="")))}if(j=w(s.join("")),P=this._lineHeight,i){for(;z<r;z+=1)if(v=s[z]=F[z],this._cache[v]?C=this._cache[v].width:(b&&(C=b.detailObj[v])||(C=w(v)),this._cache[v]={width:C}),j+=C,j>l&&(o||(o=s.slice(0,-1).join("")),j>e))return et.text=tt(o)+G,et.tooltext=et.oriText,et.width=w(et.text),et.height=this._lineHeight,et;return et.text=s.join(""),et.width=j,et.height=this._lineHeight,et}for(;z<r;z+=1)if(v=s[z]=F[z]," "!==v||V||(v="&nbsp;"),this._cache[v]?C=this._cache[v].width:(b&&(C=b.detailObj[v])||(C=w(v)),this._cache[v]={width:C}),j+=C,j>l&&(o||(o=s.slice(0,-1).join("")),j>e)){if(O=t.substr(0,s.length).lastIndexOf(" "),R=t.substr(0,s.length).lastIndexOf("-"),O>D?(j=w(s.slice(D+1,O).join("")),s.splice(O,1,"<br/>"),D=O,m=O+1):R>D?(R===s.length-1?(j=w(s.slice(D+1,O).join("")),s.splice(R,1,"<br/>-")):(j=w(s.slice(D+1,O).join("")),s.splice(R,1,"-<br/>")),D=R,m=R+1):(s.splice(s.length-1,1,"<br/>"+F[z]),J=s.length-2,j=w(s.slice(D+1,J+1).join("")),D=J,m=z),P+=this._lineHeight,P>n)return et.text=tt(o)+G,et.tooltext=et.oriText,et.width=e,et.height=P-this._lineHeight,et;B=c(B,j),o=null,y=h.getNearestBreakIndex(t.substr(m),l,this),j=w(t.substr(m,y||1)),s.length<m+y&&(s=s.concat(t.substr(s.length,m+y-s.length).split("")),z=s.length-1)}return B=c(B,j),et.text=s.join(""),et.width=B,et.height=P,et}for(f=t.replace(h.spanAdditionRegx,"$2"),t=t.replace(h.spanAdditionRegx,h.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[h.classNameWithTag," ",h.classNameWithTagBR].join("")+'">$1</span>'),$.innerHTML=t,N=$[g.childRetriverFn](g.childRetriverString),M=0,S=N.length;M<S;M+=1)A=N[M],(g.noClassTesting||h.classNameReg.test(A.className))&&(T=A.innerHTML,""!==T&&(" "===T?Z=U.length:"-"===T&&(Q=U.length),U.push({spaceIdx:Z,dashIdx:Q,elem:A}),F.push(T)));if(z=0,r=U.length,C=U[0].elem.offsetWidth,
C>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(C>l&&!this._showNoEllipses&&(l=e-2*Y,l>C?G="..":(l=e-Y,l>C?G=".":(l=0,G=""))),x=U[0].elem.offsetLeft,_=U[0].elem.offsetTop,i)for(;z<r;z+=1)A=U[z].elem,E=A.offsetLeft-x+A.offsetWidth,E>l&&(L||(L=z),$.offsetWidth>e&&(H=z,z=r));else for(;z<r;z+=1)A=U[z].elem,k=A.offsetHeight+(A.offsetTop-_),E=A.offsetLeft-x+A.offsetWidth,I=null,E>l?(L||(L=z),E>e&&(O=U[z].spaceIdx,R=U[z].dashIdx,O>D?(U[O].elem.innerHTML="<br/>",D=O):R>D?(R===z?U[R].elem.innerHTML="<br/>-":U[R].elem.innerHTML="-<br/>",D=R):A.parentNode.insertBefore(I=u.createElement("br"),A),A.offsetHeight+A.offsetTop>n?(I?I.parentNode.removeChild(I):D===R?U[R].elem.innerHTML="-":U[O].elem.innerHTML=" ",H=z,z=r):L=null)):k>n&&(H=z,z=r);if(H<r){for(et.isTruncated=!0,L=L?L:H,z=r-1;z>=L;z-=1)A=U[z].elem,A.parentNode.removeChild(A);for(;z>=0;z-=1)A=U[z].elem,h.classNameBrReg.test(A.className)?A.parentNode.removeChild(A):z=0}return et.text=$.innerHTML.replace(h.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=G,et.tooltext=f),et.height=$.offsetHeight,et.width=$.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,s,a=0,h=0,u={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,s=n.length;o<s;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),h=c(h,r.height),a+=r.width,u[i]=r.width;return{width:f(a),height:h,detailObj:u}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e.default=i,t.exports=e.default}),te=Y(Jt),ee={};ee.mergeRecursive=function(t,e){return function t(e,n){var i,r;for(i in n)if(n.hasOwnProperty(i))if(r=n[i],r instanceof Array)e[i]=r.slice(0);else if("object"==typeof r){if(null===r)continue;t(r,e[i]||(e[i]={}))}else e[i]=r}(t,e),t},ee.getSmartComputedStyle=function(t,e){var n,i,r,o="W",s={"fill-opacity":0,"stroke-opacity":0},a="string"==typeof e?e:void 0;return n=t.append("text").text(o),a?n.attr("class",a):"object"==typeof e&&(delete e["fill-opacity"],delete e["stroke-opacity"],ee.mergeRecursive(s,e)),n.style(s),i=getComputedStyle(n.node()),r={fontSize:i.fontSize,iFontSize:parseInt(i.fontSize.match(/\d+/)[0],10),fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r},ee.getArgedText=function(t){var e=[];return t instanceof Array?(e[0]=t[0]||"",e[1]=t[1]||{}):(e[0]=t,e[1]={}),e},ee.applyStyleObj=function(t,e){var n;if(t.node().removeAttribute("style"),!e)return t;for(n in e)t.style(n,e[n]);return t};var ne;Z.SEPARATOR={N:"\n",S:"s",T:"\t",_def:function(t,e,n){function i(t,e){var n,i,r=0;for(n=0,i=t.length;n<i;n++)r+=f[n]+l*e;return r-l*e}var r,o,s,a=0,h=0,u=t.getOriSize("W"),l=u.width,c=u.height,f=[];for(r=0,o=e.length;r<o;r++)f.push(t.getOriSize(e[r]).width);switch(n){case Z.SEPARATOR.N:s=function(t){return{x:0,y:c*t}};break;case Z.SEPARATOR.T:s=function(t){return{x:t?2*l:0,y:0}},a=i(f,2),h=a?c:a;break;case Z.SEPARATOR.S:default:s=function(t){return{x:t?.5*l:0,y:0}},a=i(f,.5),h=a?c:a}return{fn:s,oriWidth:a,oriHeight:h}}},(ne=Z.prototype).constructor=Z,ne._prepareTooltipModel=function(t){var e={},n={title:{icon:null,text:[],breakBy:Z.SEPARATOR.S},body:{icon:null,text:[],rank:1,breakBy:Z.SEPARATOR.S}};return Q(n,e,t),e},ne._prepareFirables=function(t){function e(t){var e,n,i,r,o,s=[];if(t instanceof Array)for(e=0,n=t.length;e<n;e++)i=t[e],i&&"function"==typeof i&&s.push([e,i]);else r=t,o=arguments[1],i=r[o],i&&"function"==typeof i&&s.push([o,i]);return 0===s.length?null:s.map(function(e){return e.unshift(r||t),e})}var n,i,r,o,s,a,h,u,l=[],c=t.title,f=t.body;for(h=e(c.text),n=0,i=f.length;n<i;n++)for(s=f[n],r=0,o=s.length;r<o;r++)a=s[r],u=e(a.text),u&&[].push.apply(l,u),u=e(a,"rank"),u&&[].push.apply(l,u);return(h||[]).concat(l)},ne._executeFirables=function(t,e){var n,i,r,o,s=this._firables;for(n=0,i=s.length;n<i;n++)r=s[n],(o=r[2])&&"function"==typeof o&&(r[0][r[1]]=r[2](e));return this},ne.setLimit=function(t){return this.limit=t,this},ne.addData=function(t){var e;return this.data=t,e=this.model=this._prepareTooltipModel(t),this._firables=this._prepareFirables(e),this.addTitle(e.title).addBody(e.body),this},ne.addTitle=function(t){return this.title.model=t,ee.mergeRecursive(this.title.args,t.args),this},ne.addBody=function(t){return this.body.model=t,ee.mergeRecursive(this.body.args,t.args),this},ne.mountTo=function(t){return this.mountPoint=t,this},ne.mount=function(t){var e,n,i,r,o=this.mountPoint,s=this.title,a=this.body,h=s.args.className,u=a.args.className;return this.context=t||null,this._executeFirables(this.model,t),i=o.attr("class",this.baseClassName).selectAll("rect").data([1]),i=i.enter().append("rect").merge(i).attr("class",this.baseClassName+"-container"),e=o.selectAll("g."+h).data([s.model]),e.exit().remove(),e=s._graphics.g=e.enter().append("g").attr("class",h).merge(e),n=o.selectAll("g."+u).data(a.model),n.exit().remove(),n=a._graphics.g=n.enter().append("g").attr("class",u).merge(n),r=this.mountTitle(e).mountBody(n).mountComponents(),i.attr("x",0).attr("y",0).attr("height",this.verticalLimit=r.height).attr("width",this.horizontalLimit=r.width),this},ne.size=function(){return{height:this.verticalLimit,width:this.horizontalLimit}},ne.mountTitle=function(t){var e,n,i,r=this.title._graphics;return e=t.selectAll("rect").data([1]),r.container=e.enter().append("rect").merge(e).attr("class",t.attr("class")+"-container"),n=t.selectAll("path").data(function(t){return t}),n.exit().remove(),r.icon=n.enter().merge(n).append("path").merge(n).attr("class",t.attr("class")+"-icon"),i=t.selectAll("text").data(function(t){return[t.text]}),i.exit().remove(),r.text=i.enter().append("text").merge(i).attr("class",t.attr("class")+"-text"),this},ne.mountBody=function(t){var e,n,i,r,o=this.body._graphics;return n=t.selectAll("rect").data(function(t){return[t]}),o.container=n.enter().append("rect").classed(t.attr("class")+"-container",!0).merge(n),e=t.selectAll("g").data(function(t){return t}),e.exit().remove(),e=o.unitBodyG=e.enter().append("g").merge(e),i=e.selectAll("path").data(function(t){return[t]}),i.exit().remove(),o.icon=i.enter().append("path").classed(t.attr("class")+"-icon",!0).merge(i),r=e.selectAll("text").data(function(t){return[t.text]}),r.exit().remove(),o.text=r.enter().append("text").classed(t.attr("class")+"-text",!0).merge(r),this},ne.mountComponents=function(){var t,e,n,i,r=0,o=0,s=this._mountAtomicComponent.bind(this),a=Number.NEGATIVE_INFINITY,h=this.title,u=h.args,l=h._graphics,c=this.body,f=c.args,p=c._graphics;return r=u.margin[1],o=u.margin[0],t=s(l.g,i=l.container,{icon:l.icon,text:l.text},{y:o,x:r},{padding:u.padding}),o+=t.height?t.height+u.margin[0]:t.height,a=Math.max(n=a,t.width),p.g.each(function(){var n=Ut(this),i=n.selectAll("g"),h=n.selectAll("rect");e=o,i.each(function(){var e=Ut(this),n=e.selectAll("path"),i=e.selectAll("text");r=f.margin[1],o+=f.margin[0],t=s(e,null,{icon:n,text:i},{y:o,x:r},{padding:f.padding}),o+=t.height+f.margin[0],a=Math.max(a,t.width+f.margin[1])}),h.attr("x",r).attr("y",e).attr("width",a).attr("height",o-e),o+=f.margin[0]}),a>n&&i.attr("width",a),a+=2*f.margin[1],o+=u.margin[1]-f.margin[0],{height:o,width:a}},ne._mountAtomicComponent=function(t,e,n,i,r){var o,s,a,h,u=0,l=this.smartlabel,c=r.padding[2]||0,f=r.padding[1],p=r.padding[0];return h=n.text.selectAll("tspan").data(function(e){return a=Z.SEPARATOR._def(l.setStyle(ee.getSmartComputedStyle(t)),e,t.datum().breakBy),e}),n.icon.attr("d",function(t){var e,n,r;if((e=t.icon)&&"function"==typeof e)return n=e(.5*a.oriHeight+i.x+f,.5*a.oriHeight+i.y+p,.5*a.oriHeight,this.context),n&&(u=a.oriHeight),r=ee.getArgedText(n),ee.applyStyleObj(Ut(this),r[1].style),r[0]}),h.exit().remove(),h.enter().append("tspan").merge(h).text(function(t){var e=ee.getArgedText(t),n=e[1].style;return ee.applyStyleObj(Ut(this),n),e[0]}).attr("dx",function(t,e){return a.fn(e).x}),n.text.attr("x",u+c+i.x+f).attr("y",i.y+p).attr("dy","0.92em"),o=u+c+a.oriWidth+2*f,s=a.oriHeight?a.oriHeight+2*p:a.oriHeight,e&&e.attr("x",i.x).attr("y",i.y).attr("height",s).attr("width",o),{height:s,width:o}},t.tooltip=J,Object.defineProperty(t,"__esModule",{value:!0})})});document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var ps="px",ds="",gs={button:["container","text","symbol"],inputButton:["container","text","input","icon"],selectButton:["container","text","arrow"]},ms=function(t,e){var n,i=gs[e],r={},o=i.length;for(n=0;n<o;n++)r[i[n]]=t+"-"+i[n];return r},ys=function(){return{container:{className:"d3-dropdown"},listItem:{className:"d3-dropdownlistitem",states:{hover:"d3-dropdownlistitem-state-hover",selected:"d3-dropdownlistitem-state-selected"}}}},vs={};_n.prototype.namespace=function(t){this.config.namespace=t,this.config.className=t+"-"+this.config.className,this.config.specificClassName=this.config.className},_n.prototype.appendSelector=function(t){this.config.selector=t,this.config.specificClassName=this.config.className+"-"+t},_n.prototype.dispose=function(){this.buttonGroup&&this.buttonGroup.remove()},_n.prototype.setConfig=function(t){return o(t,this.config),this},_n.prototype.getConfig=function(t){return this.config[t]},_n.prototype.getLogicalSpace=function(){var t=this.config,e=t.specificClassName,n=this.getIndividualClassNames(e),o=xn(),s=n.text,a=this.symbol,h=t.padding,u=h.left,l=h.right,c=h.top,f={width:0,height:0},p=i(Ii("svg"),s),d=p.fontSize;return this.textFontSize=parseInt(d),"string"==typeof a&&(f=r(a,s,Ii("svg"),o)),t.width=void 0===t.width?Math.max(f.width+u+l,t.width||0):t.width,t.height=void 0===t.height?Math.max(f.height+c+l,t.height||0):t.height,this.logicalSpace={width:t.width,height:t.height}},_n.prototype.getIndividualClassNames=function(t){return ms(t,"button")},_n.prototype.getClassName=function(){return this.config.specificClassName},_n.prototype.setParentGroup=function(t){this.parentGroup=t},_n.prototype.draw=function(t,e,n){var i,r,o,s,h,u=this.config,l=u.className,c=u.specificClassName,f=this.getIndividualClassNames(c),p=f.container,d=f.text,g=f.symbol,m=this.buttonGroup,y=this.elements,v=y.container,w=y.text,x=y.symbol,_=this.symbol,b=n||this.parentGroup,N=u.animation,M=N.duration,S=u.padding,C=S.left,A=S.right,T=S.top,E=S.bottom,k=u.radius,I=Be().duration(M);return this.parentGroup=b,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,r=i.width,o=i.height,m||(m=this.buttonGroup=n.append("g")),this.buttonGroup.classed(l+" "+c,!0),v||(v=y.container=m.append("rect")),v.transition(I).attr("x",t).attr("y",e).attr("width",r).attr("height",o),v.classed(p,!0).attr("rx",k).attr("ry",k),"string"==typeof _?(w||(w=y.text=m.append("text")),h={x:t+C,y:e+T,width:r-A-C,height:o-E-T},w.text(_).transition(I).attr("x",h.x+h.width/2).attr("y",h.y+h.height/2),w.attr("dy","0.35em").attr("text-anchor","middle").attr("pointer-events","none").classed(d,!0)):"function"==typeof _&&(s=_(t+C,e+T,r-(C+A),o-(T+E),S),x||(x=m.append(s.type)),x.attr("pointer-events","none").classed(g,!0),a(x,s.attrs)),this.buttonGroup=m,this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),this},_n.prototype.bindEventListeners=function(){var t,e=this.eventMap;for(t in e)this.on(t,e[t]);return this},_n.prototype.postDraw=function(){this.addHoverEvents(),this.bindEventListeners()},_n.prototype.addHoverEvents=function(){var t=this;t.on("mouseover",function(){t.setState("hover")},"default"),t.on("mouseout",function(){t.removeState("hover")},"default"),this.attachTooltip()},_n.prototype.attachTooltip=function(){var t=this.tooltip,e=this.buttonGroup,n=this.config.toolText;void 0!==n&&(t||(t=this.tooltip=d3.tooltip().namespace(this.namespace).attachTo(d3.select(this.parentGroup.node().ownerSVGElement)).offset({x:15,y:15})),e.data([[null,n]]).call(t))},_n.prototype.classed=function(t,e){var n=this.elements,i=ms(t,"button");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),this},_n.prototype.on=function(t,e,n){return this.buttonGroup.on(t+"."+(n||"custom"),e),this},_n.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.visible=!1,this},_n.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.visible=!0,this},_n.prototype.disable=function(t){this.elements.container&&this.elements.container.attr("pointer-events",t?"none":"")},_n.prototype.getBoundElement=function(){return this.elements.container.node()},_n.prototype.setState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!0),this.classed(i,!0)},_n.prototype.removeState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!1),this.classed(i,!1)},_n.prototype.attachEventHandlers=function(t){this.eventMap=t},bn.prototype=Object.create(_n.prototype),bn.prototype.draw=function(t,e,n){var i,r,o,h,u,l,c,f,p,d,g,m=this,y=this.config,v=y.className,w=y.specificClassName,x=this.getIndividualClassNames(w),_=x.container,b=x.text,N=x.input,M=x.icon,S=this.elements,C=S.container,A=S.text,T=S.inputBox,E=y.padding,k=E.left,I=E.right,H=E.top,L=E.bottom,W=n||this.parentGroup,B=this.buttonGroup,R=this.textFontSize/1.3,O=this.textFontSize/2.6,D=S.arrow,j=S.inputFieldTracker,P=S.iconTracker,F=y.hasInputField,z=y.icon;return!B&&(B=this.buttonGroup=n.append("g")),this.parentGroup=W,c=W.node().ownerSVGElement.parentNode,this.logicalSpace||(i=this.getLogicalSpace()),B.classed(v+" "+w,!0),i=this.logicalSpace,r=i.width,o=i.height,C||(C=S.container=B.append("rect")),a(C,{x:t,y:e,width:r,height:o,class:_}),!A&&(A=S.text=B.append("text")),A.text(this.symbol||"W"),h={x:t+k,y:e+H,width:r-I-k,height:o-L-H},f={x:h.x+h.width/2,y:h.y+h.height/2,dy:"0.35em","pointer-events":"none","text-anchor":"middle"},a(A,f),A.classed(b,!0),A.text(this.symbol||ds),F&&(!T&&(T=S.inputBox=Ii(c).append("input")),u=A.node().getBBox(),l={position:"absolute",top:u.y+ps,left:u.x+ps,width:r-(k+I)-(y.icon?R:0)-5+ps,height:(u.height||o)+ps,"-webkit-apperance":"none",outline:"none",margin:"0px",border:"0px",padding:"0px",visibility:"hidden"},T.classed(N,!0),s(T,l),T.attr("value",this.symbol)),j||(j=S.inputFieldTracker=B.append("rect")),a(j,{x:t,y:e,width:r-(y.icon?I+R:0),height:o}),s(j,{opacity:0,cursor:F?"text":"pointer"}),this.buttonGroup=B,z&&(p=t+r-I-R+4,d=e+o/2-O/2,g=["M",p,d,"L",p+R,d,"L",p+R/2,d+O,"Z"],!D&&(D=S.arrow=B.append("path")),D.attr("d",g.toString().replace(/,/g," ")).classed(M,!0).attr("pointer-events","none"),P||(P=S.iconTracker=B.append("rect")),a(P,{x:t+r-R-I,y:e,width:R+I,height:o}),s(P,{opacity:0,cursor:"pointer"})),m.config.hasInputField!==!1&&m.on("click",m.edit.bind(m),"default"),m.config.hasInputField!==!1&&m.on("blur",m.blur.bind(m),"default"),this.postDraw(),this.getBBox=function(){return{x:t,y:e,width:r,height:o}},m},bn.prototype.classed=function(t,e){var n=this.elements,i=ms(t,"inputButton");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),n.inputBox&&n.inputBox.classed(i.input,e),this},bn.prototype.blur=function(t){var e,n=this.elements,r=n.inputBox,o=xn(),s=n.text,a=r&&r.node(),h=a?a.value:t,u=this.config,l=u.padding,c=u.width-(l.left+l.right),f=i(this.parentGroup,this.getIndividualClassNames(this.getClassName()).text);return r&&r.style("visibility","hidden"),o.setStyle(f),e=o.getSmartText(h,c,u.height),s&&s.attr("visibility","visible").text(e.text),this},bn.prototype.edit=function(){var t=this.elements,e=t.inputBox,n=e&&e.node(),i=n.value.length;return e&&(e.style("visibility","visible"),n.setSelectionRange(i,i),n.focus(),t.text.attr("visibility","hidden")),this},bn.prototype.getIndividualClassNames=function(t){return ms(t,"inputButton")},bn.prototype.text=function(t){var e=this.elements.inputBox,n=t;return t?(e&&(e.node().value=t),this.blur(t)):n=e?e.node().value:this.elements.text.text(),n},bn.prototype.on=function(t,e,n){var i=this.elements.inputBox,r=t+"."+(n||"custom");switch(t){case"blur":case"change":case"keypress":i&&i.on(r,e);break;case"onIconClick":this.elements.iconTracker&&this.elements.iconTracker.on("click",e);break;default:this.elements.inputFieldTracker&&this.elements.inputFieldTracker.on(r,e)}return this},bn.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.elements.inputBox.attr("visibility","hidden"),this},bn.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.elements.inputBox.attr("visibility","visible"),this},Sn.prototype=Object.create(_n.prototype),Sn.prototype.getLogicalSpace=function(){var t,e,n,i,o=this.config,s=o.width,a=o.height,h=this.options||[],u=xn(),l=this.getIndividualClassNames(o.specificClassName),c=l.text,f=this.parentGroup,p=o.padding,d=p.left,g=p.right,m=p.top,y=p.bottom,v=0,w=0,x=h.length;if(s&&a)return this.logicalSpace={width:s,height:a};for(i=0;i<x;i++)t=h[i],e=t.name,n=r(e,c,f,u),v=Math.max(n.width,v),w=Math.max(n.height,w);return{width:v+d+g,height:w+m+y}},Sn.prototype.draw=function(t,e,n){var i,r,o,s,a,h,u,l=this.buttonGroup,c=this.elements,f=c.container,p=c.text,d=c.arrow,g=8,m=4,y=this.config,v=y.className,w=y.specificClassName,x=this.getIndividualClassNames(w),_=x.container,b=x.text,N=x.arrow,M=this.config.padding,S=M.left,C=M.right,A=M.top,T=M.bottom,E=this.options||[],k=n||this.parentGroup,I=this.logicalSpace,H=E[0]&&E[0].name;return this.parentGroup=k,this.logicalSpace||(I=this.getLogicalSpace()),h=I.width,u=I.height,!l&&(l=this.buttonGroup=n.append("g")),l.classed(v+" "+w,!0),!f&&(f=c.container=l.append("rect")),f.attr("x",t).attr("y",e).attr("width",h).attr("height",u).classed(_,!0),!p&&(p=c.text=l.append("text")),p.text("W"),i={x:t+S,y:e+A,width:h-(C+S)-g,height:u-(T+A)},p.attr("x",i.x).attr("y",i.y+i.height/2).attr("dy","0.35em").attr("pointer-events","none").classed(b,!0),a=p.node().getBBox(),p.text(H),o=t+h-C-g,s=a.y+a.height/2-m/2,r=["M",o,s,"L",o+g,s,"L",o+g/2,s+m,"Z"],!d&&(d=c.arrow=l.append("path")),d.attr("d",r.toString().replace(/,/g," ")).classed(N,!0).attr("pointer-events","none"),this.buttonGroup=l,this.postDraw(),this},Sn.prototype.namespace=function(t){var e,n=this.config.dropDownMenu,i=n.container,r=n.listItem,o=r.states;_n.prototype.namespace.call(this,t),i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},Sn.prototype.appendSelector=function(t){var e=this.config.dropDownMenu,n=e.container,i=e.listItem;_n.prototype.appendSelector.call(this,t),n.className=n.className+"-"+t,i.className=i.className+"-"+t},Sn.prototype.text=function(t){return this.buttonGroup.select("text").text(t)},Sn.prototype.value=function(t){var e,n=this.dropDownMenu,i=this,r=n.container,o=i.selectedItem;return void 0===t&&o?o.datum().value:(e=r.getContainer(),void e.selectAll("div").each(function(e){var n;e.value===t&&(n=Ii(this),i.selectedItem&&i.selectItem(i.selectedItem,!1),i.selectItem(n,!0),i.text(n.datum().name),i.selectedItem=n)}))},Sn.prototype.createMenu=function(t){var e=this,n=this.dropDownMenu,i=this.elements.container.node(),r=this.config.dropDownMenu||{},o=r.container||{},s=r.listItem||{},a=o.className||{},h=s.className||{},u=s.states,l=i.getBBox();return n||(n=this.dropDownMenu=new f(Ii(t))),n.setConfig({listItem:{className:h,states:u},container:{className:a}}),n.setMeasurement({top:l.y+l.height,left:l.x,width:l.width}),i.groupId=n.groupId,this.on("mouseout",function(){0===n.listItems.length&&e.onBlur&&e.onBlur(),n.hide()},"default"),this.on("click",function(){n.toggleVisibility()},"default"),this.add(this.options),this},Sn.prototype.postDraw=function(){_n.prototype.postDraw.call(this);var t=this,e=t.parentGroup,n=e.node().ownerSVGElement.parentNode;this.on("click",function(){t.setState("selected")},"selected"),this.on("blur",function(){t.removeState("selected")}),this.createMenu(n)},Sn.prototype.add=function(t){var e,n,i,r=this.dropDownMenu,o=this,s=this.elements.container.node().getBBox(),a=window.innerHeight;0!==t.length&&r.add(t),i=r.getFirstContainer(),i&&(i.on("hide",this.onBlur),e=i.getContainer(),n=i.getDimensions(),s.y+s.height+n.height>a&&r.setMeasurement({top:s.y-n.height,left:s.x,width:s.width}),e.selectAll("div").on("click.selected",this.onSelect()).each(function(t,e){0===e&&(o.selectedItem&&o.selectItem(o.selectedItem,!1),o.selectedItem=o.selectItem(Ii(this),!0))}))},Sn.prototype.setPlaceHolderValue=function(){},Sn.prototype.updateList=function(t){var e=this.dropDownMenu;e.flushItems(),this.add(t),this.text(t[0]&&t[0].name||ds)},Sn.prototype.selectItem=function(t,e){var n=this.config.dropDownMenu||{},i=n.listItem||{},r=i.states||{};return t.classed(r.selected,e)},Sn.prototype.onSelect=function(){var t=this;return function(e){var n=Ii(this),i=t.selectedItem,r=t.onChange;i&&t.selectItem(i,!1),t.selectedItem=t.selectItem(n,!0),t.text(e.name),t.selectedItem=n,r&&r()}},Sn.prototype.on=function(t,e,n){switch(t){case"change":this.onChange=e;break;case"blur":this.onBlur=e;break;default:this.buttonGroup.on(t+"."+(n||"custom"),e)}return this},Sn.prototype.getIndividualClassNames=function(t){return ms(t,"selectButton")},Cn.prototype=Object.create(_n.prototype),Cn.prototype.add=function(t){var e=this.dropDownMenu;e.add(t)},Cn.prototype.postDraw=function(){_n.prototype.postDraw.call(this);var t=this,e=t.getBBox(),n={};this.on("mouseover",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n)}),this.on("mouseout",function(){t.dropDownMenu.hide()})},Cn.prototype.showListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"block"})},Cn.prototype.hideListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"none"})},t.button=Nn,t.selectButton=Tn,t.inputButton=Mn,t.buttonWithContextMenu=An,t.dropDownMenu=f,Object.defineProperty(t,"__esModule",{value:!0})});