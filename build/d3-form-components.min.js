(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(this,function(t){"use strict";function e(t){return t&&t.__esModule?t["default"]:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e){var n,i=nn[e],r={},o=i.length;for(n=0;o>n;n++)r[i[n]]=t+"-"+i[n];return r}function r(t,e){var n,i,r,o="W",s={"fill-opacity":0},a="string"==typeof e?e:void 0;return n=t.append("text").text(o),a&&n.attr("class",a),n.style(s),i=window.getComputedStyle(n.node()),r={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r}function o(t,e,n,i){var o,s=r(n,e);return i.setStyle(s),o=i.getOriSize(t),{width:o.width,height:o.height}}function s(t,e,n){var i,r;for(i in t)if(r=t[i],void 0!==r&&null!==r)if(n){if(e[i])continue;e[i]=r}else"object"==typeof r?(void 0===e[i]&&(e[i]={}),s(r,e[i],n)):e[i]=r}function a(t,e){var n;for(n in e)t.style(n,e[n])}function u(t,e){var n;for(n in e)t.attr(n,e[n])}function l(t){return t&&t.nodeName&&"DIV"===t.nodeName.toUpperCase()?!0:!1}function h(){return an.smartLabel||(an.smartLabel=new en((new Date).getTime()))}function c(t){this.groupId=t,this.listItems=[],this.hideFnIds=[]}function p(t){var e=t.append("div");this.groupId="dropDownMenu-"+(new Date).getTime(),this.parentContainer=e,this.listItems=[],this.config={}}function f(t){return new p(t)}function d(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===hn&&e.documentElement.namespaceURI===hn?e.createElement(t):e.createElementNS(n,t)}}function g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function m(t,e,n){return t=v(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function v(t,e,n){return function(i){var r=wn;wn=i;try{t.call(this,this.__data__,e,n)}finally{wn=r}}}function y(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function w(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;o>i;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function b(t,e,n){var i=yn.hasOwnProperty(t.type)?m:v;return function(r,o,s){var a,u=this.__on,l=i(e,o,s);if(u)for(var h=0,c=u.length;c>h;++h)if((a=u[h]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function x(){}function _(){return[]}function N(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function C(t,e,n,i,r,o){for(var s,a=0,u=e.length,l=o.length;l>a;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new N(t,o[a]);for(;u>a;++a)(s=e[a])&&(r[a]=s)}function M(t,e,n,i,r,o,s){var a,u,l,h={},c=e.length,p=o.length,f=new Array(c);for(a=0;c>a;++a)(u=e[a])&&(f[a]=l=kn+s.call(u,u.__data__,a,e),l in h?r[a]=u:h[l]=u);for(a=0;p>a;++a)l=kn+s.call(t,o[a],a,o),(u=h[l])?(i[a]=u,u.__data__=o[a],h[l]=null):n[a]=new N(t,o[a]);for(a=0;c>a;++a)(u=e[a])&&h[f[a]]===u&&(r[a]=u)}function S(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function I(t){return function(){this.removeAttribute(t)}}function T(t){return function(){this.removeAttributeNS(t.space,t.local)}}function A(t,e){return function(){this.setAttribute(t,e)}}function k(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function B(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function L(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function H(t){return function(){delete this[t]}}function R(t,e){return function(){this[t]=e}}function G(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function P(t){return t.trim().split(/^|\s+/)}function j(t){return t.classList||new F(t)}function F(t){this._node=t,this._names=P(t.getAttribute("class")||"")}function O(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function z(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function V(t){return function(){O(this,t)}}function q(t){return function(){z(this,t)}}function X(t,e){return function(){(e.apply(this,arguments)?O:z)(this,t)}}function $(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function K(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function U(){this.innerHTML=""}function Z(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function et(){return null}function nt(){var t=this.parentNode;t&&t.removeChild(this)}function it(t,e,n){var i=zn(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function rt(t,e){return function(){return it(this,t,e)}}function ot(t,e){return function(){return it(this,t,e.apply(this,arguments))}}function st(t,e){this._groups=t,this._parents=e}function at(){return new st([[document.documentElement]],ni)}function ut(){for(var t,e=0,n=arguments.length,i={};n>e;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new lt(i)}function lt(t){this._=t}function ht(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function ct(t,e){for(var n,i=0,r=t.length;r>i;++i)if((n=t[i]).name===e)return n.value}function pt(t,e,n){for(var i=0,r=t.length;r>i;++i)if(t[i].name===e){t[i]=ri,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function ft(){return pi||(gi(dt),pi=di.now()+fi)}function dt(){pi=0}function gt(){this._call=this._time=this._next=null}function mt(t,e,n){var i=new gt;return i.restart(t,e,n),i}function vt(){ft(),++ai;for(var t,e=oi;e;)(t=pi-e._time)>=0&&e._call.call(null,t),e=e._next;--ai}function yt(){pi=(ci=di.now())+fi,ai=ui=0;try{vt()}finally{ai=0,bt(),pi=0}}function wt(){var t=di.now(),e=t-ci;e>hi&&(fi-=e,ci=t)}function bt(){for(var t,e,n=oi,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:oi=e);si=t,xt(i)}function xt(t){if(!ai){ui&&(ui=clearTimeout(ui));var e=t-pi;e>24?(1/0>t&&(ui=setTimeout(yt,e)),li&&(li=clearInterval(li))):(li||(ci=pi,li=setInterval(wt,hi)),ai=1,gi(yt))}}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>wi)throw new Error("too late");return n}function Nt(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>xi)throw new Error("too late");return n}function Ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Mt(t,e,n){function i(t){n.state=bi,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var l,h,c,p;if(n.state!==bi)return s();for(l in u)if(p=u[l],p.name===n.name){if(p.state===_i)return mi(r);p.state===Ni?(p.state=Mi,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete u[l]):e>+l&&(p.state=Mi,p.timer.stop(),delete u[l])}if(mi(function(){n.state===_i&&(n.state=Ni,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=xi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xi){for(n.state=_i,a=new Array(c=n.tween.length),l=0,h=-1;c>l;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(a[++h]=p);a.length=h+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Ci,1),r=-1,o=a.length;++r<o;)a[r].call(null,i);n.state===Ci&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Mi,n.timer.stop(),delete u[e];for(var i in u)return;delete t.__transition}var a,u=t.__transition;u[e]=n,n.timer=mt(i,0,n.time)}function St(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function It(){}function Tt(t){var e;return t=(t+"").trim().toLowerCase(),(e=Wi.exec(t))?(e=parseInt(e[1],16),new Lt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Hi.exec(t))?At(parseInt(e[1],16)):(e=Ri.exec(t))?new Lt(e[1],e[2],e[3],1):(e=Gi.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Pi.exec(t))?kt(e[1],e[2],e[3],e[4]):(e=ji.exec(t))?kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Fi.exec(t))?Dt(e[1],e[2]/100,e[3]/100,1):(e=Oi.exec(t))?Dt(e[1],e[2]/100,e[3]/100,e[4]):zi.hasOwnProperty(t)?At(zi[t]):"transparent"===t?new Lt(0/0,0/0,0/0,0):null}function At(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function kt(t,e,n,i){return 0>=i&&(t=e=n=0/0),new Lt(t,e,n,i)}function Et(t){return t instanceof It||(t=Tt(t)),t?(t=t.rgb(),new Lt(t.r,t.g,t.b,t.opacity)):new Lt}function Bt(t,e,n,i){return 1===arguments.length?Et(t):new Lt(t,e,n,null==i?1:i)}function Lt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Dt(t,e,n,i){return 0>=i?t=e=n=0/0:0>=n||n>=1?t=e=0/0:0>=e&&(t=0/0),new Rt(t,e,n,i)}function Wt(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof It||(t=Tt(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=0/0,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(i>n):n===o?(i-e)/a+2:(e-n)/a+4,a/=.5>u?o+r:2-o-r,s*=60):a=u>0&&1>u?0:s,new Rt(s,a,u,t.opacity)}function Ht(t,e,n,i){return 1===arguments.length?Wt(t):new Rt(t,e,n,null==i?1:i)}function Rt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Gt(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function Pt(t){if(t instanceof Ft)return new Ft(t.l,t.a,t.b,t.opacity);if(t instanceof Yt){var e=t.h*Vi;return new Ft(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Lt||(t=Et(t));var n=qt(t.r),i=qt(t.g),r=qt(t.b),o=Ot((.4124564*n+.3575761*i+.1804375*r)/$i),s=Ot((.2126729*n+.7151522*i+.072175*r)/Yi),a=Ot((.0193339*n+.119192*i+.9503041*r)/Ki);return new Ft(116*s-16,500*(o-s),200*(s-a),t.opacity)}function jt(t,e,n,i){return 1===arguments.length?Pt(t):new Ft(t,e,n,null==i?1:i)}function Ft(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ot(t){return t>Ji?Math.pow(t,1/3):t/Qi+Ui}function zt(t){return t>Zi?t*t*t:Qi*(t-Ui)}function Vt(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xt(t){if(t instanceof Yt)return new Yt(t.h,t.c,t.l,t.opacity);t instanceof Ft||(t=Pt(t));var e=Math.atan2(t.b,t.a)*qi;return new Yt(0>e?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function $t(t,e,n,i){return 1===arguments.length?Xt(t):new Yt(t,e,n,null==i?1:i)}function Yt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Kt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof Lt||(t=Et(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(ar*i+or*e-sr*n)/(ar+or-sr),o=i-r,s=(rr*(n-r)-nr*o)/ir,a=Math.sqrt(s*s+o*o)/(rr*r*(1-r)),u=a?Math.atan2(s,o)*qi-120:0/0;return new Zt(0>u?u+360:u,a,r,t.opacity)}function Ut(t,e,n,i){return 1===arguments.length?Kt(t):new Zt(t,e,n,null==i?1:i)}function Zt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e){return function(n){return t+n*e}}function Jt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function te(t,e){var n=e-t;return n?Qt(t,n>180||-180>n?n-360*Math.round(n/360):n):pr(isNaN(t)?e:t)}function ee(t){return 1===(t=+t)?ne:function(e,n){return n-e?Jt(e,n,t):pr(isNaN(e)?n:e)}}function ne(t,e){var n=e-t;return n?Qt(t,n):pr(isNaN(t)?e:t)}function ie(t){return function(){return t}}function re(t){return function(e){return t(e)+""}}function oe(t){return"none"===t?Nr:(ur||(ur=document.createElement("DIV"),lr=document.documentElement,hr=document.defaultView),ur.style.transform=t,t=hr.getComputedStyle(lr.appendChild(ur),null).getPropertyValue("transform"),lr.removeChild(ur),t=t.slice(7,-1).split(","),Cr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function se(t){return null==t?Nr:(cr||(cr=document.createElementNS("http://www.w3.org/2000/svg","g")),cr.setAttribute("transform",t),(t=cr.transform.baseVal.consolidate())?(t=t.matrix,Cr(t.a,t.b,t.c,t.d,t.e,t.f)):Nr)}function ae(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:mr(t,r)},{i:u-2,x:mr(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:mr(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:mr(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:mr(t,n)},{i:a-2,x:mr(e,i)})}else(1!==n||1!==i)&&o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function ue(t){return function e(n){function i(e,i){var r=t((e=Ut(e)).h,(i=Ut(i)).h),o=ne(e.s,i.s),s=ne(e.l,i.l),a=ne(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function le(t,e){var n,i;return function(){var r=Nt(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;a>s;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function he(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Nt(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,l=r.length;l>u;++u)if(r[u].name===e){r[u]=a;break}u===l&&r.push(a)}o.tween=r}}function ce(t,e,n){var i=t._id;return t.each(function(){var t=Nt(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ct(t,i).value[e]}}function pe(t){return function(){this.removeAttribute(t)}}function fe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function de(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function ge(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function me(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function ve(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function ye(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function we(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function be(t,e){return function(){_t(this,t).delay=+e.apply(this,arguments)}}function xe(t,e){return e=+e,function(){_t(this,t).delay=e}}function _e(t,e){return function(){Nt(this,t).duration=+e.apply(this,arguments)}}function Ne(t,e){return e=+e,function(){Nt(this,t).duration=e}}function Ce(t,e){if("function"!=typeof e)throw new Error;return function(){Nt(this,t).ease=e}}function Me(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function Se(t,e,n){var i,r,o=Me(e)?_t:Nt;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function Ie(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Te(t,e){var n,i,r;return function(){var o=zn(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}function Ae(t){return function(){this.style.removeProperty(t)}}function ke(t,e,n){var i,r;return function(){var o=zn(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Ee(t,e,n){var i,r,o;return function(){var s=zn(this).getComputedStyle(this,null),a=s.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=s.getPropertyValue(t)),a===u?null:a===i&&u===r?o:o=e(i=a,r=u)}}function Be(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Le(t){return function(){this.textContent=t}}function De(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function We(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function He(t){return at().transition(t)}function Re(){return++Xr}function Ge(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Pe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Jr.time=ft(),Jr;return n}function je(){return ro.smartLabel||(ro.smartLabel=new en((new Date).getTime()))}function Fe(t){this.symbol=t,this.config={className:"d3-button",specificClassName:"d3-button",states:{hover:{className:"d3-button-state-hover"},selected:{className:"d3-button-state-selected"},disabled:{className:"d3-button-state-disabled"}},padding:{top:4,right:4,bottom:4,left:4},radius:1,margin:{top:0,right:5,left:5,bottom:0},animation:{duration:1e3}},this.elements={}}function Oe(){Fe.apply(this,arguments),this.setConfig({className:"d3-inputbutton",specificClassName:"d3-inputbutton",states:{hover:{className:"d3-inputbutton-state-hover"},selected:{className:"d3-inputbutton-state-selected"},disabled:{className:"d3-inputbutton-state-disabled"}},padding:{left:10}})}function ze(t){return new Fe(t)}function Ve(t){return new Oe(t)}function qe(t){this.options=t,Fe.apply(this,arguments),this.setConfig({className:"d3-selectbutton",states:{hover:{className:"d3-selectbutton-state-hover"},selected:{className:"d3-selectbutton-state-selected"}},dropDownMenu:io()})}function Xe(t,e){Fe.apply(this,arguments),this.dropDownMenu=new f(ii(e)),this.setConfig({dropDownMenu:io()}),this.dropDownMenu.setConfig(this.config.dropDownMenu)}function $e(t,e){return new Xe(t,e)}function Ye(t){return new qe(t)}function Ke(t){var e=this.config;e=this.config={className:"d3-dialog-box",style:{width:"auto",height:"auto",display:"inline-block",position:"absolute",left:"0px",top:"0px"}},this.parentContainer=t,this.components=[]}function Ue(t){var e,n={};for(e=0;e<t.length;e++)n[t[e].type]=n[t[e].type]||(n[t[e].type]=[]),n[t[e].type].push(t[e]);return n}function Ze(t){return new Ke(t)}var Qe=n(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",s=Math.ceil,a=Math.floor,u=0,l="fusioncharts-smartlabel-",h=l+"container",c=l+"tag",p=l+"br";return n={win:t,containerClass:h,classNameWithTag:c,classNameWithTagBR:p,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+c+"\b"),classNameBrReg:new RegExp("\b"+p+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+c+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+c+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=c,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=h,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=h,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),u+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,u=0,l=r(t),h=l/t.length;if(i=e,o=s(e/h),e>l)return t.length-1;for(o>t.length&&(i=e-l,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),u=a(i/h),!u)return o;o+=u}for(;0>i;){if(i=e-r(t.substr(0,o)),u=a(i/h),!u)return o;o+=u}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e["default"]=n,t.exports=e["default"]}),Je=n(function(t){function e(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,n){var i;n=n>5?n:5,n=20>n?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=s.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=Qe,r=e(i),o=r["default"].init("undefined"!=typeof window?window:void 0),s=o.win.document,a=o.getDocumentSupport(),u=a.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,s=this.length,a=this.maxContainers,u="";for(n in o.supportedStyle)void 0!==t[n]&&(u+=o.supportedStyle[n]+":"+t[n]+";");if(!u)return!1;if(i=r[u])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(s>=a)for(e=s-a+1;e--;)this.removeContainer(this.last);i=this.addContainer(u)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=s.createElement("div"),this.rootNode.appendChild(e),a.isIE&&!a.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,a.isBrowserLess?(e=n.svgText=s.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-u)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-u,e.textContent=".",n.dotWidth=e.getBBox().width-u):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),tn=n(function(t,e){function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){var o,s,h,c,p=!1,f=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(c=f[t])&&c.dispose(),f[t]=this,r=r||{},r.maxCacheLimit=isFinite(h=r.maxCacheLimit)?h:u.maxDefaultCacheLimit,"string"==typeof e&&(e=l.getElementById(e)),o=u.createContainer(e),o.innerHTML=u.testStrAvg,(g.isHeadLess||!g.isIE&&!o.offsetHeight&&!o.offsetWidth)&&(p=!0),o.innerHTML="";for(s in u.parentContainerStyle)o.style[s]=u.parentContainerStyle[s];this.id=t,this.parentContainer=o,this._containerManager=new a["default"](o,p,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=Qe,o=n(r),s=Je,a=n(s),u=o["default"].init("undefined"!=typeof window?window:void 0),l=u.win.document,h=u.win.Math,c=h.max,p=h.round,f="",d={" ":"&nbsp;"},g=u.getDocumentSupport(),m=g.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,s,a,u,l=this.options.maxCacheLimit,h=this._container,c=this.style||{},p=this._advancedCache||(this._advancedCache={}),g=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(c.fontSize||f)+(c.fontFamily||f)+(c.fontWeight||f)+(c.fontStyle||f),v=t+"init"+(c.fontSize||f)+(c.fontFamily||f)+(c.fontWeight||f)+(c.fontStyle||f);return d[t]&&(t=d[t]),e?void 0===(u=p[v])&&(h.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=h.offsetWidth,h.innerHTML=t,s=h.offsetWidth,u=p[v]=(o-n*s)/(n+1),g.push(v),g.length>l&&delete p[g.shift()]):u=0,(a=p[m])?(r=a.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(h.innerHTML=t,i={height:h.offsetHeight,width:h.offsetWidth+u},p[m]=i.width+","+i.height,g.push(m),g.length>l&&delete p[g.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,1>i&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),u.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,s,a,h,p,f,d,m,v,y,w,b,x,_,N,C,M,S,I,T,A,k,E,B,L,D=!1,W=0,H=-1,R=-1,G=-1,P=0,j=0,F=[],O=0,z=this._showNoEllipses?"":"...",V=this._lineHeight,q=this._context,X=this._container,$=this._containerObj,Y=$.ellipsesWidth,K=$.dotWidth,U=[],Z=-1,Q=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(w=this._getWidthFn(),n===V&&(n*=1.2),X){if(!g.isBrowserLess){if(D=u.xmlTagRegEx.test(t),D?(X.innerHTML=t,et.oriTextWidth=f=X.offsetWidth,et.oriTextHeight=d=X.offsetHeight):(a=t.replace(u.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),_=this.getOriSize(a,!0),et.oriTextWidth=f=_.width,et.oriTextHeight=d=_.height),n>=d&&e>=f)return et.width=et.oriTextWidth=f,et.height=et.oriTextHeight=d,et;if(V>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),h=this._showNoEllipses?e:e-Y,!D){if(F=t.split(""),r=F.length,o="",s=[],y=F[0],this._cache[y]?S=this._cache[y].width:(S=w(y),this._cache[y]={width:S}),h>S)s=t.substr(0,u.getNearestBreakIndex(t,h,this)).split(""),O=s.length;else{if(S>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;z&&(h=e-2*K,h>S?z="..":(h=e-K,h>S?z=".":(h=0,z="")))}if(P=w(s.join("")),j=this._lineHeight,i){for(;r>O;O+=1)if(y=s[O]=F[O],this._cache[y]?S=this._cache[y].width:(_&&(S=_.detailObj[y])||(S=w(y)),this._cache[y]={width:S}),P+=S,P>h&&(o||(o=s.slice(0,-1).join("")),P>e))return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=w(et.text),et.height=this._lineHeight,et;return et.text=s.join(""),et.width=P,et.height=this._lineHeight,et}for(;r>O;O+=1)if(y=s[O]=F[O]," "!==y||q||(y="&nbsp;"),this._cache[y]?S=this._cache[y].width:(_&&(S=_.detailObj[y])||(S=w(y)),this._cache[y]={width:S}),P+=S,P>h&&(o||(o=s.slice(0,-1).join("")),P>e)){if(R=t.substr(0,s.length).lastIndexOf(" "),H=t.substr(0,s.length).lastIndexOf("-"),R>G?(P=w(s.slice(G+1,R).join("")),s.splice(R,1,"<br/>"),G=R,m=R+1):H>G?(H===s.length-1?(P=w(s.slice(G+1,R).join("")),s.splice(H,1,"<br/>-")):(P=w(s.slice(G+1,R).join("")),s.splice(H,1,"-<br/>")),G=H,m=H+1):(s.splice(s.length-1,1,"<br/>"+F[O]),J=s.length-2,P=w(s.slice(G+1,J+1).join("")),G=J,m=O),j+=this._lineHeight,j>n)return et.text=tt(o)+z,et.tooltext=et.oriText,et.width=e,et.height=j-this._lineHeight,et;W=c(W,P),o=null,v=u.getNearestBreakIndex(t.substr(m),h,this),P=w(t.substr(m,v||1)),s.length<m+v&&(s=s.concat(t.substr(s.length,m+v-s.length).split("")),O=s.length-1)}return W=c(W,P),et.text=s.join(""),et.width=W,et.height=j,et}for(p=t.replace(u.spanAdditionRegx,"$2"),t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),X.innerHTML=t,N=X[g.childRetriverFn](g.childRetriverString),C=0,M=N.length;M>C;C+=1)I=N[C],(g.noClassTesting||u.classNameReg.test(I.className))&&(T=I.innerHTML,""!==T&&(" "===T?Q=U.length:"-"===T&&(Z=U.length),U.push({spaceIdx:Q,dashIdx:Z,elem:I}),F.push(T)));if(O=0,r=U.length,S=U[0].elem.offsetWidth,S>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(S>h&&!this._showNoEllipses&&(h=e-2*K,h>S?z="..":(h=e-K,h>S?z=".":(h=0,z=""))),b=U[0].elem.offsetLeft,x=U[0].elem.offsetTop,i)for(;r>O;O+=1)I=U[O].elem,A=I.offsetLeft-b+I.offsetWidth,A>h&&(L||(L=O),X.offsetWidth>e&&(B=O,O=r));else for(;r>O;O+=1)I=U[O].elem,k=I.offsetHeight+(I.offsetTop-x),A=I.offsetLeft-b+I.offsetWidth,E=null,A>h?(L||(L=O),A>e&&(R=U[O].spaceIdx,H=U[O].dashIdx,R>G?(U[R].elem.innerHTML="<br/>",G=R):H>G?(U[H].elem.innerHTML=H===O?"<br/>-":"-<br/>",G=H):I.parentNode.insertBefore(E=l.createElement("br"),I),I.offsetHeight+I.offsetTop>n?(E?E.parentNode.removeChild(E):G===H?U[H].elem.innerHTML="-":U[R].elem.innerHTML=" ",B=O,O=r):L=null)):k>n&&(B=O,O=r);if(r>B){for(et.isTruncated=!0,L=L?L:B,O=r-1;O>=L;O-=1)I=U[O].elem,I.parentNode.removeChild(I);for(;O>=0;O-=1)I=U[O].elem,u.classNameBrReg.test(I.className)?I.parentNode.removeChild(I):O=0}return et.text=X.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=z,et.tooltext=p),et.height=X.offsetHeight,et.width=X.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,s,a=0,u=0,l={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,s=n.length;s>o;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),
u=c(u,r.height),a+=r.width,l[i]=r.width;return{width:p(a),height:u,detailObj:l}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e["default"]=i,t.exports=e["default"]}),en=e(tn),nn={button:["container","text","symbol"],inputButton:["container","text","input","icon"],selectButton:["container","text","arrow"],label:["container","text"]};document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var rn="px",on=300,sn=window.d3,an={},un={click:"touchend"},ln=function(t){return t+rn};c.prototype.init=function(t){var e,n=this,i="createTouch"in document;this.container=sn.select(t),this.container.node().groupId=this.groupId,e={position:"absolute","z-index":999999,overflow:"wrap",display:"none"},i||n.on("mouseout",function(t){var e=sn.event.toElement||sn.event.relatedTarget;e&&e.groupId===t.groupId||n.hide()},"default"),a(this.container,e)},c.prototype.getContainer=function(){return this.container},c.prototype.setParentListContainer=function(t){this.parentListCon=t},c.prototype.getDimensions=function(){var t,e=this.container,n=e.node();return e.style("display","block"),t={width:n.offsetWidth,height:n.offsetHeight},e.style("display","none"),t},c.prototype.show=function(t){var e,n,i,r,o,s,u=this.hideFnIds,h={},c=this.parentListCon,p=0,f=this.container.datum(),d=f.measurement||t,g=f.position,m=window.innerWidth,v=function(){var t=n.offsetLeft+n.offsetWidth+o.offsetWidth>m,e=n.offsetLeft-o.offsetWidth<0;return e?1:t?2:0};for(this.visible=!0,i=u.length;i>p;p++)clearTimeout(u[p]);u.length=0,t=this.target=t||this.target,this.container.style("display","block"),c?(c.show(),n=c.getContainer().node(),h.top=n.offsetTop+t.offsetTop+rn,o=this.container.node(),s=v(o,n),"right"===g?(h.left=(2===s?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+rn,h.right="auto"):(h.left=(2===s||0===s?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+rn,h.right="auto")):!l(t)&&t&&t.getBBox?(e=t.getBBox(),r=this.container.node().offsetWidth,h.top=e.y+e.height+3+rn,"left"===g?(h.left=e.x+rn,h.right="auto"):"right"===g&&(h.left=e.x+e.width-r+rn,h.right="auto")):d&&(h={left:void 0===d.left?"auto":d.left+rn,top:void 0===d.top?"auto":d.top+rn,right:void 0===d.right?"auto":d.right+rn,bottom:void 0===d.bottom?"auto":d.bottom+rn,width:void 0===d.width?"auto":d.width+rn,height:void 0===d.height?"auto":d.height+rn}),a(this.container,h)},c.prototype.hide=function(t){var e=this,n=e.parentListCon,i=e.onhide,r=void 0===t?on:t;n&&n.hide(r),this.visible=!1,this.hideFnIds.push(setTimeout(function(){e.container.style("display","none"),i&&i()},r))},c.prototype.classed=function(t,e){this.container.classed(t,e)},c.prototype.on=function(t,e,n){"undefined"==typeof this.container.node()["on"+t]?this["on"+t]=e:this.container.on(t+"."+(n||"custom"),e)},p.prototype.setConfig=function(t){return s(t,this.config),this},p.prototype.setMeasurement=function(t){var e=this.getFirstContainer();return e?e.getContainer().datum().measurement=t:this.measurement=t,this},p.prototype.setPosition=function(t){return this.position=t,this},p.prototype.classed=function(t,e){return this.container.classed(t,e),this.subContainers.forEach(function(n){n.classed(t,e)}),this},p.prototype.namespace=function(t){var e,n=this.config,i=n.container,r=n.listItem,o=r.states;i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},p.prototype.add=function(t,e){var n,i,r,o,s,u,l,p,f,d=this,g=d.parentContainer,m=this.config,v=m.listItem||{},y=v.className,w=function(t){var e=d.config,n=e.listItem||{},i=n.states||{},r=i.hover.className,o=t.subContainer;t.parentContainer&&t.parentContainer.show(),t.interactivity!==!1&&t.listItem.classed(r,!0),o&&o.show(this)},b=function(t){var e=d.config,n=e.listItem||{},i=n.states||{},r=i.hover.className;t.interactivity!==!1&&t.listItem.classed(r,!1),B||t.subContainer&&t.subContainer.hide()},x=function(){return this.parentNode===g.node()},_=function(t){B?t.subContainer||t.parentContainer&&t.parentContainer.hide(1):(t.parentContainer&&t.parentContainer.hide(1),t.subContainer&&t.subContainer.hide(1)),sn.event.stopPropagation()},N=function(t){t.container.init(this)},C=m.container&&m.container.className,M=d.containerData||(d.containerData=[]),S=0,I={left:8,right:8,top:3,bottom:3},T={margin:"2px 2px 2px 2px",display:"block",cursor:"pointer"},A={height:"1px",margin:"1px",padding:"0px",display:"block"},k="&#9666;",E=h(),B="createTouch"in document;return M[S]?n=M[S].container:M[S]={container:n=new c(this.groupId),groupId:this.groupId,measurement:this.measurement,position:this.position},r=g.selectAll("div").filter(x).data(M),r.enter().append("div").each(N),n.classed(C,!0),this.container=n,S++,t=d.listItems=d.listItems.concat(t),function L(t,e,n){var r,h,m,v,D,W,H;return W=e?e:d.container,m=W.getContainer(),r=t instanceof Array?t:[t],D=m.selectAll("div").data(r),D.exit().style("display","none"),H=D.enter().append("div").merge(D),H.each(function(t){var e,r,D,H;H=t.name,e=t.action,r=t.handler,D=t.className,u=t.padding||{},h=sn.select(this).classed(y,!0),D&&h.classed(t.className,!0),t.listItem=h,n&&(t.parentListItem=n),t.parentContainer=W,a(h,t.divider?A:T),r&&"function"!=typeof r?(a(h,{"padding-right":(u.right||I.right)+"px","padding-bottom":(u.bottom||I.bottom)+"px","padding-top":(u.top||I.top)+"px"}),f=u.left||0,o=[{html:k,style:{"padding-left":I.left+rn}},{html:H,style:{"padding-left":ln(Math.max(f-E.getOriSize("&#9666;").width-I.left,4))}}],s=h.selectAll("span").data(o),s.enter().append("span").merge(s).each(function(t){a(sn.select(this).html(t.html),t.style)}),M[S]?m=M[S].container:M[S]={container:m=new c(d.groupId),groupId:d.groupId,position:d.position},S++,i=g.selectAll("div").filter(x).data(M),i.enter().append("div").each(N),v=L(r,m,h),v.classed(C,!0),t.subContainer=v,v.setParentListContainer(W)):(l=t.iconLeft&&t.iconLeft.symbol||"",p=t.iconLeft&&t.iconLeft.visible,f=l?I.left:0,o=[{html:l,type:"icon",style:{"padding-left":ln(0),visibility:p===!1?"hidden":"visible"},visible:void 0===p?!0:p},{html:H,type:"text",style:{"padding-left":ln(3)}}],s=h.selectAll("span").data(o),s.enter().append("span").merge(s).each(function(t){a(sn.select(this).html(t.html),t.style)}),t.divider!==!0&&a(h,{"padding-left":(u.left||I.left)+"px","padding-right":(u.right||I.right)+"px","padding-bottom":(u.bottom||I.bottom)+"px","padding-top":(u.top||I.top)+"px"})),t.divider!==!0&&(B?(h.on("touchstart.hover",w),h.on("touchend.hoverout",b),h.on("touchend.click",_)):(h.on("mouseover.default",w),h.on("mouseout.default",b),h.on("click.default",_)),e&&"function"==typeof r&&(B?h.on(un[e]+".custom",r):h.on(e+".custom",r)))}),W}(t,e,null),d},p.prototype.show=function(t){0!==this.listItems.length&&this.container.show(t)},p.prototype.hide=function(){0!==this.listItems.length&&(this.container.hide(),this.container.getContainer().selectAll("div").each(function(t){t.subContainer&&t.subContainer.hide()}))},p.prototype.toggleVisibility=function(){0!==this.listItems.length&&(this.container.visible?this.hide():this.show())},p.prototype.getFirstContainer=function(){return this.container},p.prototype.flushItems=function(){this.listItems.length=0},p.prototype.getClassNames=function(t){var t=this.config;return{container:t.container.className,listItem:t.listItem.className}},p.prototype.toggleIconVisibility=function(t){var e,n=this.container,i=function(n){n.getContainer().selectAll("div").each(function(n){var r;n.id===t&&(r=sn.select(this),r.selectAll("span").each(function(t){var n=sn.select(this);"icon"===t.type&&(e=!!t.visible,e?n.style("visibility","hidden"):n.style("visibility","visible"),t.visible=!e)})),n.subContainer&&i(n.subContainer)})};i(n)},p.prototype.getStateClassNames=function(){var t=this.config.listItem.states;return{hover:t.hover.className,selected:t.selected.className}};var hn="http://www.w3.org/1999/xhtml",cn={svg:"http://www.w3.org/2000/svg",xhtml:hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),cn.hasOwnProperty(e)?{space:cn[e],local:t}:t},fn=function(t){var e=pn(t);return(e.local?g:d)(e)},dn=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var gn=document.documentElement;if(!gn.matches){var mn=gn.webkitMatchesSelector||gn.msMatchesSelector||gn.mozMatchesSelector||gn.oMatchesSelector;dn=function(t){return function(){return mn.call(this,t)}}}}var vn=dn,yn={},wn=null;if("undefined"!=typeof document){var bn=document.documentElement;"onmouseenter"in bn||(yn={mouseenter:"mouseover",mouseleave:"mouseout"})}var xn=function(t,e,n){var i,r,o=y(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?b:w,null==n&&(n=!1),i=0;s>i;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,h=a.length;h>l;++l)for(i=0,u=a[l];s>i;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}},_n=function(t){return null==t?x:function(){return this.querySelector(t)}},Nn=function(t){"function"!=typeof t&&(t=_n(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s,a=e[r],u=a.length,l=i[r]=new Array(u),h=0;u>h;++h)(o=a[h])&&(s=t.call(o,o.__data__,h,a))&&("__data__"in o&&(s.__data__=o.__data__),l[h]=s);return new st(i,this._parents)},Cn=function(t){return null==t?_:function(){return this.querySelectorAll(t)}},Mn=function(t){"function"!=typeof t&&(t=Cn(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;n>o;++o)for(var s,a=e[o],u=a.length,l=0;u>l;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new st(i,r)},Sn=function(t){"function"!=typeof t&&(t=vn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;a>l;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new st(i,this._parents)},In=function(t){return new Array(t.length)},Tn=function(){return new st(this._enter||this._groups.map(In),this._parents)};N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var An=function(t){return function(){return t}},kn="$",En=function(t,e){if(!t)return f=new Array(this.size()),l=-1,this.each(function(t){f[++l]=t}),f;var n=e?M:C,i=this._parents,r=this._groups;"function"!=typeof t&&(t=An(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;o>l;++l){var h=i[l],c=r[l],p=c.length,f=t.call(h,h&&h.__data__,l,i),d=f.length,g=a[l]=new Array(d),m=s[l]=new Array(d),v=u[l]=new Array(p);n(h,c,g,m,v,f,e);for(var y,w,b=0,x=0;d>b;++b)if(y=g[b]){for(b>=x&&(x=b+1);!(w=m[x])&&++x<d;);y._next=w||null}}return s=new st(s,i),s._enter=a,s._exit=u,s},Bn=function(){return new st(this._exit||this._groups.map(In),this._parents)},Ln=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,l=e[a],h=n[a],c=l.length,p=s[a]=new Array(c),f=0;c>f;++f)(u=l[f]||h[f])&&(p[f]=u);for(;i>a;++a)s[a]=e[a];return new st(s,this._parents)},Dn=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},Wn=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,i=n.length,r=new Array(i),o=0;i>o;++o){for(var s,a=n[o],u=a.length,l=r[o]=new Array(u),h=0;u>h;++h)(s=a[h])&&(l[h]=s);l.sort(e)}return new st(r,this._parents).order()},Hn=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Rn=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Gn=function(){for(var t=this._groups,e=0,n=t.length;n>e;++e)for(var i=t[e],r=0,o=i.length;o>r;++r){var s=i[r];if(s)return s}return null},Pn=function(){var t=0;return this.each(function(){++t}),t},jn=function(){return!this.node()},Fn=function(t){for(var e=this._groups,n=0,i=e.length;i>n;++n)for(var r,o=e[n],s=0,a=o.length;a>s;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},On=function(t,e){var n=pn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?T:I:"function"==typeof e?n.local?B:E:n.local?k:A)(n,e))},zn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Vn=function(t,e,n){var i;return arguments.length>1?this.each((null==e?L:"function"==typeof e?W:D)(t,e,null==n?"":n)):zn(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},qn=function(t,e){return arguments.length>1?this.each((null==e?H:"function"==typeof e?G:R)(t,e)):this.node()[t]};F.prototype={add:function(t){var e=this._names.indexOf(t);0>e&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Xn=function(t,e){var n=P(t+"");if(arguments.length<2){for(var i=j(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?X:e?V:q)(n,e))},$n=function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?K:Y)(t)):this.node().textContent},Yn=function(t){return arguments.length?this.each(null==t?U:("function"==typeof t?Q:Z)(t)):this.node().innerHTML},Kn=function(){return this.each(J)},Un=function(){return this.each(tt)},Zn=function(t){var e="function"==typeof t?t:fn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Qn=function(t,e){var n="function"==typeof t?t:fn(t),i=null==e?et:"function"==typeof e?e:_n(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},Jn=function(){return this.each(nt)},ti=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},ei=function(t,e){return this.each(("function"==typeof e?ot:rt)(t,e))},ni=[null];st.prototype=at.prototype={constructor:st,select:Nn,selectAll:Mn,filter:Sn,data:En,enter:Tn,exit:Bn,merge:Ln,order:Dn,sort:Wn,call:Hn,nodes:Rn,node:Gn,size:Pn,empty:jn,each:Fn,attr:On,style:Vn,property:qn,classed:Xn,text:$n,html:Yn,raise:Kn,lower:Un,append:Zn,insert:Qn,remove:Jn,datum:ti,on:xn,dispatch:ei};var ii=function(t){return"string"==typeof t?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],ni)},ri={value:function(){}};lt.prototype=ut.prototype={constructor:lt,on:function(t,e){var n,i=this._,r=ht(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=pt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=pt(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=ct(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;n>o;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;n>o;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;o>r;++r)i[r].value.apply(e,n)}};var oi,si,ai=0,ui=0,li=0,hi=1e3,ci=0,pi=0,fi=0,di="object"==typeof performance&&performance.now?performance:Date,gi="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};gt.prototype=mt.prototype={constructor:gt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ft():+n)+(null==e?0:+e),this._next||si===this||(si?si._next=this:oi=this,si=this),this._call=t,this._time=n,xt()},stop:function(){this._call&&(this._call=null,this._time=1/0,xt())}};var mi=function(t,e,n){var i=new gt;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},vi=ut("start","end","interrupt"),yi=[],wi=0,bi=1,xi=2,_i=3,Ni=4,Ci=5,Mi=6,Si=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Mt(t,n,{name:e,index:i,group:r,on:vi,tween:yi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wi})},Ii=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>xi&&n.state<Ci,n.state=Mi,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},Ti=function(t){return this.each(function(){Ii(this,t)})},Ai=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},ki=.7,Ei=1/ki,Bi="\\s*([+-]?\\d+)\\s*",Li="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wi=/^#([0-9a-f]{3})$/,Hi=/^#([0-9a-f]{6})$/,Ri=new RegExp("^rgb\\("+[Bi,Bi,Bi]+"\\)$"),Gi=new RegExp("^rgb\\("+[Di,Di,Di]+"\\)$"),Pi=new RegExp("^rgba\\("+[Bi,Bi,Bi,Li]+"\\)$"),ji=new RegExp("^rgba\\("+[Di,Di,Di,Li]+"\\)$"),Fi=new RegExp("^hsl\\("+[Li,Di,Di]+"\\)$"),Oi=new RegExp("^hsla\\("+[Li,Di,Di,Li]+"\\)$"),zi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ai(It,Tt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Ai(Lt,Bt,St(It,{brighter:function(t){return t=null==t?Ei:Math.pow(Ei,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ki:Math.pow(ki,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Ai(Rt,Ht,St(It,{brighter:function(t){return t=null==t?Ei:Math.pow(Ei,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ki:Math.pow(ki,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(.5>n?n:1-n)*e,r=2*n-i;return new Lt(Gt(t>=240?t-240:t+120,r,i),Gt(t,r,i),Gt(120>t?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Vi=Math.PI/180,qi=180/Math.PI,Xi=18,$i=.95047,Yi=1,Ki=1.08883,Ui=4/29,Zi=6/29,Qi=3*Zi*Zi,Ji=Zi*Zi*Zi;Ai(Ft,jt,St(It,{brighter:function(t){return new Ft(this.l+Xi*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ft(this.l-Xi*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Yi*zt(t),e=$i*zt(e),n=Ki*zt(n),new Lt(Vt(3.2404542*e-1.5371385*t-.4985314*n),Vt(-.969266*e+1.8760108*t+.041556*n),Vt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Ai(Yt,$t,St(It,{brighter:function(t){return new Yt(this.h,this.c,this.l+Xi*(null==t?1:t),this.opacity)},darker:function(t){return new Yt(this.h,this.c,this.l-Xi*(null==t?1:t),this.opacity)},rgb:function(){return Pt(this).rgb()}}));var tr=-.14861,er=1.78277,nr=-.29227,ir=-.90649,rr=1.97294,or=rr*ir,sr=rr*er,ar=er*nr-ir*tr;Ai(Zt,Ut,St(It,{brighter:function(t){return t=null==t?Ei:Math.pow(Ei,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ki:Math.pow(ki,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Vi,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Lt(255*(e+n*(tr*i+er*r)),255*(e+n*(nr*i+ir*r)),255*(e+n*rr*i),this.opacity)}}));{var ur,lr,hr,cr,pr=function(t){return function(){return t}},fr=function po(t){function e(t,e){var i=n((t=Bt(t)).r,(e=Bt(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=ne(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var n=ee(t);return e.gamma=po,e}(1),dr=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),s=new Array(i);for(n=0;r>n;++n)o[n]=xr(t[n],e[n]);for(;i>n;++n)s[n]=e[n];return function(t){for(n=0;r>n;++n)s[n]=o[n](t);return s}},gr=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},mr=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},vr=function(t,e){var n,i={},r={};(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={});for(n in e)n in t?i[n]=xr(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(yr.source,"g"),br=function(t,e){var n,i,r,o=yr.lastIndex=wr.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=yr.exec(t))&&(i=wr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:mr(n,i)})),o=wr.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?re(u[0].x):ie(e):(e=u.length,function(t){for(var n,i=0;e>i;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})},xr=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?pr(e):("number"===i?mr:"string"===i?(n=Tt(e))?(e=n,fr):br:e instanceof Tt?fr:e instanceof Date?gr:Array.isArray(e)?dr:isNaN(e)?vr:mr)(t,e)},_r=180/Math.PI,Nr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Cr=function(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),e*n>t*i&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*_r,skewX:Math.atan(u)*_r,scaleX:s,scaleY:a}},Mr=ae(oe,"px, ","px)","deg)"),Sr=ae(se,", ",")",")");Math.SQRT2}ue(te);var Ir=(ue(ne),function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ct(this.node(),n).tween,o=0,s=r.length;s>o;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?le:he)(n,t,e))}),Tr=function(t,e){var n;return("number"==typeof e?mr:e instanceof Tt?fr:(n=Tt(e))?(e=n,fr):br)(t,e)},Ar=function(t,e){var n=pn(t),i="transform"===n?Sr:Tr;return this.attrTween(t,"function"==typeof e?(n.local?ve:me)(n,i,ce(this,"attr."+t,e)):null==e?(n.local?fe:pe)(n):(n.local?ge:de)(n,i,e+""))},kr=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=pn(t);return this.tween(n,(i.local?ye:we)(i,e))},Er=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?be:xe)(e,t)):Ct(this.node(),e).delay},Br=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_e:Ne)(e,t)):Ct(this.node(),e).duration},Lr=function(t){var e=this._id;return arguments.length?this.each(Ce(e,t)):Ct(this.node(),e).ease},Dr=function(t){"function"!=typeof t&&(t=vn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;n>r;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;a>l;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new We(i,this._parents,this._name,this._id)},Wr=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;o>a;++a)for(var u,l=e[a],h=n[a],c=l.length,p=s[a]=new Array(c),f=0;c>f;++f)(u=l[f]||h[f])&&(p[f]=u);for(;i>a;++a)s[a]=e[a];return new We(s,this._parents,this._name,this._id)},Hr=function(t,e){var n=this._id;return arguments.length<2?Ct(this.node(),n).on.on(t):this.each(Se(n,t,e))},Rr=function(){return this.on("end.remove",Ie(this._id))},Gr=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_n(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;r>s;++s)for(var a,u,l=i[s],h=l.length,c=o[s]=new Array(h),p=0;h>p;++p)(a=l[p])&&(u=t.call(a,a.__data__,p,l))&&("__data__"in a&&(u.__data__=a.__data__),c[p]=u,Si(c[p],e,n,p,c,Ct(a,n)));return new We(o,this._parents,e,n)},Pr=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Cn(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;r>a;++a)for(var u,l=i[a],h=l.length,c=0;h>c;++c)if(u=l[c]){for(var p,f=t.call(u,u.__data__,c,l),d=Ct(u,n),g=0,m=f.length;m>g;++g)(p=f[g])&&Si(p,e,n,g,f,d);o.push(f),s.push(u)}return new We(o,s,e,n)},jr=at.prototype.constructor,Fr=function(){return new jr(this._groups,this._parents)},Or=function(t,e,n){var i="transform"==(t+="")?Mr:Tr;return null==e?this.styleTween(t,Te(t,i)).on("end.style."+t,Ae(t)):this.styleTween(t,"function"==typeof e?Ee(t,i,ce(this,"style."+t,e)):ke(t,i,e+""),n)},zr=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Be(t,e,null==n?"":n))},Vr=function(t){return this.tween("text","function"==typeof t?De(ce(this,"text",t)):Le(null==t?"":t+""))},qr=function(){for(var t=this._name,e=this._id,n=Re(),i=this._groups,r=i.length,o=0;r>o;++o)for(var s,a=i[o],u=a.length,l=0;u>l;++l)if(s=a[l]){var h=Ct(s,e);Si(s,t,n,l,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new We(i,this._parents,t,n)},Xr=0,$r=at.prototype;We.prototype=He.prototype={constructor:We,select:Gr,selectAll:Pr,filter:Dr,merge:Wr,selection:Fr,transition:qr,call:$r.call,nodes:$r.nodes,node:$r.node,size:$r.size,empty:$r.empty,each:$r.each,on:Hr,attr:Ar,attrTween:kr,style:Or,styleTween:zr,text:Vr,remove:Rr,tween:Ir,delay:Er,duration:Br,ease:Lr};var Yr=3,Kr=(function fo(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=fo,e}(Yr),function go(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=go,e}(Yr),function mo(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=mo,e}(Yr),1.70158),Ur=(function vo(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=vo,e}(Kr),function yo(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=yo,e}(Kr),function wo(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=wo,e}(Kr),2*Math.PI),Zr=1,Qr=.3,Jr=(function bo(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((i-n)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ur);return n.amplitude=function(t){return bo(t,e*Ur)},n.period=function(e){return bo(t,e)},n}(Zr,Qr),function xo(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+i)/e)}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ur);return n.amplitude=function(t){return xo(t,e*Ur)},n.period=function(e){return xo(t,e)},n}(Zr,Qr),function _o(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((i-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((i+n)/e))/2}var i=Math.asin(1/(t=Math.max(1,t)))*(e/=Ur);return n.amplitude=function(t){return _o(t,e*Ur)},n.period=function(e){return _o(t,e)},n}(Zr,Qr),{time:null,delay:0,duration:250,ease:Ge}),to=function(t){var e,n;t instanceof We?(e=t._id,t=t._name):(e=Re(),(n=Jr).time=ft(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;r>o;++o)for(var s,a=i[o],u=a.length,l=0;u>l;++l)(s=a[l])&&Si(s,t,e,l,a,n||Pe(s,e));return new We(i,this._parents,t,e)};at.prototype.interrupt=Ti,at.prototype.transition=to;document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var eo="px",no="",io=function(){return{container:{className:"d3-dropdown"},listItem:{className:"d3-dropdownlistitem",states:{hover:{className:"d3-dropdownlistitem-state-hover"},selected:{className:"d3-dropdownlistitem-state-selected"}}}}},ro={},oo=function(t,e){for(var n=e.parentNode;null!=n;){if(n===t)return!0;n=n.parentNode}return!1};Fe.prototype.getConfig=function(t){return this.config[t]},Fe.prototype.namespace=function(t){var e,n=this.config,i=n.states;n.namespace=t,n.className=t+"-"+n.className,n.specificClassName=this.config.className;for(e in i)i[e].className=t+"-"+i[e].className},Fe.prototype.appendSelector=function(t){var e,n=this.config.states;this.config.selector=t,this.config.specificClassName=this.config.className+"-"+t;for(e in n)n[e].className=n[e].className+"-"+t},Fe.prototype.getStateClassName=function(t){return this.config.states[t].className},Fe.prototype.dispose=function(){this.buttonGroup&&this.buttonGroup.remove()},Fe.prototype.setConfig=function(t){return s(t,this.config),this},Fe.prototype.getConfig=function(t){return this.config[t]},Fe.prototype.getLogicalSpace=function(){var t=this.config,e=t.specificClassName,n=this.getIndividualClassNames(e),i=je(),s=n.text,a=this.symbol,u=t.padding,l=u.left,h=u.right,c=u.top,p={width:0,height:0},f=t.margin,d=f.left+f.right,g=f.top+f.bottom,m=r(ii("svg"),s),v=m.fontSize;return this.textFontSize=parseInt(v),"string"==typeof a&&(p=o(a,s,ii("svg"),i)),
t.width=void 0===t.width?Math.max(p.width+l+h+d,t.width||0):t.width,t.height=void 0===t.height?Math.max(p.height+c+h+g,t.height||0):t.height,this.logicalSpace={width:t.width,height:t.height}},Fe.prototype.getWidth=function(){return this.logicalSpace||(this.logicalSpace=this.getLogicalSpace()),this.logicalSpace&&this.logicalSpace.width||0},Fe.prototype.getHeight=function(){return this.logicalSpace||(this.logicalSpace=this.getLogicalSpace()),this.logicalSpace&&this.logicalSpace.height||0},Fe.prototype.getIndividualClassNames=function(t){return i(t,"button")},Fe.prototype.getClassName=function(){return this.config.specificClassName},Fe.prototype.setParentGroup=function(t){this.parentGroup=t},Fe.prototype.draw=function(t,e,n){var i,r,o,s,a,l=this.config,h=l.className,c=l.specificClassName,p=this.getIndividualClassNames(c),f=p.container,d=p.text,g=p.symbol,m=this.buttonGroup,v=this.elements,y=v.container,w=v.text,b=v.symbol,x=this.symbol,_=n||this.parentGroup,N=l.animation,C=this.drawn?N.duration:0,M=l.padding,S=M.left,I=M.right,T=M.top,A=M.bottom,k=l.radius,E=He().duration(C);return this.parentGroup=_,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,r=i.width,o=i.height,m||(m=this.buttonGroup=n.append("g")),this.buttonGroup.classed(h+" "+c,!0),y||(y=v.container=m.append("rect")),y.transition(E).attr("x",t).attr("y",e).attr("width",r).attr("height",o),y.classed(f,!0).attr("rx",k).attr("ry",k),"string"==typeof x?(w||(w=v.text=m.append("text")),a={x:t+S,y:e+T,width:r-I-S,height:o-A-T},w.text(x).transition(E).attr("x",a.x+a.width/2).attr("y",a.y+a.height/2),w.attr("dy","0.35em").attr("text-anchor","middle").attr("pointer-events","none").classed(d,!0)):"function"==typeof x&&(s=x(t+S,e+T,r-(S+I),o-(T+A),M),b||(b=m.append(s.type)),b.attr("pointer-events","none").classed(g,!0),u(b,s.attrs)),this.buttonGroup=m,this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),this.drawn=!0,this},Fe.prototype.bindEventListeners=function(){var t,e=this.eventMap;for(t in e)this.on(t,e[t]);return this},Fe.prototype.postDraw=function(){this.addHoverEvents(),this.bindEventListeners(),this.attachTooltip()},Fe.prototype.addHoverEvents=function(){var t=this;t.on("mouseover",function(){t.setState("hover")},"default"),t.on("mouseout",function(){t.removeState("hover")},"default")},Fe.prototype.attachTooltip=function(){var t=this.tooltip,e=this.buttonGroup,n=this.config.toolText,i=(this.elements,this.getBBox());void 0!==n&&(t||(t=this.tooltip=d3.tooltip().namespace(this.config.namespace).attachTo(d3.select(this.parentGroup.node().ownerSVGElement)).offset({x:15,y:15})),e.data([[null,n]]).call(t),e.on("touchstart.d3-button-tooltip",function(){d3.event.preventDefault(),d3.event.stopPropagation(),t.show([i.x+10,i.y-i.height-30])}),e.on("touchmove.d3-button-tooltip",function(){d3.event;d3.event.preventDefault(),d3.event.stopPropagation(),t.show([i.x+10,i.y-i.height-30])}),e.on("touchend.d3-button-tooltip",function(){d3.event.preventDefault(),d3.event.stopPropagation(),t.hide()}))},Fe.prototype.classed=function(t,e){var n=this.elements,r=i(t,"button");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(r.container,e),n.text&&n.text.classed(r.text,e),n.symbol&&n.symbol.classed(r.symbol,e),this},Fe.prototype.on=function(t,e,n){var i="createTouch"in document;return i?("mouseover"===t&&this.buttonGroup.on("touchstart.mouseover",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e()}),"mouseout"===t&&this.buttonGroup.on("touchend.mouseout",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e()}),"click"===t&&this.buttonGroup.on("touchend.click",function(){d3.event.preventDefault(),d3.event.stopPropagation(),e()})):this.buttonGroup.on(t+"."+(n||"custom"),e),this},Fe.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.visible=!1,this},Fe.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.visible=!0,this},Fe.prototype.disable=function(t){this.elements.container&&this.elements.container.attr("pointer-events",t?"none":"")},Fe.prototype.getBoundElement=function(){return this.elements.container.node()},Fe.prototype.setState=function(t){var e=this.config,n=e.states,i=n[t].className;"disabled"===t&&this.disable(!0),this.classed(i,!0)},Fe.prototype.removeState=function(t){var e=this.config,n=e.states,i=n[t].className;"disabled"===t&&this.disable(!1),this.classed(i,!1)},Fe.prototype.attachEventHandlers=function(t){this.eventMap=t},Fe.prototype.getStateClassNames=function(){var t,e=this.config.states,n={};for(t in e)n[t]=e[t].className;return n},Oe.prototype=Object.create(Fe.prototype),Oe.prototype.draw=function(t,e,n){var i,r,o,s,l,h,c,p,f,d,g,m=this,v=this.config,y=v.className,w=v.specificClassName,b=this.getIndividualClassNames(w),x=b.container,_=b.text,N=b.input,C=b.icon,M=this.elements,S=M.container,I=M.text,T=M.inputBox,A=v.padding,k=A.left,E=A.right,B=A.top,L=A.bottom,D=n||this.parentGroup,W=this.buttonGroup,H=this.textFontSize/1.3,R=this.textFontSize/2.6,G=M.arrow,P=M.inputFieldTracker,j=M.iconTracker,F=v.hasInputField,O=v.placeholder,z=v.icon;return!W&&(W=this.buttonGroup=n.append("g")),this.parentGroup=D,c=D.node().ownerSVGElement.parentNode,this.logicalSpace||(i=this.getLogicalSpace()),W.classed(y+" "+w,!0),i=this.logicalSpace,r=i.width,o=i.height,S||(S=M.container=W.append("rect")),u(S,{x:t,y:e,width:r,height:o,"class":x,rx:v.radius,ry:v.radius}),!I&&(I=M.text=W.append("text")),I.text(this.symbol||"W"),s={x:t+k,y:e+B,width:r-E-k,height:o-L-B},p={x:s.x,y:s.y+s.height/2,dy:"0.35em","pointer-events":"none"},u(I,p),I.classed(_,!0),l=I.node().getBBox(),I.text(this.symbol||no),F&&(!T&&(T=M.inputBox=ii(c).append("input")),h={position:"absolute",top:l.y+eo,left:l.x+eo,width:r-(k+E)-(v.icon?H:0)+3+eo,height:(l.height||o)+eo,outline:"none",margin:"0px",border:"0px",padding:"0px",visibility:"hidden"},T.attr("placeholder",O),T.classed(N,!0),a(T,h),T.attr("value",this.symbol)),P||(P=M.inputFieldTracker=W.append("rect")),u(P,{x:t,y:e,width:r-(v.icon?E+H:0),height:o}),a(P,{opacity:0,cursor:F?"text":"pointer"}),this.buttonGroup=W,z&&(f=t+r-E-H+4,d=e+o/2-R/2,g=["M",f,d,"L",f+H,d,"L",f+H/2,d+R,"Z"],!G&&(G=M.arrow=W.append("path")),G.attr("d",g.toString().replace(/,/g," ")).classed(C,!0).attr("pointer-events","none"),j||(j=M.iconTracker=W.append("rect")),u(j,{x:t+r-H-E,y:e,width:H+E,height:o}),a(j,{opacity:0,cursor:"pointer"})),m.config.hasInputField!==!1&&m.on("click",m.edit.bind(m),"default"),m.config.hasInputField!==!1&&m.on("blur",m.blur.bind(m),"default"),this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),m},Oe.prototype.classed=function(t,e){var n=this.elements,r=i(t,"inputButton");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(r.container,e),n.text&&n.text.classed(r.text,e),n.symbol&&n.symbol.classed(r.symbol,e),n.inputBox&&n.inputBox.classed(r.input,e),this},Oe.prototype.blur=function(t){var e,n=this.elements,i=n.inputBox,o=je(),s=n.text,a=i&&i.node(),u=a?a.value:t,l=this.config,h=l.padding,c=l.width-(h.left+h.right),p=r(this.parentGroup,this.getIndividualClassNames(this.getClassName()).text);return i&&i.style("visibility","hidden"),o.setStyle(p),e=o.getSmartText(u,c,l.height),this.symbol=e.text,s&&s.style("display","block").text(e.text),this},Oe.prototype.edit=function(){var t=this.elements,e=t.inputBox,n=e&&e.node(),i=n.value.length;return e&&(e.style("visibility","visible"),n.setSelectionRange(i,i),n.focus(),t.text.style("display","none")),this},Oe.prototype.getIndividualClassNames=function(t){return i(t,"inputButton")},Oe.prototype.text=function(t){var e=this.elements.inputBox,n=t;return t?(e&&(e.node().value=t),this.blur(t)):n=e?e.node().value:this.elements.text.text(),n},Oe.prototype.value=function(){return this.text()},Oe.prototype.on=function(t,e,n){var i=this.elements.inputBox,r=t+"."+(n||"custom");switch(t){case"blur":case"change":case"keypress":i&&i.on(r,e);break;case"onIconClick":this.elements.iconTracker&&this.elements.iconTracker.on("click",e),this.elements.iconTracker&&this.elements.iconTracker.on("touchend",function(){d3.event.preventDefault(),e()});break;default:this.elements.inputFieldTracker&&this.elements.inputFieldTracker.on(r,e)}return this},Oe.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.elements.inputBox.attr("visibility","hidden"),this},Oe.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.elements.inputBox.attr("visibility","visible"),this},qe.prototype=Object.create(Fe.prototype),qe.prototype.getLogicalSpace=function(){var t,e,n,i,r=this.config,s=r.width,a=r.height,u=this.options||[],l=je(),h=this.getIndividualClassNames(r.specificClassName),c=h.text,p=this.parentGroup,f=r.padding,d=f.left,g=f.right,m=f.top,v=f.bottom,y=0,w=0,b=u.length;if(s&&a)return this.logicalSpace={width:s,height:a};for(i=0;b>i;i++)t=u[i],e=t.name,n=o(e,c,p,l),y=Math.max(n.width,y),w=Math.max(n.height,w);return{width:y+d+g,height:w+m+v}},qe.prototype.draw=function(t,e,n){var i,r,o,s,a,u,l,h=this.buttonGroup,c=this.elements,p=c.container,f=c.text,d=c.arrow,g=8,m=4,v=this.config,y=v.className,w=v.specificClassName,b=this.getIndividualClassNames(w),x=b.container,_=b.text,N=b.arrow,C=this.config.padding,M=C.left,S=C.right,I=C.top,T=C.bottom,A=this.options||[],k=n||this.parentGroup,E=this.logicalSpace,B=A[0]&&A[0].name;return this.parentGroup=k,this.logicalSpace||(E=this.getLogicalSpace()),u=E.width,l=E.height,!h&&(h=this.buttonGroup=n.append("g")),h.classed(y+" "+w,!0),!p&&(p=c.container=h.append("rect")),p.attr("x",t).attr("y",e).attr("width",u).attr("height",l).classed(x,!0).attr("rx",v.radius).attr("ry",v.radius),!f&&(f=c.text=h.append("text")),f.text("W"),i={x:t+M,y:e+I,width:u-(S+M)-g,height:l-(T+I)},f.attr("x",i.x).attr("y",i.y+i.height/2).attr("dy","0.35em").attr("pointer-events","none").classed(_,!0),a=f.node().getBBox(),f.text(B),o=t+u-S-g,s=a.y+a.height/2-m/2,r=["M",o,s,"L",o+g,s,"L",o+g/2,s+m,"Z"],!d&&(d=c.arrow=h.append("path")),d.attr("d",r.toString().replace(/,/g," ")).classed(N,!0).attr("pointer-events","none"),this.buttonGroup=h,this.getBBox=function(){return{x:t,y:e,width:u,height:l}},this.postDraw(),this},qe.prototype.namespace=function(t){var e,n=this.config.dropDownMenu,i=n.container,r=n.listItem,o=r.states;Fe.prototype.namespace.call(this,t),i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},qe.prototype.appendSelector=function(t){var e=this.config.dropDownMenu,n=e.container,i=e.listItem;Fe.prototype.appendSelector.call(this,t),n.className=n.className+"-"+t,i.className=i.className+"-"+t},qe.prototype.text=function(t){return this.buttonGroup.select("text").text(t)},qe.prototype.value=function(t){var e,n=this.dropDownMenu,i=this,r=n.container,o=i.selectedItem;return void 0===t?o&&o.datum().value:(e=r.getContainer(),void e.selectAll("div").each(function(e){var n;e.value===t&&(n=ii(this),i.selectedItem&&i.selectItem(i.selectedItem,!1),i.selectItem(n,!0),i.text(n.datum().name),i.selectedItem=n)}))},qe.prototype.createMenu=function(t){var e=this,n=this.dropDownMenu,i=this.elements.container.node(),r=this.config.dropDownMenu||{},o=r.container||{},s=r.listItem||{},a=o.className||{},u=s.className||{},l=s.states,h=i.getBBox();return n||(n=this.dropDownMenu=new f(ii(t))),n.setConfig({listItem:{className:u,states:l},container:{className:a}}),n.setMeasurement({top:h.y+h.height,left:h.x,width:h.width-1}),i.groupId=n.groupId,this.on("mouseout",function(){0===n.listItems.length&&e.onBlur&&e.onBlur(),n.hide()},"default"),this.on("click",function(){n.toggleVisibility()},"default"),this.add(this.options),this},qe.prototype.postDraw=function(){Fe.prototype.postDraw.call(this);var t=this,e=t.parentGroup,n=e.node().ownerSVGElement.parentNode;this.on("click",function(){t.setState("selected")},"selected"),this.on("blur",function(){t.removeState("selected")}),this.createMenu(n),d3.select("html").on("touchend."+(new Date).getTime(),function(){t.dropDownMenu.hide()})},qe.prototype.add=function(t){var e,n,i,r=this.dropDownMenu,o=this.config,s=o.dropDownMenu||{},a=s.direction,u=this,l=this.elements.container.node().getBBox(),h=this.parentGroup.node().ownerSVGElement.getBoundingClientRect(),c=(h.top+h.height,"createTouch"in document);0!==t.length&&r.add(t),i=r.getFirstContainer(),i&&(i.on("hide",this.onBlur),e=i.getContainer(),n=i.getDimensions(),r.setMeasurement("down"===a?{top:l.y+l.height,left:l.x,width:l.width-1}:{top:l.y-n.height,left:l.x,width:l.width-1}),c?e.selectAll("div").on("touchend.selected",this.onSelect()).each(function(t,e){0===e&&(u.selectedItem&&u.selectItem(u.selectedItem,!1),u.selectedItem=u.selectItem(ii(this),!0))}):e.selectAll("div").on("click.selected",this.onSelect()).each(function(t,e){0===e&&(u.selectedItem&&u.selectItem(u.selectedItem,!1),u.selectedItem=u.selectItem(ii(this),!0))}))},qe.prototype.setPlaceHolderValue=function(t){var e=this.elements,n=e.text;n&&n.text(t),this.selectItem(this.selectedItem,!1),this.selectedItem=void 0},qe.prototype.updateList=function(t){var e=this.dropDownMenu;e.flushItems(),this.add(t),this.text(t[0]&&t[0].name||no)},qe.prototype.selectItem=function(t,e){var n=this.config.dropDownMenu||{},i=n.listItem||{},r=i.states||{};return t&&t.classed(r.selected.className,e)},qe.prototype.onSelect=function(){var t=this;return function(e){var n=ii(this),i=t.selectedItem,r=t.onChange;i&&t.selectItem(i,!1),t.selectedItem=t.selectItem(n,!0),t.text(e.name),t.selectedItem=n,r&&r()}},qe.prototype.on=function(t,e,n){switch(t){case"change":this.onChange=e;break;case"blur":this.onBlur=e;break;default:this.buttonGroup.on(t+"."+(n||"custom"),e)}return this},qe.prototype.getIndividualClassNames=function(t){return i(t,"selectButton")},Xe.prototype=Object.create(Fe.prototype),Xe.prototype.add=function(t){var e=this.dropDownMenu;e.add(t)},Xe.prototype.postDraw=function(){Fe.prototype.postDraw.call(this);var t=this,e=t.getBBox(),n={},i="createTouch"in document;this.on("mouseover",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n)}),i||this.on("mouseout",function(){t.dropDownMenu.hide()}),this.on("touchend",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n),t.removeState("hover")}),i&&(d3.select("html").on("touchstart."+(new Date).getTime(),function(){var e=d3.event.target,n=t.elements.container.node();oo(n,e)||t.dropDownMenu.hide()}),d3.select("html").on("click."+(new Date).getTime(),function(){var e=d3.event.target,n=t.elements.container.node();oo(n,e)||t.dropDownMenu.hide()}))},Xe.prototype.showListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"block"})},Xe.prototype.hideListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"none"})};var so,ao={left:0,right:0,bottom:0,top:0},uo={left:0,right:0,bottom:0,top:0},lo=function(t){return t+"px"},ho=function(t,e){for(var n in e)t.on(n,e[n])},co=function(t){return{"margin-left":lo(t.left),"margin-right":lo(t.right),"margin-top":lo(t.top),"margin-bottom":lo(t.bottom)}};so=Ke.prototype,so.setConfig=function(t){s(t,this.config)},so.add=function(t){this.components=this.components.concat(t),this.createDialogBox()},so.hide=function(){},so.createDialogBox=function(){var t=this.components,e=this.parentContainer,n=this.container,i=this.config,r=i.className,o=i.margin||ao,s=i.padding||uo;n||(n=this.container=d3.select(e).append("div")),n.classed(r,!0),a(n,i.style),a(n,{"margin-left":lo(o.left),"margin-right":lo(o.right),"margin-top":lo(o.top),"margin-bottom":lo(o.bottom),"padding-left":lo(s.left),"padding-right":lo(s.right),"padding-top":lo(s.top),"padding-bottom":lo(s.bottom)}),this.createRowsRecursively(n,t)},so.createRowsRecursively=function(t,e){var n,i,r=this;n=t.selectAll("div").data(e),i=n.enter().append("div"),i.merge(n).each(function(t){var e=t.margin||ao,n=t.padding||uo;t.cols&&r.createRowsRecursively(d3.select(this),t.cols),t.elements&&r.createElements(d3.select(this),t.elements),a(d3.select(this),{"margin-left":lo(e.left),"margin-right":lo(e.right),"margin-top":lo(e.top),"margin-bottom":lo(e.bottom),"padding-left":lo(n.left),"padding-right":lo(n.right),"padding-top":lo(n.top),"padding-bottom":lo(n.bottom)}),a(d3.select(this),t.style)})},so.createElements=function(t,e){var n,i,r,o,i=this.elements,s=Ue(e);for(r in s)i=s[r],n=t.selectAll(r).data(i),o=n.enter(),o.append(r).merge(n).each(function(t){var e=d3.select(this);if(u(e,t.attrs),a(e,co(t.margin||ao)),t.events&&ho(e,t.events),t.html&&e.html(t.html),"select"===r){var n=e.selectAll("option").data(t.options).enter().append("option").html(function(t){return t});e.node().add(n.node())}})},so.show=function(){},t.button=ze,t.selectButton=Ye,t.inputButton=Ve,t.buttonWithContextMenu=$e,t.dropDownMenu=f,t.dialogBox=Ze,Object.defineProperty(t,"__esModule",{value:!0})});