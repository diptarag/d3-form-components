(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(this,function(t){"use strict";function e(t){return t&&t.__esModule?t.default:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e){var n,i,r,o="W",s={"fill-opacity":0},a="string"==typeof e?e:void 0;return n=t.append("text").text(o),a&&n.attr("class",a),n.style(s),i=window.getComputedStyle(n.node()),r={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),r}function r(t,e,n,r){var o,s=i(n,e);return r.setStyle(s),o=r.getOriSize(t),{width:o.width,height:o.height}}function o(t,e,n){var i,r;for(i in t)if(r=t[i],void 0!==r&&null!==r)if(n){if(e[i])continue;e[i]=r}else"object"==typeof r?(void 0===e[i]&&(e[i]={}),o(r,e[i],n)):e[i]=r}function s(t,e){var n;for(n in e)t.style(n,e[n])}function a(t,e){var n;for(n in e)t.attr(n,e[n])}function u(t){return!(!t||!t.nodeName||"DIV"!==t.nodeName.toUpperCase())}function h(){return Dn.smartLabel||(Dn.smartLabel=new Ln((new Date).getTime()))}function l(t){this.groupId=t,this.listItems=[],this.hideFnIds=[]}function c(t){var e=t.append("div");this.groupId="dropDownMenu-"+(new Date).getTime(),this.parentContainer=e,this.listItems=[],this.config={}}function f(t){return new c(t)}function p(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rn&&e.documentElement.namespaceURI===Rn?e.createElement(t):e.createElementNS(n,t)}}function d(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function g(t,e,n){return t=m(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function m(t,e,n){return function(i){var r=$n;$n=i;try{t.call(this,this.__data__,e,n)}finally{$n=r}}}function y(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function v(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function w(t,e,n){var i=Vn.hasOwnProperty(t.type)?g:m;return function(r,o,s){var a,u=this.__on,h=i(e,o,s);if(u)for(var l=0,c=u.length;l<c;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=h,a.capture=n),void(a.value=e);this.addEventListener(t.type,h,n),a={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(a):this.__on=[a]}}function b(){}function x(){return[]}function _(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function N(t,e,n,i,r,o){for(var s,a=0,u=e.length,h=o.length;a<h;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new _(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function M(t,e,n,i,r,o,s){var a,u,h,l={},c=e.length,f=o.length,p=new Array(c);for(a=0;a<c;++a)(u=e[a])&&(p[a]=h=ii+s.call(u,u.__data__,a,e),h in l?r[a]=u:l[h]=u);for(a=0;a<f;++a)h=ii+s.call(t,o[a],a,o),(u=l[h])?(i[a]=u,u.__data__=o[a],l[h]=null):n[a]=new _(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&l[p[a]]===u&&(r[a]=u)}function C(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k(t){return function(){this.removeAttribute(t)}}function S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function I(t,e){return function(){this.setAttribute(t,e)}}function E(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function A(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function L(t){return function(){this.style.removeProperty(t)}}function B(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function H(t){return function(){delete this[t]}}function D(t,e){return function(){this[t]=e}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function G(t){return t.trim().split(/^|\s+/)}function j(t){return t.classList||new O(t)}function O(t){this._node=t,this._names=G(t.getAttribute("class")||"")}function P(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function F(t,e){for(var n=j(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function q(t){return function(){P(this,t)}}function z(t){return function(){F(this,t)}}function V(t,e){return function(){(e.apply(this,arguments)?P:F)(this,t)}}function $(){this.textContent=""}function X(t){return function(){this.textContent=t}}function Y(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function K(){this.innerHTML=""}function U(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function et(){var t=this.parentNode;t&&t.removeChild(this)}function nt(t,e,n){var i=mi(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function it(t,e){return function(){return nt(this,t,e)}}function rt(t,e){return function(){return nt(this,t,e.apply(this,arguments))}}function ot(t,e){this._groups=t,this._parents=e}function st(){return new ot([[document.documentElement]],Ei)}function at(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new ut(i)}function ut(t){this._=t}function ht(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function lt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ct(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Ai,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function ft(){return ji||(Fi(pt),ji=Pi.now()+Oi)}function pt(){ji=0}function dt(){this._call=this._time=this._next=null}function gt(t,e,n){var i=new dt;return i.restart(t,e,n),i}function mt(){ft(),++Wi;for(var t,e=Li;e;)(t=ji-e._time)>=0&&e._call.call(null,t),e=e._next;--Wi}function yt(){ji=(Gi=Pi.now())+Oi,Wi=Hi=0;try{mt()}finally{Wi=0,wt(),ji=0}}function vt(){var t=Pi.now(),e=t-Gi;e>Ri&&(Oi-=e,Gi=t)}function wt(){for(var t,e,n=Li,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Li=e);Bi=t,bt(i)}function bt(t){if(!Wi){Hi&&(Hi=clearTimeout(Hi));var e=t-ji;e>24?(t<1/0&&(Hi=setTimeout(yt,e)),Di&&(Di=clearInterval(Di))):(Di||(Di=setInterval(vt,Ri)),Wi=1,Fi(yt))}}function xt(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>$i)throw new Error("too late");return n}function _t(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Yi)throw new Error("too late");return n}function Nt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Mt(t,e,n){function i(t){n.state=Xi,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var h,l,c,f;if(n.state!==Xi)return s();for(h in u)if(f=u[h],f.name===n.name){if(f.state===Ki)return qi(r);f.state===Ui?(f.state=Zi,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete u[h]):+h<e&&(f.state=Zi,f.timer.stop(),delete u[h])}if(qi(function(){n.state===Ki&&(n.state=Ui,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=Yi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Yi){for(n.state=Ki,a=new Array(c=n.tween.length),h=0,l=-1;h<c;++h)(f=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(a[++l]=f);a.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Qi,1),r=-1,o=a.length;++r<o;)a[r].call(null,i);n.state===Qi&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Zi,n.timer.stop(),delete u[e];for(var i in u)return;delete t.__transition}var a,u=t.__transition;u[e]=n,n.timer=gt(i,0,n.time)}function Ct(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function kt(){}function St(t){var e;return t=(t+"").trim().toLowerCase(),(e=ur.exec(t))?(e=parseInt(e[1],16),new Lt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=hr.exec(t))?It(parseInt(e[1],16)):(e=lr.exec(t))?new Lt(e[1],e[2],e[3],1):(e=cr.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=fr.exec(t))?Et(e[1],e[2],e[3],e[4]):(e=pr.exec(t))?Et(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=dr.exec(t))?Bt(e[1],e[2]/100,e[3]/100,1):(e=gr.exec(t))?Bt(e[1],e[2]/100,e[3]/100,e[4]):mr.hasOwnProperty(t)?It(mr[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function It(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function Et(t,e,n,i){return i<=0&&(t=e=n=NaN),new Lt(t,e,n,i)}function Tt(t){return t instanceof kt||(t=St(t)),t?(t=t.rgb(),new Lt(t.r,t.g,t.b,t.opacity)):new Lt}function At(t,e,n,i){return 1===arguments.length?Tt(t):new Lt(t,e,n,null==i?1:i)}function Lt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Bt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,i)}function Wt(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=St(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=u>0&&u<1?0:s,new Dt(s,a,u,t.opacity)}function Ht(t,e,n,i){return 1===arguments.length?Wt(t):new Dt(t,e,n,null==i?1:i)}function Dt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Rt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Gt(t){if(t instanceof Ot)return new Ot(t.l,t.a,t.b,t.opacity);if(t instanceof Xt){var e=t.h*yr;return new Ot(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Lt||(t=Tt(t));var n=zt(t.r),i=zt(t.g),r=zt(t.b),o=Pt((.4124564*n+.3575761*i+.1804375*r)/br),s=Pt((.2126729*n+.7151522*i+.072175*r)/xr),a=Pt((.0193339*n+.119192*i+.9503041*r)/_r);return new Ot(116*s-16,500*(o-s),200*(s-a),t.opacity)}function jt(t,e,n,i){return 1===arguments.length?Gt(t):new Ot(t,e,n,null==i?1:i)}function Ot(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Pt(t){return t>kr?Math.pow(t,1/3):t/Cr+Nr}function Ft(t){return t>Mr?t*t*t:Cr*(t-Nr)}function qt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function zt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Vt(t){if(t instanceof Xt)return new Xt(t.h,t.c,t.l,t.opacity);t instanceof Ot||(t=Gt(t));var e=Math.atan2(t.b,t.a)*vr;return new Xt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function $t(t,e,n,i){return 1===arguments.length?Vt(t):new Xt(t,e,n,null==i?1:i)}function Xt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Yt(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);t instanceof Lt||(t=Tt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Wr*i+Lr*e-Br*n)/(Wr+Lr-Br),o=i-r,s=(Ar*(n-r)-Er*o)/Tr,a=Math.sqrt(s*s+o*o)/(Ar*r*(1-r)),u=a?Math.atan2(s,o)*vr-120:NaN;return new Ut(u<0?u+360:u,a,r,t.opacity)}function Kt(t,e,n,i){return 1===arguments.length?Yt(t):new Ut(t,e,n,null==i?1:i)}function Ut(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e){return function(n){return t+n*e}}function Zt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jt(t,e){var n=e-t;return n?Qt(t,n>180||n<-180?n-360*Math.round(n/360):n):jr(isNaN(t)?e:t)}function te(t){return 1===(t=+t)?ee:function(e,n){return n-e?Zt(e,n,t):jr(isNaN(e)?n:e)}}function ee(t,e){var n=e-t;return n?Qt(t,n):jr(isNaN(t)?e:t)}function ne(t){return function(){return t}}function ie(t){return function(e){return t(e)+""}}function re(t){return"none"===t?Ur:(Hr||(Hr=document.createElement("DIV"),Dr=document.documentElement,Rr=document.defaultView),Hr.style.transform=t,t=Rr.getComputedStyle(Dr.appendChild(Hr),null).getPropertyValue("transform"),Dr.removeChild(Hr),t=t.slice(7,-1).split(","),Qr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function oe(t){return null==t?Ur:(Gr||(Gr=document.createElementNS("http://www.w3.org/2000/svg","g")),Gr.setAttribute("transform",t),(t=Gr.transform.baseVal.consolidate())?(t=t.matrix,Qr(t.a,t.b,t.c,t.d,t.e,t.f)):Ur)}function se(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:qr(t,r)},{i:u-2,x:qr(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:qr(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:qr(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:qr(t,n)},{i:a-2,x:qr(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function ae(t){return function e(n){function i(e,i){var r=t((e=Kt(e)).h,(i=Kt(i)).h),o=ee(e.s,i.s),s=ee(e.l,i.l),a=ee(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function ue(t,e){var n,i;return function(){var r=_t(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function he(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=_t(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},u=0,h=r.length;u<h;++u)if(r[u].name===e){r[u]=a;break}u===h&&r.push(a)}o.tween=r}}function le(t,e,n){var i=t._id;return t.each(function(){var t=_t(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Nt(t,i).value[e]}}function ce(t){return function(){this.removeAttribute(t)}}function fe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pe(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function de(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function ge(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function me(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function ye(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function ve(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function we(t,e){return function(){xt(this,t).delay=+e.apply(this,arguments)}}function be(t,e){return e=+e,function(){xt(this,t).delay=e}}function xe(t,e){return function(){_t(this,t).duration=+e.apply(this,arguments)}}function _e(t,e){return e=+e,function(){_t(this,t).duration=e}}function Ne(t,e){if("function"!=typeof e)throw new Error;return function(){_t(this,t).ease=e}}function Me(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function Ce(t,e,n){var i,r,o=Me(e)?xt:_t;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function ke(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Se(t,e){var n,i,r;return function(){var o=mi(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}function Ie(t){return function(){this.style.removeProperty(t)}}function Ee(t,e,n){var i,r;return function(){var o=mi(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function Te(t,e,n){var i,r,o;return function(){var s=mi(this).getComputedStyle(this,null),a=s.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=s.getPropertyValue(t)),a===u?null:a===i&&u===r?o:o=e(i=a,r=u)}}function Ae(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function Le(t){return function(){this.textContent=t}}function Be(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function We(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function He(t){return st().transition(t)}function De(){return++bo}function Re(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Ge(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return So.time=ft(),So;return n}function je(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Oe(){}function Pe(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ho.exec(t))?(e=parseInt(e[1],16),new $e(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Do.exec(t))?Fe(parseInt(e[1],16)):(e=Ro.exec(t))?new $e(e[1],e[2],e[3],1):(e=Go.exec(t))?new $e(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jo.exec(t))?qe(e[1],e[2],e[3],e[4]):(e=Oo.exec(t))?qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Po.exec(t))?Xe(e[1],e[2]/100,e[3]/100,1):(e=Fo.exec(t))?Xe(e[1],e[2]/100,e[3]/100,e[4]):qo.hasOwnProperty(t)?Fe(qo[t]):"transparent"===t?new $e(NaN,NaN,NaN,0):null}function Fe(t){return new $e(t>>16&255,t>>8&255,255&t,1)}function qe(t,e,n,i){return i<=0&&(t=e=n=NaN),new $e(t,e,n,i)}function ze(t){return t instanceof Oe||(t=Pe(t)),t?(t=t.rgb(),new $e(t.r,t.g,t.b,t.opacity)):new $e}function Ve(t,e,n,i){return 1===arguments.length?ze(t):new $e(t,e,n,null==i?1:i)}function $e(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Xe(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ue(t,e,n,i)}function Ye(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof Oe||(t=Pe(t)),!t)return new Ue;if(t instanceof Ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=u>0&&u<1?0:s,new Ue(s,a,u,t.opacity)}function Ke(t,e,n,i){return 1===arguments.length?Ye(t):new Ue(t,e,n,null==i?1:i)}function Ue(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ze(t){if(t instanceof tn)return new tn(t.l,t.a,t.b,t.opacity);if(t instanceof un){var e=t.h*zo;return new tn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof $e||(t=ze(t));var n=on(t.r),i=on(t.g),r=on(t.b),o=en((.4124564*n+.3575761*i+.1804375*r)/Xo),s=en((.2126729*n+.7151522*i+.072175*r)/Yo),a=en((.0193339*n+.119192*i+.9503041*r)/Ko);return new tn(116*s-16,500*(o-s),200*(s-a),t.opacity)}function Je(t,e,n,i){return 1===arguments.length?Ze(t):new tn(t,e,n,null==i?1:i)}function tn(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function en(t){return t>Jo?Math.pow(t,1/3):t/Zo+Uo}function nn(t){return t>Qo?t*t*t:Zo*(t-Uo)}function rn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function on(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function sn(t){if(t instanceof un)return new un(t.h,t.c,t.l,t.opacity);t instanceof tn||(t=Ze(t));var e=Math.atan2(t.b,t.a)*Vo;return new un(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function an(t,e,n,i){return 1===arguments.length?sn(t):new un(t,e,n,null==i?1:i)}function un(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function hn(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);t instanceof $e||(t=ze(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(as*i+os*e-ss*n)/(as+os-ss),o=i-r,s=(rs*(n-r)-ns*o)/is,a=Math.sqrt(s*s+o*o)/(rs*r*(1-r)),u=a?Math.atan2(s,o)*Vo-120:NaN;return new cn(u<0?u+360:u,a,r,t.opacity)}function ln(t,e,n,i){return 1===arguments.length?hn(t):new cn(t,e,n,null==i?1:i)}function cn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function fn(t,e){return function(n){return t+n*e}}function pn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function dn(t,e){var n=e-t;return n?fn(t,n>180||n<-180?n-360*Math.round(n/360):n):us(isNaN(t)?e:t)}function gn(t){return 1===(t=+t)?mn:function(e,n){return n-e?pn(e,n,t):us(isNaN(e)?n:e)}}function mn(t,e){var n=e-t;return n?fn(t,n):us(isNaN(t)?e:t)}function yn(t){return function(){return t}}function vn(t){return function(e){return t(e)+""}}function wn(t){return function e(n){function i(e,i){var r=t((e=ln(e)).h,(i=ln(i)).h),o=mn(e.s,i.s),s=mn(e.l,i.l),a=mn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function bn(){return ys.smartLabel||(ys.smartLabel=new Ln((new Date).getTime()))}function xn(t){this.symbol=t,this.config={className:"d3-button",specificClassName:"d3-button",states:{hover:"d3-button-state-hover",selected:"d3-button-state-selected",disabled:"d3-button-state-disabled"},padding:{top:4,right:4,bottom:4,left:4},radius:1,margin:{top:0,right:5,left:5,bottom:0},animation:{duration:1e3}},this.elements={}}function _n(){xn.apply(this,arguments),this.setConfig({className:"d3-inputbutton",states:{hover:"d3-inputbutton-state-hover",selected:"d3-inputbutton-state-selected",disabled:"d3-inputbutton-state-disabled"},padding:{left:10}})}function Nn(t){return new xn(t)}function Mn(t){return new _n(t)}function Cn(t){this.options=t,xn.apply(this,arguments),this.setConfig({className:"d3-selectbutton",states:{hover:"d3-selectbutton-state-hover",selected:"d3-selectbutton-state-selected"},dropDownMenu:ms()})}function kn(t,e){xn.apply(this,arguments),this.dropDownMenu=new f(Ti(e)),this.setConfig({dropDownMenu:ms()}),this.dropDownMenu.setConfig(this.config.dropDownMenu)}function Sn(t,e){return new kn(t,e)}function In(t){return new Cn(t)}var En=n(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,r=i.userAgent,o="DIV",s=Math.ceil,a=Math.floor,u=0,h="fusioncharts-smartlabel-",l=h+"container",c=h+"tag",f=h+"br";return n={win:t,containerClass:l,classNameWithTag:c,classNameWithTagBR:f,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+c+"\b"),classNameBrReg:new RegExp("\b"+f+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+c+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+c+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,o;return e.getElementsByClassName?(n="getElementsByClassName",i=c,o=!0):(n="getElementsByTagName",i="span",o=!1),{isIE:/msie/i.test(r)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(r),isWebKit:new RegExp(" AppleWebKit/").test(r),childRetriverFn:n,childRetriverString:i,noClassTesting:o}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(o)),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(o),i.className=l,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),u+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,r=n._getWidthFn(),o=0,u=0,h=r(t),l=h/t.length;if(i=e,o=s(e/l),h<e)return t.length-1;for(o>t.length&&(i=e-h,o=t.length);i>0;){if(i=e-r(t.substr(0,o)),u=a(i/l),!u)return o;o+=u}for(;i<0;){if(i=e-r(t.substr(0,o)),u=a(i/l),!u)return o;o+=u}return o},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e.default=n,t.exports=e.default}),Tn=n(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e,n){var i;n=n>5?n:5,n=n<20?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=s.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=En,r=e(i),o=r.default.init("undefined"!=typeof window?window:void 0),s=o.win.document,a=o.getDocumentSupport(),u=a.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,r=this.containers,s=this.length,a=this.maxContainers,u="";for(n in o.supportedStyle)void 0!==t[n]&&(u+=o.supportedStyle[n]+":"+t[n]+";");if(!u)return!1;if(i=r[u])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(s>=a)for(e=s-a+1;e--;)this.removeContainer(this.last);i=this.addContainer(u)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=s.createElement("div"),this.rootNode.appendChild(e),a.isIE&&!a.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=o.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,a.isBrowserLess?(e=n.svgText=s.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=o.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-u)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-u,e.textContent=".",n.dotWidth=e.getBBox().width-u):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),An=n(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){var o,s,l,c,f=!1,p=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(c=p[t])&&c.dispose(),p[t]=this,r=r||{},r.maxCacheLimit=isFinite(l=r.maxCacheLimit)?l:u.maxDefaultCacheLimit,"string"==typeof e&&(e=h.getElementById(e)),o=u.createContainer(e),o.innerHTML=u.testStrAvg,!g.isHeadLess&&(g.isIE||o.offsetHeight||o.offsetWidth)||(f=!0),o.innerHTML="";for(s in u.parentContainerStyle)o.style[s]=u.parentContainerStyle[s];this.id=t,this.parentContainer=o,this._containerManager=new a.default(o,f,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=r,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var r=En,o=n(r),s=Tn,a=n(s),u=o.default.init("undefined"!=typeof window?window:void 0),h=u.win.document,l=u.win.Math,c=l.max,f=l.round,p="",d={" ":"&nbsp;"},g=u.getDocumentSupport(),m=g.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,r,o,s,a,u,h=this.options.maxCacheLimit,l=this._container,c=this.style||{},f=this._advancedCache||(this._advancedCache={}),g=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p),y=t+"init"+(c.fontSize||p)+(c.fontFamily||p)+(c.fontWeight||p)+(c.fontStyle||p);return d[t]&&(t=d[t]),e?void 0===(u=f[y])&&(l.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),o=l.offsetWidth,l.innerHTML=t,s=l.offsetWidth,u=f[y]=(o-n*s)/(n+1),g.push(y),g.length>h&&delete f[g.shift()]):u=0,(a=f[m])?(r=a.split(","),{width:parseFloat(r[0],10),height:parseFloat(r[1],10)}):(l.innerHTML=t,i={height:l.offsetHeight,width:l.offsetWidth+u},f[m]=i.width+","+i.height,g.push(m),g.length>h&&delete f[g.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,i<1&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),u.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var r,o,s,a,l,f,p,d,m,y,v,w,b,x,_,N,M,C,k,S,I,E,T,A,L,B,W=!1,H=0,D=-1,R=-1,G=-1,j=0,O=0,P=[],F=0,q=this._showNoEllipses?"":"...",z=this._lineHeight,V=this._context,$=this._container,X=this._containerObj,Y=X.ellipsesWidth,K=X.dotWidth,U=[],Q=-1,Z=-1,J=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(w=this._getWidthFn(),n===z&&(n*=1.2),$){if(!g.isBrowserLess){if(W=u.xmlTagRegEx.test(t),W?($.innerHTML=t,et.oriTextWidth=p=$.offsetWidth,et.oriTextHeight=d=$.offsetHeight):(a=t.replace(u.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),_=this.getOriSize(a,!0),et.oriTextWidth=p=_.width,et.oriTextHeight=d=_.height),d<=n&&p<=e)return et.width=et.oriTextWidth=p,et.height=et.oriTextHeight=d,et;if(z>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),l=this._showNoEllipses?e:e-Y,!W){if(P=t.split(""),r=P.length,o="",s=[],v=P[0],this._cache[v]?k=this._cache[v].width:(k=w(v),
this._cache[v]={width:k}),l>k)s=t.substr(0,u.getNearestBreakIndex(t,l,this)).split(""),F=s.length;else{if(k>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;q&&(l=e-2*K,l>k?q="..":(l=e-K,l>k?q=".":(l=0,q="")))}if(j=w(s.join("")),O=this._lineHeight,i){for(;F<r;F+=1)if(v=s[F]=P[F],this._cache[v]?k=this._cache[v].width:(_&&(k=_.detailObj[v])||(k=w(v)),this._cache[v]={width:k}),j+=k,j>l&&(o||(o=s.slice(0,-1).join("")),j>e))return et.text=tt(o)+q,et.tooltext=et.oriText,et.width=w(et.text),et.height=this._lineHeight,et;return et.text=s.join(""),et.width=j,et.height=this._lineHeight,et}for(;F<r;F+=1)if(v=s[F]=P[F]," "!==v||V||(v="&nbsp;"),this._cache[v]?k=this._cache[v].width:(_&&(k=_.detailObj[v])||(k=w(v)),this._cache[v]={width:k}),j+=k,j>l&&(o||(o=s.slice(0,-1).join("")),j>e)){if(R=t.substr(0,s.length).lastIndexOf(" "),D=t.substr(0,s.length).lastIndexOf("-"),R>G?(j=w(s.slice(G+1,R).join("")),s.splice(R,1,"<br/>"),G=R,m=R+1):D>G?(D===s.length-1?(j=w(s.slice(G+1,R).join("")),s.splice(D,1,"<br/>-")):(j=w(s.slice(G+1,R).join("")),s.splice(D,1,"-<br/>")),G=D,m=D+1):(s.splice(s.length-1,1,"<br/>"+P[F]),J=s.length-2,j=w(s.slice(G+1,J+1).join("")),G=J,m=F),O+=this._lineHeight,O>n)return et.text=tt(o)+q,et.tooltext=et.oriText,et.width=e,et.height=O-this._lineHeight,et;H=c(H,j),o=null,y=u.getNearestBreakIndex(t.substr(m),l,this),j=w(t.substr(m,y||1)),s.length<m+y&&(s=s.concat(t.substr(s.length,m+y-s.length).split("")),F=s.length-1)}return H=c(H,j),et.text=s.join(""),et.width=H,et.height=O,et}for(f=t.replace(u.spanAdditionRegx,"$2"),t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),$.innerHTML=t,N=$[g.childRetriverFn](g.childRetriverString),M=0,C=N.length;M<C;M+=1)S=N[M],(g.noClassTesting||u.classNameReg.test(S.className))&&(I=S.innerHTML,""!==I&&(" "===I?Z=U.length:"-"===I&&(Q=U.length),U.push({spaceIdx:Z,dashIdx:Q,elem:S}),P.push(I)));if(F=0,r=U.length,k=U[0].elem.offsetWidth,k>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(k>l&&!this._showNoEllipses&&(l=e-2*K,l>k?q="..":(l=e-K,l>k?q=".":(l=0,q=""))),b=U[0].elem.offsetLeft,x=U[0].elem.offsetTop,i)for(;F<r;F+=1)S=U[F].elem,E=S.offsetLeft-b+S.offsetWidth,E>l&&(B||(B=F),$.offsetWidth>e&&(L=F,F=r));else for(;F<r;F+=1)S=U[F].elem,T=S.offsetHeight+(S.offsetTop-x),E=S.offsetLeft-b+S.offsetWidth,A=null,E>l?(B||(B=F),E>e&&(R=U[F].spaceIdx,D=U[F].dashIdx,R>G?(U[R].elem.innerHTML="<br/>",G=R):D>G?(D===F?U[D].elem.innerHTML="<br/>-":U[D].elem.innerHTML="-<br/>",G=D):S.parentNode.insertBefore(A=h.createElement("br"),S),S.offsetHeight+S.offsetTop>n?(A?A.parentNode.removeChild(A):G===D?U[D].elem.innerHTML="-":U[R].elem.innerHTML=" ",L=F,F=r):B=null)):T>n&&(L=F,F=r);if(L<r){for(et.isTruncated=!0,B=B?B:L,F=r-1;F>=B;F-=1)S=U[F].elem,S.parentNode.removeChild(S);for(;F>=0;F-=1)S=U[F].elem,u.classNameBrReg.test(S.className)?S.parentNode.removeChild(S):F=0}return et.text=$.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=q,et.tooltext=f),et.height=$.offsetHeight,et.width=$.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,r,o,s,a=0,u=0,h={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),o=0,s=n.length;o<s;o++)i=n[o],r=this._calCharDimWithCache(i,!0,n.length),u=c(u,r.height),a+=r.width,h[i]=r.width;return{width:f(a),height:u,detailObj:h}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e.default=i,t.exports=e.default}),Ln=e(An),Bn="px",Wn=300,Hn=window.d3,Dn={};l.prototype.init=function(t){var e,n=this;this.container=Hn.select(t),this.container.node().groupId=this.groupId,e={position:"absolute","z-index":999999,overflow:"wrap",display:"none"},n.on("mouseout",function(t){var e=Hn.event.toElement||Hn.event.relatedTarget;e&&e.groupId===t.groupId||n.hide()},"default"),s(this.container,e)},l.prototype.getContainer=function(){return this.container},l.prototype.setParentListContainer=function(t){this.parentListCon=t},l.prototype.getDimensions=function(){var t,e=this.container,n=e.node();return e.style("display","block"),t={width:n.offsetWidth,height:n.offsetHeight},e.style("display","none"),t},l.prototype.show=function(t){var e,n,i,r,o,a,h=this.hideFnIds,l={},c=this.parentListCon,f=0,p=this.container.datum(),d=p.measurement||t,g=p.position,m=window.innerWidth,y=function(){var t=n.offsetLeft+n.offsetWidth+o.offsetWidth>m,e=n.offsetLeft-o.offsetWidth<0;return e?1:t?2:0};for(this.visible=!0,i=h.length;f<i;f++)clearTimeout(h[f]);h.length=0,t=this.target=t||this.target,this.container.style("display","block"),c?(c.show(),n=c.getContainer().node(),l.top=n.offsetTop+t.offsetTop+Bn,o=this.container.node(),a=y(o,n),"right"===g?(l.left=(2===a?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Bn,l.right="auto"):(l.left=(2===a||0===a?n.offsetLeft-o.offsetWidth:n.offsetLeft+n.offsetWidth)+Bn,l.right="auto")):!u(t)&&t&&t.getBBox?(e=t.getBBox(),r=this.container.node().offsetWidth,l.top=e.y+e.height+3+Bn,"left"===g?(l.left=e.x+Bn,l.right="auto"):"right"===g&&(l.left=e.x+e.width-r+Bn,l.right="auto")):d&&(l={left:void 0===d.left?"auto":d.left+Bn,top:void 0===d.top?"auto":d.top+Bn,right:void 0===d.right?"auto":d.right+Bn,bottom:void 0===d.bottom?"auto":d.bottom+Bn,width:void 0===d.width?"auto":d.width+Bn,height:void 0===d.height?"auto":d.height+Bn}),s(this.container,l)},l.prototype.hide=function(t){var e=this,n=e.parentListCon,i=e.onhide,r=void 0===t?Wn:t;n&&n.hide(r),this.visible=!1,this.hideFnIds.push(setTimeout(function(){e.container.style("display","none"),i&&i()},r))},l.prototype.classed=function(t,e){this.container.classed(t,e)},l.prototype.on=function(t,e,n){"undefined"==typeof this.container.node()["on"+t]?this["on"+t]=e:this.container.on(t+"."+(n||"custom"),e)},c.prototype.setConfig=function(t){return o(t,this.config),this},c.prototype.setMeasurement=function(t){var e=this.getFirstContainer();return e?e.getContainer().datum().measurement=t:this.measurement=t,this},c.prototype.setPosition=function(t){return this.position=t,this},c.prototype.classed=function(t,e){return this.container.classed(t,e),this.subContainers.forEach(function(n){n.classed(t,e)}),this},c.prototype.namespace=function(t){var e,n=this.config,i=n.container,r=n.listItem,o=r.states;i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},c.prototype.add=function(t,e){var n,i,r,o,a,u,c=this,f=c.parentContainer,p=this.config,d=p.listItem||{},g=d.className,m=function(t){var e=c.config,n=e.listItem||{},i=n.states||{},r=i.hover,o=t.subContainer;t.parentContainer&&t.parentContainer.show(),t.interactivity!==!1&&t.listItem.classed(r,!0),o&&o.show(this)},y=function(t){var e=c.config,n=e.listItem||{},i=n.states||{},r=i.hover;t.interactivity!==!1&&t.listItem.classed(r,!1),t.subContainer&&t.subContainer.hide()},v=function(){return this.parentNode===f.node()},w=function(t){t.parentContainer&&t.parentContainer.hide(1),t.subContainer&&t.subContainer.hide(1)},b=function(t){t.container.init(this)},x=p.container&&p.container.className,_=c.containerData||(c.containerData=[]),N=0,M={left:8,right:8,top:3,bottom:3},C={margin:"2px 2px 2px 2px",display:"block"},k={height:"1px",margin:"1px",padding:"0px",display:"block"},S="&#9666;",I=h();return _[N]?n=_[N].container:_[N]={container:n=new l(this.groupId),groupId:this.groupId,measurement:this.measurement,position:this.position},r=f.selectAll("div").filter(v).data(_),r.enter().append("div").each(b),n.classed(x,!0),this.container=n,N++,t=c.listItems=c.listItems.concat(t),function t(e,n,r){var h,p,d,E,T,A,L;return A=n?n:c.container,d=A.getContainer(),h=e instanceof Array?e:[e],T=d.selectAll("div").data(h),T.exit().style("display","none"),L=T.enter().append("div").merge(T),L.each(function(e){var n,h,T,L;L=e.name,n=e.action,h=e.handler,T=e.className,u=e.padding||{},p=Hn.select(this).classed(g,!0),T&&p.classed(e.className,!0),e.listItem=p,r&&(e.parentListItem=r),e.parentContainer=A,s(p,e.divider?k:C),h&&"function"!=typeof h?(s(p,{"padding-right":(u.right||M.right)+"px","padding-bottom":(u.bottom||M.bottom)+"px","padding-top":(u.top||M.top)+"px"}),o=[{html:S,style:{"padding-left":M.left+Bn}},{html:L,style:{"padding-left":u.left-I.getOriSize("&#9666;").width-M.left+"px"}}],a=p.selectAll("span").data(o),a.enter().append("span").merge(a).each(function(t){s(Hn.select(this).html(t.html),t.style)}),_[N]?d=_[N].container:_[N]={container:d=new l(c.groupId),groupId:c.groupId,position:c.position},N++,i=f.selectAll("div").filter(v).data(_),i.enter().append("div").each(b),E=t(h,d,p),E.classed(x,!0),e.subContainer=E,E.setParentListContainer(A)):(p.html(L),e.divider!==!0&&s(p,{"padding-left":(u.left||M.left)+"px","padding-right":(u.right||M.right)+"px","padding-bottom":(u.bottom||M.bottom)+"px","padding-top":(u.top||M.top)+"px"})),p.on("mouseover.default",m),p.on("mouseout.default",y),p.on("click.default",w),n&&"function"==typeof h&&p.on(n+".custom",h)}),A}(t,e,null),c},c.prototype.show=function(t){0!==this.listItems.length&&this.container.show(t)},c.prototype.hide=function(){0!==this.listItems.length&&this.container.hide()},c.prototype.toggleVisibility=function(){0!==this.listItems.length&&(this.container.visible?this.hide():this.show())},c.prototype.getFirstContainer=function(){return this.container},c.prototype.flushItems=function(){this.listItems.length=0};var Rn="http://www.w3.org/1999/xhtml",Gn={svg:"http://www.w3.org/2000/svg",xhtml:Rn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Gn.hasOwnProperty(e)?{space:Gn[e],local:t}:t},On=function(t){var e=jn(t);return(e.local?d:p)(e)},Pn=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Fn=document.documentElement;if(!Fn.matches){var qn=Fn.webkitMatchesSelector||Fn.msMatchesSelector||Fn.mozMatchesSelector||Fn.oMatchesSelector;Pn=function(t){return function(){return qn.call(this,t)}}}}var zn=Pn,Vn={},$n=null;if("undefined"!=typeof document){var Xn=document.documentElement;"onmouseenter"in Xn||(Vn={mouseenter:"mouseover",mouseleave:"mouseout"})}var Yn=function(t,e,n){var i,r,o=y(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?w:v,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,h=0,l=a.length;h<l;++h)for(i=0,u=a[h];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value}},Kn=function(t){return null==t?b:function(){return this.querySelector(t)}},Un=function(t){"function"!=typeof t&&(t=Kn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],u=a.length,h=i[r]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),h[l]=s);return new ot(i,this._parents)},Qn=function(t){return null==t?x:function(){return this.querySelectorAll(t)}},Zn=function(t){"function"!=typeof t&&(t=Qn(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,h=0;h<u;++h)(s=a[h])&&(i.push(t.call(s,s.__data__,h,a)),r.push(s));return new ot(i,r)},Jn=function(t){"function"!=typeof t&&(t=zn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;h<a;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new ot(i,this._parents)},ti=function(t){return new Array(t.length)},ei=function(){return new ot(this._enter||this._groups.map(ti),this._parents)};_.prototype={constructor:_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ni=function(t){return function(){return t}},ii="$",ri=function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each(function(t){p[++h]=t}),p;var n=e?M:N,i=this._parents,r=this._groups;"function"!=typeof t&&(t=ni(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),h=0;h<o;++h){var l=i[h],c=r[h],f=c.length,p=t.call(l,l&&l.__data__,h,i),d=p.length,g=a[h]=new Array(d),m=s[h]=new Array(d),y=u[h]=new Array(f);n(l,c,g,m,y,p,e);for(var v,w,b=0,x=0;b<d;++b)if(v=g[b]){for(b>=x&&(x=b+1);!(w=m[x])&&++x<d;);v._next=w||null}}return s=new ot(s,i),s._enter=a,s._exit=u,s},oi=function(){return new ot(this._exit||this._groups.map(ti),this._parents)},si=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;p<c;++p)(u=h[p]||l[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new ot(s,this._parents)},ai=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},ui=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=C);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],u=a.length,h=r[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(h[l]=s);h.sort(e)}return new ot(r,this._parents).order()},hi=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},li=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},ci=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},fi=function(){var t=0;return this.each(function(){++t}),t},pi=function(){return!this.node()},di=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},gi=function(t,e){var n=jn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?S:k:"function"==typeof e?n.local?A:T:n.local?E:I)(n,e))},mi=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},yi=function(t,e,n){var i;return arguments.length>1?this.each((null==e?L:"function"==typeof e?W:B)(t,e,null==n?"":n)):mi(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},vi=function(t,e){return arguments.length>1?this.each((null==e?H:"function"==typeof e?R:D)(t,e)):this.node()[t]};O.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wi=function(t,e){var n=G(t+"");if(arguments.length<2){for(var i=j(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?V:e?q:z)(n,e))},bi=function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?Y:X)(t)):this.node().textContent},xi=function(t){return arguments.length?this.each(null==t?K:("function"==typeof t?Q:U)(t)):this.node().innerHTML},_i=function(){return this.each(Z)},Ni=function(){return this.each(J)},Mi=function(t){var e="function"==typeof t?t:On(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ci=function(t,e){var n="function"==typeof t?t:On(t),i=null==e?tt:"function"==typeof e?e:Kn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},ki=function(){return this.each(et)},Si=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ii=function(t,e){return this.each(("function"==typeof e?rt:it)(t,e))},Ei=[null];ot.prototype=st.prototype={constructor:ot,select:Un,selectAll:Zn,filter:Jn,data:ri,enter:ei,exit:oi,merge:si,order:ai,sort:ui,call:hi,nodes:li,node:ci,size:fi,empty:pi,each:di,attr:gi,style:yi,property:vi,classed:wi,text:bi,html:xi,raise:_i,lower:Ni,append:Mi,insert:Ci,remove:ki,datum:Si,on:Yn,dispatch:Ii};var Ti=function(t){return"string"==typeof t?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],Ei)},Ai={value:function(){}};ut.prototype=at.prototype={constructor:ut,on:function(t,e){var n,i=this._,r=ht(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=ct(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ct(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=lt(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ut(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Li,Bi,Wi=0,Hi=0,Di=0,Ri=1e3,Gi=0,ji=0,Oi=0,Pi="object"==typeof performance&&performance.now?performance:Date,Fi="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};dt.prototype=gt.prototype={constructor:dt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ft():+n)+(null==e?0:+e),this._next||Bi===this||(Bi?Bi._next=this:Li=this,Bi=this),this._call=t,this._time=n,bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,bt())}};var qi=function(t,e,n){var i=new dt;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},zi=at("start","end","interrupt"),Vi=[],$i=0,Xi=1,Yi=2,Ki=3,Ui=4,Qi=5,Zi=6,Ji=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Mt(t,n,{name:e,index:i,group:r,on:zi,tween:Vi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:$i})},tr=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state>Yi&&n.state<Qi,n.state=Zi,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},er=function(t){return this.each(function(){tr(this,t)})},nr=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},ir=.7,rr=1/ir,or="\\s*([+-]?\\d+)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ur=/^#([0-9a-f]{3})$/,hr=/^#([0-9a-f]{6})$/,lr=new RegExp("^rgb\\("+[or,or,or]+"\\)$"),cr=new RegExp("^rgb\\("+[ar,ar,ar]+"\\)$"),fr=new RegExp("^rgba\\("+[or,or,or,sr]+"\\)$"),pr=new RegExp("^rgba\\("+[ar,ar,ar,sr]+"\\)$"),dr=new RegExp("^hsl\\("+[sr,ar,ar]+"\\)$"),gr=new RegExp("^hsla\\("+[sr,ar,ar,sr]+"\\)$"),mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nr(kt,St,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),nr(Lt,At,Ct(kt,{brighter:function(t){return t=null==t?rr:Math.pow(rr,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ir:Math.pow(ir,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),nr(Dt,Ht,Ct(kt,{brighter:function(t){return t=null==t?rr:Math.pow(rr,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ir:Math.pow(ir,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Lt(Rt(t>=240?t-240:t+120,r,i),Rt(t,r,i),Rt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var yr=Math.PI/180,vr=180/Math.PI,wr=18,br=.95047,xr=1,_r=1.08883,Nr=4/29,Mr=6/29,Cr=3*Mr*Mr,kr=Mr*Mr*Mr;nr(Ot,jt,Ct(kt,{brighter:function(t){return new Ot(this.l+wr*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ot(this.l-wr*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=xr*Ft(t),e=br*Ft(e),n=_r*Ft(n),new Lt(qt(3.2404542*e-1.5371385*t-.4985314*n),qt(-.969266*e+1.8760108*t+.041556*n),qt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),nr(Xt,$t,Ct(kt,{brighter:function(t){return new Xt(this.h,this.c,this.l+wr*(null==t?1:t),this.opacity)},darker:function(t){return new Xt(this.h,this.c,this.l-wr*(null==t?1:t),this.opacity)},rgb:function(){return Gt(this).rgb()}}));var Sr=-.14861,Ir=1.78277,Er=-.29227,Tr=-.90649,Ar=1.97294,Lr=Ar*Tr,Br=Ar*Ir,Wr=Ir*Er-Tr*Sr;nr(Ut,Kt,Ct(kt,{brighter:function(t){return t=null==t?rr:Math.pow(rr,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ir:Math.pow(ir,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Lt(255*(e+n*(Sr*i+Ir*r)),255*(e+n*(Er*i+Tr*r)),255*(e+n*(Ar*i)),this.opacity)}}));var Hr,Dr,Rr,Gr,jr=function(t){return function(){return t}},Or=function t(e){function n(t,e){var n=i((t=At(t)).r,(e=At(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=i(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=te(e);return n.gamma=t,n}(1),Pr=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),s=new Array(i);for(n=0;n<r;++n)o[n]=Yr(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},Fr=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},qr=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},zr=function(t,e){var n,i={},r={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=Yr(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(Vr.source,"g"),Xr=function(t,e){var n,i,r,o=Vr.lastIndex=$r.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=Vr.exec(t))&&(i=$r.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:qr(n,i)})),o=$r.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?ie(u[0].x):ne(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})},Yr=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?jr(e):("number"===i?qr:"string"===i?(n=St(e))?(e=n,Or):Xr:e instanceof St?Or:e instanceof Date?Fr:Array.isArray(e)?Pr:isNaN(e)?zr:qr)(t,e)},Kr=180/Math.PI,Ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Qr=function(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Kr,skewX:Math.atan(u)*Kr,scaleX:s,scaleY:a}},Zr=se(re,"px, ","px)","deg)"),Jr=se(oe,", ",")",")");Math.SQRT2;ae(Jt);var to=(ae(ee),function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Nt(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?ue:he)(n,t,e))}),eo=function(t,e){var n;return("number"==typeof e?qr:e instanceof St?Or:(n=St(e))?(e=n,Or):Xr)(t,e)},no=function(t,e){var n=jn(t),i="transform"===n?Jr:eo;return this.attrTween(t,"function"==typeof e?(n.local?me:ge)(n,i,le(this,"attr."+t,e)):null==e?(n.local?fe:ce)(n):(n.local?de:pe)(n,i,e))},io=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=jn(t);return this.tween(n,(i.local?ye:ve)(i,e))},ro=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?we:be)(e,t)):Nt(this.node(),e).delay},oo=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?xe:_e)(e,t)):Nt(this.node(),e).duration},so=function(t){var e=this._id;return arguments.length?this.each(Ne(e,t)):Nt(this.node(),e).ease},ao=function(t){"function"!=typeof t&&(t=zn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],h=0;h<a;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&u.push(o);return new We(i,this._parents,this._name,this._id)},uo=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,h=e[a],l=n[a],c=h.length,f=s[a]=new Array(c),p=0;p<c;++p)(u=h[p]||l[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new We(s,this._parents,this._name,this._id)},ho=function(t,e){var n=this._id;return arguments.length<2?Nt(this.node(),n).on.on(t):this.each(Ce(n,t,e))},lo=function(){return this.on("end.remove",ke(this._id))},co=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kn(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,u,h=i[s],l=h.length,c=o[s]=new Array(l),f=0;f<l;++f)(a=h[f])&&(u=t.call(a,a.__data__,f,h))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u,Ji(c[f],e,n,f,c,Nt(a,n)));return new We(o,this._parents,e,n)},fo=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Qn(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var u,h=i[a],l=h.length,c=0;c<l;++c)if(u=h[c]){for(var f,p=t.call(u,u.__data__,c,h),d=Nt(u,n),g=0,m=p.length;g<m;++g)(f=p[g])&&Ji(f,e,n,g,p,d);o.push(p),s.push(u)}return new We(o,s,e,n)},po=st.prototype.constructor,go=function(){return new po(this._groups,this._parents)},mo=function(t,e,n){var i="transform"==(t+="")?Zr:eo;return null==e?this.styleTween(t,Se(t,i)).on("end.style."+t,Ie(t)):this.styleTween(t,"function"==typeof e?Te(t,i,le(this,"style."+t,e)):Ee(t,i,e),n)},yo=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Ae(t,e,null==n?"":n))},vo=function(t){return this.tween("text","function"==typeof t?Be(le(this,"text",t)):Le(null==t?"":t+""))},wo=function(){for(var t=this._name,e=this._id,n=De(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,h=0;h<u;++h)if(s=a[h]){var l=Nt(s,e);Ji(s,t,n,h,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new We(i,this._parents,t,n)},bo=0,xo=st.prototype;We.prototype=He.prototype={constructor:We,select:co,selectAll:fo,filter:ao,merge:uo,selection:go,transition:wo,call:xo.call,nodes:xo.nodes,node:xo.node,size:xo.size,empty:xo.empty,each:xo.each,on:ho,attr:no,attrTween:io,style:mo,styleTween:yo,text:vo,remove:lo,tween:to,delay:ro,duration:oo,ease:so};var _o=3,No=(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(_o),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(_o),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(_o),1.70158),Mo=(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(No),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(No),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(No),2*Math.PI),Co=1,ko=.3,So=(function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mo);return i.amplitude=function(e){return t(e,n*Mo)},i.period=function(n){return t(e,n)},i}(Co,ko),function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mo);return i.amplitude=function(e){return t(e,n*Mo)},i.period=function(n){return t(e,n)},i}(Co,ko),function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mo);return i.amplitude=function(e){return t(e,n*Mo)},i.period=function(n){return t(e,n)},i}(Co,ko),{time:null,delay:0,duration:250,ease:Re}),Io=function(t){var e,n;t instanceof We?(e=t._id,t=t._name):(e=De(),(n=So).time=ft(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,h=0;h<u;++h)(s=a[h])&&Ji(s,t,e,h,a,n||Ge(s,e));return new We(i,this._parents,t,e)};st.prototype.interrupt=er,
st.prototype.transition=Io;var Eo=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},To=.7,Ao=1/To,Lo="\\s*([+-]?\\d+)\\s*",Bo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ho=/^#([0-9a-f]{3})$/,Do=/^#([0-9a-f]{6})$/,Ro=new RegExp("^rgb\\("+[Lo,Lo,Lo]+"\\)$"),Go=new RegExp("^rgb\\("+[Wo,Wo,Wo]+"\\)$"),jo=new RegExp("^rgba\\("+[Lo,Lo,Lo,Bo]+"\\)$"),Oo=new RegExp("^rgba\\("+[Wo,Wo,Wo,Bo]+"\\)$"),Po=new RegExp("^hsl\\("+[Bo,Wo,Wo]+"\\)$"),Fo=new RegExp("^hsla\\("+[Bo,Wo,Wo,Bo]+"\\)$"),qo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Eo(Oe,Pe,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Eo($e,Ve,je(Oe,{brighter:function(t){return t=null==t?Ao:Math.pow(Ao,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?To:Math.pow(To,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Eo(Ue,Ke,je(Oe,{brighter:function(t){return t=null==t?Ao:Math.pow(Ao,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?To:Math.pow(To,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new $e(Qe(t>=240?t-240:t+120,r,i),Qe(t,r,i),Qe(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var zo=Math.PI/180,Vo=180/Math.PI,$o=18,Xo=.95047,Yo=1,Ko=1.08883,Uo=4/29,Qo=6/29,Zo=3*Qo*Qo,Jo=Qo*Qo*Qo;Eo(tn,Je,je(Oe,{brighter:function(t){return new tn(this.l+$o*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new tn(this.l-$o*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Yo*nn(t),e=Xo*nn(e),n=Ko*nn(n),new $e(rn(3.2404542*e-1.5371385*t-.4985314*n),rn(-.969266*e+1.8760108*t+.041556*n),rn(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Eo(un,an,je(Oe,{brighter:function(t){return new un(this.h,this.c,this.l+$o*(null==t?1:t),this.opacity)},darker:function(t){return new un(this.h,this.c,this.l-$o*(null==t?1:t),this.opacity)},rgb:function(){return Ze(this).rgb()}}));var ts=-.14861,es=1.78277,ns=-.29227,is=-.90649,rs=1.97294,os=rs*is,ss=rs*es,as=es*ns-is*ts;Eo(cn,ln,je(Oe,{brighter:function(t){return t=null==t?Ao:Math.pow(Ao,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?To:Math.pow(To,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*zo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new $e(255*(e+n*(ts*i+es*r)),255*(e+n*(ns*i+is*r)),255*(e+n*(rs*i)),this.opacity)}}));var us=function(t){return function(){return t}},hs=(function t(e){function n(t,e){var n=i((t=Ve(t)).r,(e=Ve(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=mn(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=gn(e);return n.gamma=t,n}(1),function(t,e){return t=+t,e-=t,function(n){return t+e*n}}),ls=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cs=new RegExp(ls.source,"g");180/Math.PI,Math.SQRT2;wn(dn);wn(mn);document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var fs="px",ps="",ds={button:["container","text","symbol"],inputButton:["container","text","input","icon"],selectButton:["container","text","arrow"]},gs=function(t,e){var n,i=ds[e],r={},o=i.length;for(n=0;n<o;n++)r[i[n]]=t+"-"+i[n];return r},ms=function(){return{container:{className:"d3-dropdown"},listItem:{className:"d3-dropdownlistitem",states:{hover:"d3-dropdownlistitem-state-hover",selected:"d3-dropdownlistitem-state-selected"}}}},ys={};xn.prototype.namespace=function(t){var e,n=this.config,i=n.states;n.namespace=t,n.className=t+"-"+n.className,n.specificClassName=this.config.className;for(e in i)i[e]=t+"-"+i[e]},xn.prototype.appendSelector=function(t){var e,n=this.config.states;this.config.selector=t,this.config.specificClassName=this.config.className+"-"+t;for(e in n)n[e]=n[e]+"-"+t},xn.prototype.dispose=function(){this.buttonGroup&&this.buttonGroup.remove()},xn.prototype.setConfig=function(t){return o(t,this.config),this},xn.prototype.getConfig=function(t){return this.config[t]},xn.prototype.getLogicalSpace=function(){var t=this.config,e=t.specificClassName,n=this.getIndividualClassNames(e),o=bn(),s=n.text,a=this.symbol,u=t.padding,h=u.left,l=u.right,c=u.top,f={width:0,height:0},p=i(Ti("svg"),s),d=p.fontSize;return this.textFontSize=parseInt(d),"string"==typeof a&&(f=r(a,s,Ti("svg"),o)),t.width=void 0===t.width?Math.max(f.width+h+l,t.width||0):t.width,t.height=void 0===t.height?Math.max(f.height+c+l,t.height||0):t.height,this.logicalSpace={width:t.width,height:t.height}},xn.prototype.getIndividualClassNames=function(t){return gs(t,"button")},xn.prototype.getClassName=function(){return this.config.specificClassName},xn.prototype.setParentGroup=function(t){this.parentGroup=t},xn.prototype.draw=function(t,e,n){var i,r,o,s,u,h=this.config,l=h.className,c=h.specificClassName,f=this.getIndividualClassNames(c),p=f.container,d=f.text,g=f.symbol,m=this.buttonGroup,y=this.elements,v=y.container,w=y.text,b=y.symbol,x=this.symbol,_=n||this.parentGroup,N=h.animation,M=this.drawn?N.duration:0,C=h.padding,k=C.left,S=C.right,I=C.top,E=C.bottom,T=h.radius,A=He().duration(M);return this.parentGroup=_,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,r=i.width,o=i.height,m||(m=this.buttonGroup=n.append("g")),this.buttonGroup.classed(l+" "+c,!0),v||(v=y.container=m.append("rect")),v.transition(A).attr("x",t).attr("y",e).attr("width",r).attr("height",o),v.classed(p,!0).attr("rx",T).attr("ry",T),"string"==typeof x?(w||(w=y.text=m.append("text")),u={x:t+k,y:e+I,width:r-S-k,height:o-E-I},w.text(x).transition(A).attr("x",u.x+u.width/2).attr("y",u.y+u.height/2),w.attr("dy","0.35em").attr("text-anchor","middle").attr("pointer-events","none").classed(d,!0)):"function"==typeof x&&(s=x(t+k,e+I,r-(k+S),o-(I+E),C),b||(b=m.append(s.type)),b.attr("pointer-events","none").classed(g,!0),a(b,s.attrs)),this.buttonGroup=m,this.getBBox=function(){return{x:t,y:e,width:r,height:o}},this.postDraw(),this.drawn=!0,this},xn.prototype.bindEventListeners=function(){var t,e=this.eventMap;for(t in e)this.on(t,e[t]);return this},xn.prototype.postDraw=function(){this.addHoverEvents(),this.bindEventListeners()},xn.prototype.addHoverEvents=function(){var t=this;t.on("mouseover",function(){t.setState("hover")},"default"),t.on("mouseout",function(){t.removeState("hover")},"default"),this.attachTooltip()},xn.prototype.attachTooltip=function(){var t=this.tooltip,e=this.buttonGroup,n=this.config.toolText;void 0!==n&&(t||(t=this.tooltip=d3.tooltip().namespace(this.config.namespace).attachTo(d3.select(this.parentGroup.node().ownerSVGElement)).offset({x:15,y:15})),e.data([[null,n]]).call(t))},xn.prototype.classed=function(t,e){var n=this.elements,i=gs(t,"button");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),this},xn.prototype.on=function(t,e,n){return this.buttonGroup.on(t+"."+(n||"custom"),e),this},xn.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.visible=!1,this},xn.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.visible=!0,this},xn.prototype.disable=function(t){this.elements.container&&this.elements.container.attr("pointer-events",t?"none":"")},xn.prototype.getBoundElement=function(){return this.elements.container.node()},xn.prototype.setState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!0),this.classed(i,!0)},xn.prototype.removeState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!1),this.classed(i,!1)},xn.prototype.attachEventHandlers=function(t){this.eventMap=t},_n.prototype=Object.create(xn.prototype),_n.prototype.draw=function(t,e,n){var i,r,o,u,h,l,c,f,p,d,g,m=this,y=this.config,v=y.className,w=y.specificClassName,b=this.getIndividualClassNames(w),x=b.container,_=b.text,N=b.input,M=b.icon,C=this.elements,k=C.container,S=C.text,I=C.inputBox,E=y.padding,T=E.left,A=E.right,L=E.top,B=E.bottom,W=n||this.parentGroup,H=this.buttonGroup,D=this.textFontSize/1.3,R=this.textFontSize/2.6,G=C.arrow,j=C.inputFieldTracker,O=C.iconTracker,P=y.hasInputField,F=y.placeholder,q=y.icon;return!H&&(H=this.buttonGroup=n.append("g")),this.parentGroup=W,c=W.node().ownerSVGElement.parentNode,this.logicalSpace||(i=this.getLogicalSpace()),H.classed(v+" "+w,!0),i=this.logicalSpace,r=i.width,o=i.height,k||(k=C.container=H.append("rect")),a(k,{x:t,y:e,width:r,height:o,class:x,rx:y.radius,ry:y.radius}),!S&&(S=C.text=H.append("text")),S.text(this.symbol||"W"),u={x:t+T,y:e+L,width:r-A-T,height:o-B-L},f={x:u.x,y:u.y+u.height/2,dy:"0.35em","pointer-events":"none"},a(S,f),S.classed(_,!0),S.text(this.symbol||ps),h=S.node().getBBox(),P&&(!I&&(I=C.inputBox=Ti(c).append("input")),l={position:"absolute",top:h.y+fs,left:h.x+fs,width:r-(T+A)-(y.icon?D:0)+3+fs,height:(h.height||o)+fs,"-webkit-apperance":"none",outline:"none",margin:"0px",border:"0px",padding:"0px",display:"none"},I.attr("placeholder",F),I.classed(N,!0),s(I,l),I.attr("value",this.symbol)),j||(j=C.inputFieldTracker=H.append("rect")),a(j,{x:t,y:e,width:r-(y.icon?A+D:0),height:o}),s(j,{opacity:0,cursor:P?"text":"pointer"}),this.buttonGroup=H,q&&(p=t+r-A-D+4,d=e+o/2-R/2,g=["M",p,d,"L",p+D,d,"L",p+D/2,d+R,"Z"],!G&&(G=C.arrow=H.append("path")),G.attr("d",g.toString().replace(/,/g," ")).classed(M,!0).attr("pointer-events","none"),O||(O=C.iconTracker=H.append("rect")),a(O,{x:t+r-D-A,y:e,width:D+A,height:o}),s(O,{opacity:0,cursor:"pointer"})),m.config.hasInputField!==!1&&m.on("click",m.edit.bind(m),"default"),m.config.hasInputField!==!1&&m.on("blur",m.blur.bind(m),"default"),this.postDraw(),this.getBBox=function(){return{x:t,y:e,width:r,height:o}},m},_n.prototype.classed=function(t,e){var n=this.elements,i=gs(t,"inputButton");return this.buttonGroup.classed(t,e),n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),n.inputBox&&n.inputBox.classed(i.input,e),this},_n.prototype.blur=function(t){var e,n=this.elements,r=n.inputBox,o=bn(),s=n.text,a=r&&r.node(),u=a?a.value:t,h=this.config,l=h.padding,c=h.width-(l.left+l.right),f=i(this.parentGroup,this.getIndividualClassNames(this.getClassName()).text);return r&&r.style("display","none"),o.setStyle(f),e=o.getSmartText(u,c,h.height),s&&s.style("display","block").text(e.text),this},_n.prototype.edit=function(){var t=this.elements,e=t.inputBox,n=e&&e.node(),i=n.value.length;return e&&(e.style("display","block"),n.setSelectionRange(i,i),n.focus(),t.text.style("display","none")),this},_n.prototype.getIndividualClassNames=function(t){return gs(t,"inputButton")},_n.prototype.text=function(t){var e=this.elements.inputBox,n=t;return t?(e&&(e.node().value=t),this.blur(t)):n=e?e.node().value:this.elements.text.text(),n},_n.prototype.on=function(t,e,n){var i=this.elements.inputBox,r=t+"."+(n||"custom");switch(t){case"blur":case"change":case"keypress":i&&i.on(r,e);break;case"onIconClick":this.elements.iconTracker&&this.elements.iconTracker.on("click",e);break;default:this.elements.inputFieldTracker&&this.elements.inputFieldTracker.on(r,e)}return this},_n.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.elements.inputBox.attr("visibility","hidden"),this},_n.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.elements.inputBox.attr("visibility","visible"),this},Cn.prototype=Object.create(xn.prototype),Cn.prototype.getLogicalSpace=function(){var t,e,n,i,o=this.config,s=o.width,a=o.height,u=this.options||[],h=bn(),l=this.getIndividualClassNames(o.specificClassName),c=l.text,f=this.parentGroup,p=o.padding,d=p.left,g=p.right,m=p.top,y=p.bottom,v=0,w=0,b=u.length;if(s&&a)return this.logicalSpace={width:s,height:a};for(i=0;i<b;i++)t=u[i],e=t.name,n=r(e,c,f,h),v=Math.max(n.width,v),w=Math.max(n.height,w);return{width:v+d+g,height:w+m+y}},Cn.prototype.draw=function(t,e,n){var i,r,o,s,a,u,h,l=this.buttonGroup,c=this.elements,f=c.container,p=c.text,d=c.arrow,g=8,m=4,y=this.config,v=y.className,w=y.specificClassName,b=this.getIndividualClassNames(w),x=b.container,_=b.text,N=b.arrow,M=this.config.padding,C=M.left,k=M.right,S=M.top,I=M.bottom,E=this.options||[],T=n||this.parentGroup,A=this.logicalSpace,L=E[0]&&E[0].name;return this.parentGroup=T,this.logicalSpace||(A=this.getLogicalSpace()),u=A.width,h=A.height,!l&&(l=this.buttonGroup=n.append("g")),l.classed(v+" "+w,!0),!f&&(f=c.container=l.append("rect")),f.attr("x",t).attr("y",e).attr("width",u).attr("height",h).classed(x,!0).attr("rx",y.radius).attr("ry",y.radius),!p&&(p=c.text=l.append("text")),p.text("W"),i={x:t+C,y:e+S,width:u-(k+C)-g,height:h-(I+S)},p.attr("x",i.x).attr("y",i.y+i.height/2).attr("dy","0.35em").attr("pointer-events","none").classed(_,!0),a=p.node().getBBox(),p.text(L),o=t+u-k-g,s=a.y+a.height/2-m/2,r=["M",o,s,"L",o+g,s,"L",o+g/2,s+m,"Z"],!d&&(d=c.arrow=l.append("path")),d.attr("d",r.toString().replace(/,/g," ")).classed(N,!0).attr("pointer-events","none"),this.buttonGroup=l,this.postDraw(),this},Cn.prototype.namespace=function(t){var e,n=this.config.dropDownMenu,i=n.container,r=n.listItem,o=r.states;xn.prototype.namespace.call(this,t),i.className=t+"-"+i.className,r.className=t+"-"+r.className;for(e in o)o[e]=t+"-"+o[e]},Cn.prototype.appendSelector=function(t){var e=this.config.dropDownMenu,n=e.container,i=e.listItem;xn.prototype.appendSelector.call(this,t),n.className=n.className+"-"+t,i.className=i.className+"-"+t},Cn.prototype.text=function(t){return this.buttonGroup.select("text").text(t)},Cn.prototype.value=function(t){var e,n=this.dropDownMenu,i=this,r=n.container,o=i.selectedItem;return void 0===t&&o?o.datum().value:(e=r.getContainer(),void e.selectAll("div").each(function(e){var n;e.value===t&&(n=Ti(this),i.selectedItem&&i.selectItem(i.selectedItem,!1),i.selectItem(n,!0),i.text(n.datum().name),i.selectedItem=n)}))},Cn.prototype.createMenu=function(t){var e=this,n=this.dropDownMenu,i=this.elements.container.node(),r=this.config.dropDownMenu||{},o=r.container||{},s=r.listItem||{},a=o.className||{},u=s.className||{},h=s.states,l=i.getBBox();return n||(n=this.dropDownMenu=new f(Ti(t))),n.setConfig({listItem:{className:u,states:h},container:{className:a}}),n.setMeasurement({top:l.y+l.height,left:l.x,width:l.width}),i.groupId=n.groupId,this.on("mouseout",function(){0===n.listItems.length&&e.onBlur&&e.onBlur(),n.hide()},"default"),this.on("click",function(){n.toggleVisibility()},"default"),this.add(this.options),this},Cn.prototype.postDraw=function(){xn.prototype.postDraw.call(this);var t=this,e=t.parentGroup,n=e.node().ownerSVGElement.parentNode;this.on("click",function(){t.setState("selected")},"selected"),this.on("blur",function(){t.removeState("selected")}),this.createMenu(n)},Cn.prototype.add=function(t){var e,n,i,r=this.dropDownMenu,o=this,s=this.elements.container.node().getBBox(),a=this.parentGroup.node().ownerSVGElement.getBoundingClientRect(),u=a.top+a.height;0!==t.length&&r.add(t),i=r.getFirstContainer(),i&&(i.on("hide",this.onBlur),e=i.getContainer(),n=i.getDimensions(),s.y+s.height+n.height>u?r.setMeasurement({top:s.y-n.height,left:s.x,width:s.width}):r.setMeasurement({top:s.y+s.height,left:s.x,width:s.width}),e.selectAll("div").on("click.selected",this.onSelect()).each(function(t,e){0===e&&(o.selectedItem&&o.selectItem(o.selectedItem,!1),o.selectedItem=o.selectItem(Ti(this),!0))}))},Cn.prototype.setPlaceHolderValue=function(t){var e=this.elements,n=e.text;n&&n.text(t),this.selectItem(this.selectedItem,!1),this.selectedItem=void 0},Cn.prototype.updateList=function(t){var e=this.dropDownMenu;e.flushItems(),this.add(t),this.text(t[0]&&t[0].name||ps)},Cn.prototype.selectItem=function(t,e){var n=this.config.dropDownMenu||{},i=n.listItem||{},r=i.states||{};return t.classed(r.selected,e)},Cn.prototype.onSelect=function(){var t=this;return function(e){var n=Ti(this),i=t.selectedItem,r=t.onChange;i&&t.selectItem(i,!1),t.selectedItem=t.selectItem(n,!0),t.text(e.name),t.selectedItem=n,r&&r()}},Cn.prototype.on=function(t,e,n){switch(t){case"change":this.onChange=e;break;case"blur":this.onBlur=e;break;default:this.buttonGroup.on(t+"."+(n||"custom"),e)}return this},Cn.prototype.getIndividualClassNames=function(t){return gs(t,"selectButton")},kn.prototype=Object.create(xn.prototype),kn.prototype.add=function(t){var e=this.dropDownMenu;e.add(t)},kn.prototype.postDraw=function(){xn.prototype.postDraw.call(this);var t=this,e=t.getBBox(),n={};this.on("mouseover",function(){var i,r=t.dropDownMenu.getFirstContainer(),o=r.getDimensions();i=o.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n)}),this.on("mouseout",function(){t.dropDownMenu.hide()})},kn.prototype.showListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"block"})},kn.prototype.hideListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"none"})},t.button=Nn,t.selectButton=In,t.inputButton=Mn,t.buttonWithContextMenu=Sn,t.dropDownMenu=f,Object.defineProperty(t,"__esModule",{value:!0})});