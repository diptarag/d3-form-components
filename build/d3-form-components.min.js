(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(this,function(t){"use strict";function e(t){return t&&t.__esModule?t.default:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(t,e){var n,i,o,r="W",s={"fill-opacity":0},a="string"==typeof e?e:void 0;return n=t.append("text").text(r),a&&n.attr("class",a),n.style(s),i=window.getComputedStyle(n.node()),o={fontSize:i.fontSize,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontStyle:i.fontStyle},n.remove(),o}function o(t,e,n,o){var r,s=i(n,e);return o.setStyle(s),r=o.getOriSize(t),{width:r.width,height:r.height}}function r(t,e,n){var i,o;for(i in t)if(o=t[i],void 0!==o&&null!==o)if(n){if(e[i])continue;e[i]=o}else"object"==typeof o?(void 0===e[i]&&(e[i]={}),r(o,e[i],n)):e[i]=o}function s(t,e){var n;for(n in e)t.style(n,e[n])}function a(t,e){var n;for(n in e)t.attr(n,e[n])}function h(t){return!(!t||!t.nodeName||"DIV"!==t.nodeName.toUpperCase())}function l(t){this.groupId=t,this.listItems=[],this.hideFnIds=[]}function u(t){var e=t.append("div");this.groupId="dropDownMenu-"+(new Date).getTime(),this.parentContainer=e,this.listItems=[],this.config={}}function c(t){return new u(t)}function p(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ct&&e.documentElement.namespaceURI===Ct?e.createElement(t):e.createElementNS(n,t)}}function f(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function d(t,e,n){return t=g(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function g(t,e,n){return function(i){var o=Lt;Lt=i;try{t.call(this,this.__data__,e,n)}finally{Lt=o}}}function m(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function y(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function v(t,e,n){var i=Wt.hasOwnProperty(t.type)?d:g;return function(o,r,s){var a,h=this.__on,l=i(e,r,s);if(h)for(var u=0,c=h.length;u<c;++u)if((a=h[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},h?h.push(a):this.__on=[a]}}function w(){}function x(){return[]}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function _(t,e,n,i,o,r){for(var s,a=0,h=e.length,l=r.length;a<l;++a)(s=e[a])?(s.__data__=r[a],i[a]=s):n[a]=new b(t,r[a]);for(;a<h;++a)(s=e[a])&&(o[a]=s)}function C(t,e,n,i,o,r,s){var a,h,l,u={},c=e.length,p=r.length,f=new Array(c);for(a=0;a<c;++a)(h=e[a])&&(f[a]=l=Pt+s.call(h,h.__data__,a,e),l in u?o[a]=h:u[l]=h);for(a=0;a<p;++a)l=Pt+s.call(t,r[a],a,r),(h=u[l])?(i[a]=h,h.__data__=r[a],u[l]=null):n[a]=new b(t,r[a]);for(a=0;a<c;++a)(h=e[a])&&u[f[a]]===h&&(o[a]=h)}function S(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function N(t){return function(){this.removeAttribute(t)}}function M(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T(t,e){return function(){this.setAttribute(t,e)}}function I(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function B(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function A(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function W(t){return function(){this.style.removeProperty(t)}}function L(t,e,n){return function(){this.style.setProperty(t,e,n)}}function H(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function E(t){return function(){delete this[t]}}function D(t,e){return function(){this[t]=e}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function G(t){return t.trim().split(/^|\s+/)}function j(t){return t.classList||new O(t)}function O(t){this._node=t,this._names=G(t.getAttribute("class")||"")}function k(t,e){for(var n=j(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function F(t,e){for(var n=j(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function z(t){return function(){k(this,t)}}function P(t){return function(){F(this,t)}}function V(t,e){return function(){(e.apply(this,arguments)?k:F)(this,t)}}function q(){this.textContent=""}function K(t){return function(){this.textContent=t}}function U(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function $(){this.innerHTML=""}function X(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function et(t,e,n){var i=ne(t),o=i.CustomEvent;o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function nt(t,e){return function(){return et(this,t,e)}}function it(t,e){return function(){return et(this,t,e.apply(this,arguments))}}function ot(t,e){this._groups=t,this._parents=e}function rt(){return new ot([[document.documentElement]],ge)}function st(t){this.symbol=t,this.config={className:"fc-btn-default",states:{hover:"fc-btn-default-state-hover",selected:"fc-btn-default-state-selected",disabled:"fc-btn-default-state-disabled"},padding:{top:4,right:4,bottom:4,left:4},radius:1,margin:{top:0,right:5,left:5,bottom:0}},this.elements={}}function at(){st.apply(this,arguments),this.setConfig({className:"fc-inputbtn-default",states:{hover:"fc-inputbtn-state-hover",selected:"fc-inputbtn-state-selected",disabled:"fc-inputbtn-state-disabled"},padding:{left:10}})}function ht(t){return new st(t)}function lt(t){return new at(t)}function ut(t){this.options=t,st.apply(this,arguments),this.setConfig({className:"fc-selectbtn-default",states:{hover:"fc-selectbtn-state-hover",selected:"fc-selectbtn-state-selected"},dropDownMenu:_e()})}function ct(t,e){st.apply(this,arguments),this.dropDownMenu=new c(me(e)),this.setConfig({dropDownMenu:_e()}),this.dropDownMenu.setConfig(this.config.dropDownMenu)}function pt(t){var e,n,i,o,r,s,a=[];for(s=0;s<t.length;s++){n=t[s];for(i in n)o=i,r=n[o];e={name:o,id:r.id},""===o&&(e.className="fc-dropdownlistitem-divider",e.interactivity=!1,e.divider=!0),/&nbsp;/.test(e.name)&&(e.name=e.name.replace(/&nbsp;/g,"").trim(),e.className="fc-dropdownlistitem-subcategory",e.padding={left:20}),/Growth/.test(o)&&(e.interactivity=!1,e.className="fc-dropdownlistitem-category"),"object"==typeof r.handler&&(e.handler=pt(r.handler)),a.push(e)}return a}function ft(t,e){return new ct(t,e)}function dt(t){return new ut(t)}var gt=n(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){var e=t.document,i=t.navigator,o=i.userAgent,r="DIV",s=Math.ceil,a=Math.floor,h=0,l="fusioncharts-smartlabel-",u=l+"container",c=l+"tag",p=l+"br";return n={win:t,containerClass:u,classNameWithTag:c,classNameWithTagBR:p,maxDefaultCacheLimit:500,classNameReg:new RegExp("\b"+c+"\b"),classNameBrReg:new RegExp("\b"+p+"\b"),spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+c+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+c+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),ltgtRegex:/&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,i,r;return e.getElementsByClassName?(n="getElementsByClassName",i=c,r=!0):(n="getElementsByTagName",i="span",r=!1),{isIE:/msie/i.test(o)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(o),isWebKit:new RegExp(" AppleWebKit/").test(o),childRetriverFn:n,childRetriverString:i,noClassTesting:r}},createContainer:function(t){var n,i;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(i=e.createElement(r)),i.className=u,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),i}else if(n=e.getElementsByTagName("body")[0],n&&n.appendChild)return i=e.createElement(r),i.className=u,i.setAttribute("aria-hidden","true"),i.setAttribute("role","presentation"),h+=1,n.appendChild(i),i},getNearestBreakIndex:function(t,e,n){if(!t||!t.length)return 0;var i,o=n._getWidthFn(),r=0,h=0,l=o(t),u=l/t.length;if(i=e,r=s(e/u),l<e)return t.length-1;for(r>t.length&&(i=e-l,r=t.length);i>0;){if(i=e-o(t.substr(0,r)),h=a(i/u),!h)return r;r+=h}for(;i<0;){if(i=e-o(t.substr(0,r)),h=a(i/u),!h)return r;r+=h}return r},setLineHeight:function(t){var e=t.fontSize=t.fontSize||"12px";return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t}}}};e.default=n,t.exports=e.default}),mt=n(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e,n){var i;n=n>5?n:5,n=n<20?n:20,this.maxContainers=n,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&(i=s.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/2000/svg","height","0"),i.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=i,this.rootNode.appendChild(i))}var i=gt,o=e(i),r=o.default.init("undefined"!=typeof window?window:void 0),s=r.win.document,a=r.getDocumentSupport(),h=a.isWebKit?0:4.5;n.prototype.get=function(t){var e,n,i,o=this.containers,s=this.length,a=this.maxContainers,h="";for(n in r.supportedStyle)void 0!==t[n]&&(h+=r.supportedStyle[n]+":"+t[n]+";");if(!h)return!1;if(i=o[h])this.first!==i&&(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.next=this.first,i.next.prev=i,this.last===i&&(this.last=i.prev),i.prev=null,this.first=i);else{if(s>=a)for(e=s-a+1;e--;)this.removeContainer(this.last);i=this.addContainer(h)}return i},n.prototype.addContainer=function(t){var e,n;return this.containers[t]=n={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},n.next=this.first,n.next&&(n.next.prev=n),this.first=n,this.last||(this.last=n),this.length+=1,e=n.node=s.createElement("div"),this.rootNode.appendChild(e),a.isIE&&!a.hasSVG?e.style.setAttribute("cssText",t):e.setAttribute("style",t),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=r.testStrAvg,n.lineHeight=e.offsetHeight,n.avgCharWidth=e.offsetWidth/3,a.isBrowserLess?(e=n.svgText=s.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("style",t),this.svgRoot.appendChild(e),e.textContent=r.testStrAvg,n.lineHeight=e.getBBox().height,n.avgCharWidth=(e.getBBox().width-h)/3,e.textContent="...",n.ellipsesWidth=e.getBBox().width-h,e.textContent=".",n.dotWidth=e.getBBox().width-h):(e.innerHTML="...",n.ellipsesWidth=e.offsetWidth,e.innerHTML=".",n.dotWidth=e.offsetWidth,e.innerHTML=""),n},n.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node.parentNode.removeChild(t.node),delete this.containers[e])},n.prototype.dispose=function(){var t,e=this.containers;this.maxContainers=null;for(t in e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null},t.exports=n}),yt=n(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o){var r,s,u,c,p=!1,f=i.store;if("undefined"!=typeof t&&"object"!=typeof t){(c=f[t])&&c.dispose(),f[t]=this,o=o||{},o.maxCacheLimit=isFinite(u=o.maxCacheLimit)?u:h.maxDefaultCacheLimit,"string"==typeof e&&(e=l.getElementById(e)),r=h.createContainer(e),r.innerHTML=h.testStrAvg,!g.isHeadLess&&(g.isIE||r.offsetHeight||r.offsetWidth)||(p=!0),r.innerHTML="";for(s in h.parentContainerStyle)r.style[s]=h.parentContainerStyle[s];this.id=t,this.parentContainer=r,this._containerManager=new a.default(r,p,10),this._showNoEllipses=!n,this._init=!0,this.style={},this.options=o,this.setStyle()}}Object.defineProperty(e,"__esModule",{value:!0});var o=gt,r=n(o),s=mt,a=n(s),h=r.default.init("undefined"!=typeof window?window:void 0),l=h.win.document,u=h.win.Math,c=u.max,p=u.round,f="",d={" ":"&nbsp;"},g=h.getDocumentSupport(),m=g.isWebKit?0:4.5;i.textToLines=function(t){return t=t||{},t.text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},i.store={},i.prototype._calCharDimWithCache=function(t,e,n){if(!this._init)return!1;var i,o,r,s,a,h,l=this.options.maxCacheLimit,u=this._container,c=this.style||{},p=this._advancedCache||(this._advancedCache={}),g=this._advancedCacheKey||(this._advancedCacheKey=[]),m=t+(c.fontSize||f)+(c.fontFamily||f)+(c.fontWeight||f)+(c.fontStyle||f),y=t+"init"+(c.fontSize||f)+(c.fontFamily||f)+(c.fontWeight||f)+(c.fontStyle||f);return d[t]&&(t=d[t]),e?void 0===(h=p[y])&&(u.innerHTML=t.repeat?t.repeat(n):Array(n+1).join(t),r=u.offsetWidth,u.innerHTML=t,s=u.offsetWidth,h=p[y]=(r-n*s)/(n+1),g.push(y),g.length>l&&delete p[g.shift()]):h=0,(a=p[m])?(o=a.split(","),{width:parseFloat(o[0],10),height:parseFloat(o[1],10)}):(u.innerHTML=t,i={height:u.offsetHeight,width:u.offsetWidth+h},p[m]=i.width+","+i.height,g.push(m),g.length>l&&delete p[g.shift()],i)},i.prototype._getWidthFn=function(){var t=this._containerObj,e=this._container,n=t.svgText;return n?function(t){var e,i;return n.textContent=t,e=n.getBBox(),i=e.width-m,i<1&&(i=e.width),i}:function(t){return e.innerHTML=t,e.offsetWidth}},i.prototype.setStyle=function(t){if(!this._init)return this;var e;if(t!==this.style||this._styleNotSet)return t||(t=this.style),h.setLineHeight(t),this.style=t,this._containerObj=e=this._containerManager.get(t),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,this},i.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},i.prototype.getSmartText=function(t,e,n,i){if(!this._init)return!1;void 0===t||null===t?t="":"string"!=typeof t&&(t=t.toString());var o,r,s,a,u,p,f,d,m,y,v,w,x,b,_,C,S,N,M,T,I,B,A,W,L,H,E=!1,D=0,R=-1,G=-1,j=-1,O=0,k=0,F=[],z=0,P=this._showNoEllipses?"":"...",V=this._lineHeight,q=this._context,K=this._container,U=this._containerObj,$=U.ellipsesWidth,X=U.dotWidth,Z=[],J=-1,Q=-1,Y=-1,tt=function(t){t=t.replace(/^\s\s*/,"");for(var e=/\s/,n=t.length;e.test(t.charAt(n-=1)););return t.slice(0,n+1)},et={text:t,maxWidth:e,maxHeight:n,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(w=this._getWidthFn(),n===V&&(n*=1.2),K){if(!g.isBrowserLess){if(E=h.xmlTagRegEx.test(t),E?(K.innerHTML=t,et.oriTextWidth=f=K.offsetWidth,et.oriTextHeight=d=K.offsetHeight):(a=t.replace(h.ltgtRegex,function(t){return"&lt;"===t?"<":">"}),_=this.getOriSize(a,!0),et.oriTextWidth=f=_.width,et.oriTextHeight=d=_.height),d<=n&&f<=e)return et.width=et.oriTextWidth=f,et.height=et.oriTextHeight=d,et;if(V>n)return et.text="",et.width=et.oriTextWidth=0,et.height=et.oriTextHeight=0,et}if(t=tt(t).replace(/(\s+)/g," "),u=this._showNoEllipses?e:e-$,!E){if(F=t.split(""),o=F.length,r="",s=[],v=F[0],this._cache[v]?M=this._cache[v].width:(M=w(v),this._cache[v]={width:M}),u>M)s=t.substr(0,h.getNearestBreakIndex(t,u,this)).split(""),z=s.length;else{if(M>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;P&&(u=e-2*X,u>M?P="..":(u=e-X,u>M?P=".":(u=0,P="")))}if(O=w(s.join("")),k=this._lineHeight,i){for(;z<o;z+=1)if(v=s[z]=F[z],this._cache[v]?M=this._cache[v].width:(_&&(M=_.detailObj[v])||(M=w(v)),this._cache[v]={width:M}),O+=M,O>u&&(r||(r=s.slice(0,-1).join("")),O>e))return et.text=tt(r)+P,et.tooltext=et.oriText,et.width=w(et.text),et.height=this._lineHeight,et;return et.text=s.join(""),et.width=O,et.height=this._lineHeight,et}for(;z<o;z+=1)if(v=s[z]=F[z]," "!==v||q||(v="&nbsp;"),this._cache[v]?M=this._cache[v].width:(_&&(M=_.detailObj[v])||(M=w(v)),this._cache[v]={width:M}),O+=M,O>u&&(r||(r=s.slice(0,-1).join("")),O>e)){if(G=t.substr(0,s.length).lastIndexOf(" "),R=t.substr(0,s.length).lastIndexOf("-"),G>j?(O=w(s.slice(j+1,G).join("")),s.splice(G,1,"<br/>"),j=G,m=G+1):R>j?(R===s.length-1?(O=w(s.slice(j+1,G).join("")),s.splice(R,1,"<br/>-")):(O=w(s.slice(j+1,G).join("")),s.splice(R,1,"-<br/>")),j=R,m=R+1):(s.splice(s.length-1,1,"<br/>"+F[z]),Y=s.length-2,O=w(s.slice(j+1,Y+1).join("")),j=Y,m=z),k+=this._lineHeight,k>n)return et.text=tt(r)+P,et.tooltext=et.oriText,et.width=e,et.height=k-this._lineHeight,et;D=c(D,O),r=null,y=h.getNearestBreakIndex(t.substr(m),u,this),O=w(t.substr(m,y||1)),s.length<m+y&&(s=s.concat(t.substr(s.length,m+y-s.length).split("")),z=s.length-1)}return D=c(D,O),et.text=s.join(""),et.width=D,et.height=k,et}for(p=t.replace(h.spanAdditionRegx,"$2"),t=t.replace(h.spanAdditionRegx,h.spanAdditionReplacer),t=t.replace(/(<br\s*\/*\>)/g,'<span class="'+[h.classNameWithTag," ",h.classNameWithTagBR].join("")+'">$1</span>'),K.innerHTML=t,C=K[g.childRetriverFn](g.childRetriverString),S=0,N=C.length;S<N;S+=1)T=C[S],(g.noClassTesting||h.classNameReg.test(T.className))&&(I=T.innerHTML,""!==I&&(" "===I?Q=Z.length:"-"===I&&(J=Z.length),Z.push({spaceIdx:Q,dashIdx:J,elem:T}),F.push(I)));if(z=0,o=Z.length,M=Z[0].elem.offsetWidth,M>e)return et.text="",et.width=et.oriTextWidth=et.height=et.oriTextHeight=0,et;if(M>u&&!this._showNoEllipses&&(u=e-2*X,u>M?P="..":(u=e-X,u>M?P=".":(u=0,P=""))),x=Z[0].elem.offsetLeft,b=Z[0].elem.offsetTop,i)for(;z<o;z+=1)T=Z[z].elem,B=T.offsetLeft-x+T.offsetWidth,B>u&&(H||(H=z),K.offsetWidth>e&&(L=z,z=o));else for(;z<o;z+=1)T=Z[z].elem,A=T.offsetHeight+(T.offsetTop-b),B=T.offsetLeft-x+T.offsetWidth,W=null,B>u?(H||(H=z),B>e&&(G=Z[z].spaceIdx,R=Z[z].dashIdx,G>j?(Z[G].elem.innerHTML="<br/>",j=G):R>j?(R===z?Z[R].elem.innerHTML="<br/>-":Z[R].elem.innerHTML="-<br/>",j=R):T.parentNode.insertBefore(W=l.createElement("br"),T),T.offsetHeight+T.offsetTop>n?(W?W.parentNode.removeChild(W):j===R?Z[R].elem.innerHTML="-":Z[G].elem.innerHTML=" ",L=z,z=o):H=null)):A>n&&(L=z,z=o);if(L<o){for(et.isTruncated=!0,H=H?H:L,z=o-1;z>=H;z-=1)T=Z[z].elem,T.parentNode.removeChild(T);for(;z>=0;z-=1)T=Z[z].elem,h.classNameBrReg.test(T.className)?T.parentNode.removeChild(T):z=0}return et.text=K.innerHTML.replace(h.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),et.isTruncated&&(et.text+=P,et.tooltext=p),et.height=K.offsetHeight,et.width=K.offsetWidth,et}return et.error=new Error("Body Tag Missing!"),et},i.prototype.getOriSize=function(t,e){if(!this._init)return!1;var n,i,o,r,s,a=0,h=0,l={};if(!e)return this._calCharDimWithCache(t);for(n=t.split(""),r=0,s=n.length;r<s;r++)i=n[r],o=this._calCharDimWithCache(i,!0,n.length),h=c(h,o.height),a+=o.width,l[i]=o.width;return{width:p(a),height:h,detailObj:l}},i.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this},e.default=i,t.exports=e.default}),vt=e(yt),wt="px",xt=300,bt=new vt((new Date).getTime()),_t=window.d3;l.prototype.init=function(t){var e,n=this;this.container=_t.select(t),this.container.node().groupId=this.groupId,e={position:"absolute","z-index":999999,overflow:"wrap",display:"none"},n.on("mouseout",function(t){var e=_t.event.toElement||_t.event.relatedTarget;e&&e.groupId===t.groupId||n.hide()},"default"),s(this.container,e)},l.prototype.getContainer=function(){return this.container},l.prototype.setParentListContainer=function(t){this.parentListCon=t},l.prototype.getDimensions=function(){var t,e=this.container,n=e.node();return e.style("display","block"),t={width:n.offsetWidth,height:n.offsetHeight},e.style("display","none"),t},l.prototype.show=function(t){var e,n,i,o,r,a,l=this.hideFnIds,u={},c=this.parentListCon,p=0,f=this.container.datum(),d=f.measurement||t,g=f.position,m=window.innerWidth,y=function(){var t=n.offsetLeft+n.offsetWidth+r.offsetWidth>m,e=n.offsetLeft-r.offsetWidth<0;return e?1:t?2:0};for(this.visible=!0,i=l.length;p<i;p++)clearTimeout(l[p]);l.length=0,t=this.target=t||this.target,this.container.style("display","block"),c?(c.show(),n=c.getContainer().node(),u.top=n.offsetTop+t.offsetTop+wt,r=this.container.node(),a=y(r,n),"right"===g?(u.left=(2===a?n.offsetLeft-r.offsetWidth:n.offsetLeft+n.offsetWidth)+wt,u.right="auto"):(u.left=(2===a||0===a?n.offsetLeft-r.offsetWidth:n.offsetLeft+n.offsetWidth)+wt,u.right="auto")):!h(t)&&t&&t.getBBox?(e=t.getBBox(),o=this.container.node().offsetWidth,u.top=e.y+e.height+3+wt,"left"===g?(u.left=e.x+wt,u.right="auto"):"right"===g&&(u.left=e.x+e.width-o+wt,u.right="auto")):d&&(u={left:void 0===d.left?"auto":d.left+wt,top:void 0===d.top?"auto":d.top+wt,right:void 0===d.right?"auto":d.right+wt,bottom:void 0===d.bottom?"auto":d.bottom+wt,width:void 0===d.width?"auto":d.width+wt,height:void 0===d.height?"auto":d.height+wt}),s(this.container,u)},l.prototype.hide=function(t){var e=this,n=e.parentListCon,i=e.onhide,o=void 0===t?xt:t;n&&n.hide(o),this.visible=!1,this.hideFnIds.push(setTimeout(function(){e.container.style("display","none"),i&&i()},o))},l.prototype.classed=function(t,e){this.container.classed(t,e)},l.prototype.on=function(t,e,n){"undefined"==typeof this.container.node()["on"+t]?this["on"+t]=e:this.container.on(t+"."+(n||"custom"),e)},u.prototype.setConfig=function(t){return r(t,this.config),this},u.prototype.setMeasurement=function(t){var e=this.getFirstContainer();return e?e.getContainer().datum().measurement=t:this.measurement=t,this},u.prototype.setPosition=function(t){return this.position=t,this},u.prototype.classed=function(t,e){return this.container.classed(t,e),this.subContainers.forEach(function(n){n.classed(t,e)}),this},u.prototype.add=function(t,e){var n,i,o,r,a,h,u=this,c=u.parentContainer,p=this.config,f=p.listItem||{},d=f.classNames||{},g=d.normal,m=function(t){var e=u.config,n=e.listItem||{},i=n.classNames||{},o=i.hover,r=t.subContainer;t.parentContainer&&t.parentContainer.show(),t.interactivity!==!1&&t.listItem.classed(o,!0),r&&r.show(this)},y=function(t){var e=u.config,n=e.listItem||{},i=n.classNames||{},o=i.hover;t.interactivity!==!1&&t.listItem.classed(o,!1),t.subContainer&&t.subContainer.hide()},v=function(){return this.parentNode===c.node()},w=function(t){t.parentContainer&&t.parentContainer.hide(1),t.subContainer&&t.subContainer.hide(1)},x=function(t){t.container.init(this)},b=p.container&&p.container.classNames||{},_=b.normal,C=u.containerData||(u.containerData=[]),S=0,N={left:8,right:8,top:3,bottom:3},M={margin:"2px 2px 2px 2px",display:"block"},T={height:"1px",margin:"1px",padding:"0px",display:"block"},I="&#9666;";return C[S]?n=C[S].container:C[S]={container:n=new l(this.groupId),groupId:this.groupId,measurement:this.measurement,position:this.position},o=c.selectAll("div").filter(v).data(C),o.enter().append("div").each(x),n.classed(_,!0),this.container=n,S++,t=u.listItems=u.listItems.concat(t),function t(e,n){var o,p,f,d,b,B,A,W;return A=n?n:u.container,f=A.getContainer(),o=e instanceof Array?e:[e],B=f.selectAll("div").data(o),B.exit().style("display","none"),W=B.enter().append("div").merge(B),W.each(function(e){var n,o,B,W;W=e.name,n=e.action,o=e.handler,B=e.className,h=e.padding||{},p=_t.select(this).classed(g,!0),B&&p.classed(e.className,!0),e.listItem=p,e.parentContainer=A,s(p,e.divider?T:M),o&&"function"!=typeof o?(s(p,{"padding-right":(h.right||N.right)+"px","padding-bottom":(h.bottom||N.bottom)+"px","padding-top":(h.top||N.top)+"px"}),r=[{html:I,style:{"padding-left":N.left+wt}},{html:W,style:{"padding-left":h.left-bt.getOriSize("&#9666;").width-N.left+"px"}}],a=p.selectAll("span").data(r),a.enter().append("span").merge(a).each(function(t){s(_t.select(this).html(t.html),t.style)}),C[S]?f=C[S].container:C[S]={container:f=new l(u.groupId),groupId:u.groupId,position:u.position},S++,i=c.selectAll("div").filter(v).data(C),i.enter().append("div").each(x),d=t(o,f),d.classed(_,!0),e.subContainer=d,d.setParentListContainer(A)):(p.html(W),e.divider!==!0&&s(p,{"padding-left":(h.left||N.left)+"px","padding-right":(h.right||N.right)+"px","padding-bottom":(h.bottom||N.bottom)+"px","padding-top":(h.top||N.top)+"px"})),p.on("mouseover.default",m),p.on("mouseout.default",y),p.on("click.default",w),n&&p.on(n+".custom",b)}),A}(t,e),u},u.prototype.show=function(t){0!==this.listItems.length&&this.container.show(t)},u.prototype.hide=function(){0!==this.listItems.length&&this.container.hide()},u.prototype.toggleVisibility=function(){0!==this.listItems.length&&(this.container.visible?this.hide():this.show())},u.prototype.getFirstContainer=function(){return this.container},u.prototype.flushItems=function(){this.listItems.length=0};var Ct="http://www.w3.org/1999/xhtml",St={svg:"http://www.w3.org/2000/svg",xhtml:Ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Nt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),St.hasOwnProperty(e)?{space:St[e],local:t}:t},Mt=function(t){var e=Nt(t);return(e.local?f:p)(e)},Tt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var It=document.documentElement;if(!It.matches){var Bt=It.webkitMatchesSelector||It.msMatchesSelector||It.mozMatchesSelector||It.oMatchesSelector;Tt=function(t){return function(){return Bt.call(this,t)}}}}var At=Tt,Wt={},Lt=null;if("undefined"!=typeof document){var Ht=document.documentElement;"onmouseenter"in Ht||(Wt={mouseenter:"mouseover",mouseleave:"mouseout"})}var Et=function(t,e,n){var i,o,r=m(t+""),s=r.length;{if(!(arguments.length<2)){for(a=e?v:y,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var h,l=0,u=a.length;l<u;++l)for(i=0,h=a[l];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}},Dt=function(t){return null==t?w:function(){return this.querySelector(t)}},Rt=function(t){"function"!=typeof t&&(t=Dt(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=e[o],h=a.length,l=i[o]=new Array(h),u=0;u<h;++u)(r=a[u])&&(s=t.call(r,r.__data__,u,a))&&("__data__"in r&&(s.__data__=r.__data__),l[u]=s);return new ot(i,this._parents)},Gt=function(t){return null==t?x:function(){return this.querySelectorAll(t)}},jt=function(t){"function"!=typeof t&&(t=Gt(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s,a=e[r],h=a.length,l=0;l<h;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),o.push(s));return new ot(i,o)},Ot=function(t){"function"!=typeof t&&(t=At(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,h=i[o]=[],l=0;l<a;++l)(r=s[l])&&t.call(r,r.__data__,l,s)&&h.push(r);return new ot(i,this._parents)},kt=function(t){return new Array(t.length)},Ft=function(){return new ot(this._enter||this._groups.map(kt),this._parents)};b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var zt=function(t){return function(){return t}},Pt="$",Vt=function(t,e){if(!t)return f=new Array(this.size()),l=-1,this.each(function(t){f[++l]=t}),f;var n=e?C:_,i=this._parents,o=this._groups;"function"!=typeof t&&(t=zt(t));for(var r=o.length,s=new Array(r),a=new Array(r),h=new Array(r),l=0;l<r;++l){var u=i[l],c=o[l],p=c.length,f=t.call(u,u&&u.__data__,l,i),d=f.length,g=a[l]=new Array(d),m=s[l]=new Array(d),y=h[l]=new Array(p);n(u,c,g,m,y,f,e);for(var v,w,x=0,b=0;x<d;++x)if(v=g[x]){for(x>=b&&(b=x+1);!(w=m[b])&&++b<d;);v._next=w||null}}return s=new ot(s,i),s._enter=a,s._exit=h,s},qt=function(){return new ot(this._exit||this._groups.map(kt),this._parents)},Kt=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var h,l=e[a],u=n[a],c=l.length,p=s[a]=new Array(c),f=0;f<c;++f)(h=l[f]||u[f])&&(p[f]=h);for(;a<i;++a)s[a]=e[a];return new ot(s,this._parents)},Ut=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},$t=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s,a=n[r],h=a.length,l=o[r]=new Array(h),u=0;u<h;++u)(s=a[u])&&(l[u]=s);l.sort(e)}return new ot(o,this._parents).order()},Xt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Zt=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Jt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},Qt=function(){var t=0;return this.each(function(){++t}),t},Yt=function(){return!this.node()},te=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},ee=function(t,e){var n=Nt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?M:N:"function"==typeof e?n.local?A:B:n.local?I:T)(n,e))},ne=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},ie=function(t,e,n){var i;return arguments.length>1?this.each((null==e?W:"function"==typeof e?H:L)(t,e,null==n?"":n)):ne(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},oe=function(t,e){return arguments.length>1?this.each((null==e?E:"function"==typeof e?R:D)(t,e)):this.node()[t]};O.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var re=function(t,e){var n=G(t+"");if(arguments.length<2){for(var i=j(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?V:e?z:P)(n,e))},se=function(t){return arguments.length?this.each(null==t?q:("function"==typeof t?U:K)(t)):this.node().textContent},ae=function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?Z:X)(t)):this.node().innerHTML},he=function(){return this.each(J)},le=function(){return this.each(Q)},ue=function(t){var e="function"==typeof t?t:Mt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},ce=function(t,e){var n="function"==typeof t?t:Mt(t),i=null==e?Y:"function"==typeof e?e:Dt(e);
return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},pe=function(){return this.each(tt)},fe=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},de=function(t,e){return this.each(("function"==typeof e?it:nt)(t,e))},ge=[null];ot.prototype=rt.prototype={constructor:ot,select:Rt,selectAll:jt,filter:Ot,data:Vt,enter:Ft,exit:qt,merge:Kt,order:Ut,sort:$t,call:Xt,nodes:Zt,node:Jt,size:Qt,empty:Yt,each:te,attr:ee,style:ie,property:oe,classed:re,text:se,html:ae,raise:he,lower:le,append:ue,insert:ce,remove:pe,datum:fe,on:Et,dispatch:de};var me=function(t){return"string"==typeof t?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],ge)};document&&document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>');var ye="px",ve="",we=new vt((new Date).getTime()),xe={button:["container","text","symbol"],inputButton:["container","text","input"],selectButton:["container","text","arrow"]},be=function(t,e){var n,i=xe[e],o={},r=i.length;for(n=0;n<r;n++)o[i[n]]=t+"-"+i[n];return o},_e=function(){return{container:{classNames:{normal:"fc-dropdown-default"}},listItem:{classNames:{normal:"fc-dropdownlistitem-default",hover:"fc-dropdownlistitem-state-hover",selected:"fc-dropdownlistitem-state-selected"}}}};st.prototype.dispose=function(){this.buttonGroup&&this.buttonGroup.remove()},st.prototype.setConfig=function(t){return r(t,this.config),this},st.prototype.getConfig=function(t){return this.config[t]},st.prototype.getLogicalSpace=function(){var t=this.config,e=t.className,n=this.getCompositeClassNames(e),i=n.text,r=this.symbol,s=t.padding,a=s.left,h=s.right,l=s.top,u={width:0,height:0};return"string"==typeof r&&(u=o(r,i,me("svg"),we)),t.width=void 0===t.width?Math.max(u.width+a+h,t.width||0):t.width,t.height=void 0===t.height?Math.max(u.height+l+h,t.height||0):t.height,this.logicalSpace={width:t.width,height:t.height}},st.prototype.getCompositeClassNames=function(t){return be(t,"button")},st.prototype.setParentGroup=function(t){this.parentGroup=t},st.prototype.draw=function(t,e,n){var i,o,r,s,h,l=this.config,u=this.getCompositeClassNames(l.className),c=u.container,p=u.text,f=u.symbol,d=this.buttonGroup,g=this.elements,m=g.container,y=g.text,v=g.symbol,w=this.symbol,x=n||this.parentGroup,b=l.padding,_=b.left,C=b.right,S=b.top,N=b.bottom,M=l.radius;return this.parentGroup=x,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,o=i.width,r=i.height,d||(d=this.buttonGroup=n.append("g")),m||(m=g.container=d.append("rect")),m.attr("x",t).attr("y",e).attr("width",o).attr("height",r).classed(c,!0).attr("rx",M).attr("ry",M),"string"==typeof w?(y||(y=d.append("text")),h={x:t+_,y:e+S,width:o-C-_,height:r-N-S},y.text(w).attr("x",h.x+h.width/2).attr("y",h.y+h.height/2).attr("dy","0.35em").attr("text-anchor","middle").attr("pointer-events","none").classed(p,!0)):"function"==typeof w&&(s=w(t+_,e+S,o-(_+C),r-(S+N),b),v||(v=d.append(s.type)),v.attr("pointer-events","none").classed(f,!0),a(v,s.attrs)),this.buttonGroup=d,this.postDraw(),this},st.prototype.bindEventListeners=function(){var t,e=this.eventMap;for(t in e)this.on(t,e[t]);return this},st.prototype.postDraw=function(){this.addHoverEvents(),this.bindEventListeners()},st.prototype.addHoverEvents=function(){var t=this;t.on("mouseover",function(){t.setState("hover")},"default"),t.on("mouseout",function(){t.removeState("hover")},"default")},st.prototype.classed=function(t,e){var n=this.elements,i=be(t,"button");return n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),this},st.prototype.on=function(t,e,n){return this.buttonGroup.on(t+"."+(n||"custom"),e),this},st.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this},st.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this},st.prototype.disable=function(t){this.elements.container&&this.elements.container.attr("pointer-events",t?"none":"")},st.prototype.getBoundElement=function(){return this.elements.container.node()},st.prototype.setState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!0),this.classed(i,!0)},st.prototype.removeState=function(t){var e=this.config,n=e.states,i=n[t];"disabled"===t&&this.disable(!1),this.classed(i,!1)},st.prototype.attachEventHandlers=function(t){this.eventMap=t},at.prototype=Object.create(st.prototype),at.prototype.draw=function(t,e,n){var i,o,r,h,l,u,c,p,f=this,d=this.config,g=this.getCompositeClassNames(d.className),m=g.container,y=g.text,v=g.input,w=this.elements,x=w.container,b=w.text,_=w.inputBox,C=d.padding,S=C.left,N=C.right,M=C.top,T=C.bottom,I=n||this.parentGroup,B=this.buttonGroup;return!B&&(B=this.buttonGroup=n.append("g")),this.parentGroup=I,c=I.node().ownerSVGElement.parentNode,this.logicalSpace||(i=this.getLogicalSpace()),i=this.logicalSpace,o=i.width,r=i.height,x||(x=w.container=B.append("rect")),a(x,{x:t,y:e,width:o,height:r,class:m}),!b&&(b=w.text=B.append("text")),b.text(this.symbol||ve),h={x:t+S,y:e+M,width:o-N-S,height:r-T-M},p={x:h.x,y:h.y+h.height/2,dy:"0.35em"},a(b,p),b.classed(y,!0),!_&&(_=w.inputBox=me(c).append("input")),l=b.node().getBBox(),u={position:"absolute",top:l.y+ye,left:l.x+ye,width:o-(S+N)+ye,height:l.height+ye,"-webkit-apperance":"none",outline:"none",margin:"0px",border:"0px",padding:"0px",visibility:"hidden"},_.classed(v,!0),s(_,u),this.buttonGroup=B,_.attr("value",this.symbol),f.on("click",f.edit.bind(f),"default"),f.on("blur",f.blur.bind(f),"default"),this.postDraw(),f},at.prototype.classed=function(t,e){var n=this.elements,i=be(t,"inputButton");return n.container&&n.container.classed(i.container,e),n.text&&n.text.classed(i.text,e),n.symbol&&n.symbol.classed(i.symbol,e),n.inputBox&&n.inputBox.classed(i.input,e),this},at.prototype.blur=function(){var t,e=this.elements,n=e.inputBox,i=e.text,o=n.node(),r=o.value,s=o.offsetWidth,a=o.offsetHeight;return n&&n.style("visibility","hidden"),t=we.getSmartText(r,s,a),i&&i.attr("visibility","visible").text(t.text),this},at.prototype.edit=function(){var t=this.elements,e=t.inputBox,n=e.node(),i=n.value.length;return e.style("visibility","visible"),n.setSelectionRange(i,i),n.focus(),t.text.attr("visibility","hidden"),this},at.prototype.getCompositeClassNames=function(t){return be(t,"inputButton")},at.prototype.text=function(t){var e=this.elements.inputBox;return t?e.attr("value",t):e.attr("value")},at.prototype.on=function(t,e,n){var i=this.elements.inputBox,o=t+"."+(n||"custom");switch(t){case"blur":case"change":case"keypress":i.on(o,e);break;default:this.buttonGroup.on(o,e)}return this},at.prototype.hide=function(){return this.buttonGroup.attr("visibility","hidden"),this.elements.inputBox.attr("visibility","hidden"),this},at.prototype.show=function(){return this.buttonGroup.attr("visibility","visible"),this.elements.inputBox.attr("visibility","visible"),this},ut.prototype=Object.create(st.prototype),ut.prototype.getLogicalSpace=function(){var t,e,n,i,r=this.config,s=r.width,a=r.height,h=this.options||[],l=this.getCompositeClassNames(r.className),u=l.text,c=this.parentGroup,p=r.padding,f=p.left,d=p.right,g=p.top,m=p.bottom,y=0,v=0,w=h.length;if(s&&a)return this.logicalSpace={width:s,height:a};for(i=0;i<w;i++)t=h[i],e=t.name,n=o(e,u,c,we),y=Math.max(n.width,y),v=Math.max(n.height,v);return{width:y+f+d,height:v+g+m}},ut.prototype.draw=function(t,e,n){var i,o,r,s,a,h,l,u=this.buttonGroup,c=this.elements,p=c.container,f=c.text,d=c.arrow,g=8,m=4,y=this.config,v=this.getCompositeClassNames(y.className),w=v.container,x=v.text,b=v.arrow,_=this.config.padding,C=_.left,S=_.right,N=_.top,M=_.bottom,T=this.options||[],I=n||this.parentGroup,B=this.logicalSpace,A=T[0]&&T[0].name;return this.parentGroup=I,this.logicalSpace||(B=this.getLogicalSpace()),h=B.width,l=B.height,!u&&(u=this.buttonGroup=n.append("g")),!p&&(p=c.container=u.append("rect")),p.attr("x",t).attr("y",e).attr("width",h).attr("height",l).classed(w,!0),!f&&(f=c.text=u.append("text")),f.text("W"),i={x:t+C,y:e+N,width:h-(S+C)-g,height:l-(M+N)},f.attr("x",i.x).attr("y",i.y+i.height/2).attr("dy","0.35em").attr("pointer-events","none").classed(x,!0),a=f.node().getBBox(),f.text(A),r=t+h-S-g,s=a.y+a.height/2-m/2,o=["M",r,s,"L",r+g,s,"L",r+g/2,s+m,"Z"],!d&&(d=c.arrow=u.append("path")),d.attr("d",o.toString().replace(/,/g," ")).classed(b,!0).attr("pointer-events","none"),this.buttonGroup=u,this.postDraw(),this},ut.prototype.text=function(t){return this.buttonGroup.select("text").text(t)},ut.prototype.value=function(t){var e=this.dropDownMenu,n=this,i=e.container.getContainer();i.selectAll("div").each(function(e){var i;e.value===t&&(i=me(this),n.selectedItem&&n.selectedItem.classed("selected",!1),i.classed("selected",!0),n.text(i.datum().name),n.selectedItem=i)})},ut.prototype.createMenu=function(t){var e=this,n=this.dropDownMenu,i=this.elements.container.node(),o=this.config.dropDownMenu||{},r=o.container||{},s=o.listItem||{},a=r.classNames||{},h=s.classNames||{},l=i.getBBox();return n||(n=this.dropDownMenu=new c(me(t))),n.setConfig({listItem:{classNames:{normal:h.normal,hover:h.hover}},container:{classNames:{normal:a.normal}}}),n.setMeasurement({top:l.y+l.height,left:l.x,width:l.width}),i.groupId=n.groupId,this.on("mouseout",function(){0===n.listItems.length&&e.onBlur&&e.onBlur(),n.hide()},"default"),this.on("click",function(){n.toggleVisibility()},"default"),this.add(this.options),this},ut.prototype.postDraw=function(){st.prototype.postDraw.call(this);var t=this,e=t.parentGroup,n=e.node().ownerSVGElement.parentNode;this.on("click",function(){t.setState("selected")},"selected"),this.on("blur",function(){t.removeState("selected")}),this.createMenu(n)},ut.prototype.add=function(t){var e,n,i,o=this.dropDownMenu,r=this,s=this.elements.container.node().getBBox(),a=window.innerHeight;0!==t.length&&o.add(t),i=o.getFirstContainer(),i&&(i.on("hide",this.onBlur),e=i.getContainer(),n=i.getDimensions(),s.y+s.height+n.height>a&&o.setMeasurement({top:s.y-n.height,left:s.x,width:s.width}),e.selectAll("div").on("click.selected",this.onSelect()).each(function(t,e){0===e&&(r.selectedItem=r.selectItem(me(this),!0))}))},ut.prototype.setPlaceHolderValue=function(){},ut.prototype.updateList=function(t){var e=this.dropDownMenu;e.flushItems(),this.add(t),this.text(t[0]&&t[0].name||ve)},ut.prototype.selectItem=function(t,e){var n=this.config.dropDownMenu||{},i=n.listItem||{},o=i.classNames||{};return t.classed(o.selected,e)},ut.prototype.onSelect=function(){var t=this;return function(e){var n=me(this),i=t.selectedItem,o=t.onChange;i&&t.selectItem(i,!1),t.selectedItem=t.selectItem(n,!0),t.text(e.name),t.selectedItem=n,o&&o()}},ut.prototype.on=function(t,e,n){switch(t){case"change":this.onChange=e;break;case"blur":this.onBlur=e;break;default:this.buttonGroup.on(t+"."+(n||"custom"),e)}return this},ut.prototype.getCompositeClassNames=function(t){return be(t,"selectButton")},ct.prototype=Object.create(st.prototype),ct.prototype.add=function(t){var e=this.dropDownMenu;e.add(pt(t))},ct.prototype.postDraw=function(){st.prototype.postDraw.call(this);var t=this,e=t.elements.container.node().getBBox(),n={};this.on("mouseover",function(){var i,o=t.dropDownMenu.getFirstContainer(),r=o.getDimensions();i=r.width,n.top=e.y+e.height+3,n.left=e.x+e.width-i,t.dropDownMenu.show(n)}),this.on("mouseout",function(){t.dropDownMenu.hide()})},ct.prototype.showListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"block"})},ct.prototype.hideListItem=function(t){var e=this.dropDownMenu,n=e.getFirstContainer().getContainer();n.selectAll("div").style("display",function(e){return e.id===t&&"none"})},t.button=ht,t.selectButton=dt,t.inputButton=lt,t.buttonWithContextMenu=ft,t.dropDownMenu=c,Object.defineProperty(t,"__esModule",{value:!0})});